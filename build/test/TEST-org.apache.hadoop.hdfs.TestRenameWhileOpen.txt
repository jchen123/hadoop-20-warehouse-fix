Testsuite: org.apache.hadoop.hdfs.TestRenameWhileOpen
Tests run: 4, Failures: 0, Errors: 0, Time elapsed: 62.021 sec
------------- Standard Output ---------------
2011-08-09 20:07:22,580 WARN  conf.Configuration (Configuration.java:<clinit>(191)) - DEPRECATED: hadoop-site.xml found in the classpath. Usage of hadoop-site.xml is deprecated. Instead use core-site.xml, mapred-site.xml and hdfs-site.xml to override properties of core-default.xml, mapred-default.xml and hdfs-default.xml respectively
Test 1*****************************
2011-08-09 20:07:22,944 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 20:07:22,947 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 20:07:22,947 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 20:07:22,948 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 20:07:22,979 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 20:07:22,980 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 20:07:22,980 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 20:07:23,092 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 20:07:23,159 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 95 saved in 0 seconds.
2011-08-09 20:07:23,162 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:23,164 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:23,164 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:23,165 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:23,188 INFO  common.Storage (FSImage.java:format(1394)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1 has been successfully formatted.
2011-08-09 20:07:23,237 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 95 saved in 0 seconds.
2011-08-09 20:07:23,237 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:23,238 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:23,238 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:23,239 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:23,251 INFO  common.Storage (FSImage.java:format(1394)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2 has been successfully formatted.
2011-08-09 20:07:23,273 INFO  jvm.JvmMetrics (JvmMetrics.java:init(71)) - Initializing JVM Metrics with processName=NameNode, sessionId=null
2011-08-09 20:07:23,369 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:07:23,369 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 20:07:23,370 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 20:07:23,370 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 20:07:23,370 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 20:07:23,444 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 20:07:23,444 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 20:07:23,445 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 20:07:23,445 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 20:07:23,470 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:07:23,471 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 20:07:23,481 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 20:07:23,488 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 1
2011-08-09 20:07:23,489 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 20:07:23,489 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 95 loaded in 0 seconds.
2011-08-09 20:07:23,492 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits of size 4 edits # 0 loaded in 0 seconds.
2011-08-09 20:07:23,493 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:23,494 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:23,494 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 20:07:23,495 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 53 msecs
2011-08-09 20:07:23,497 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 20:07:23,514 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 0
2011-08-09 20:07:23,515 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 20:07:23,515 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 0
2011-08-09 20:07:23,516 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 20:07:23,516 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 20:07:23,542 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:07:23,572 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=42989
2011-08-09 20:07:23,576 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:42989
2011-08-09 20:07:23,577 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:07:23,578 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 42989: starting
2011-08-09 20:07:23,579 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 42989: starting
2011-08-09 20:07:23,588 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 42989: starting
2011-08-09 20:07:23,589 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 42989: starting
2011-08-09 20:07:23,589 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 42989: starting
2011-08-09 20:07:23,590 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 42989: starting
2011-08-09 20:07:23,590 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 42989: starting
2011-08-09 20:07:23,590 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 42989: starting
2011-08-09 20:07:23,591 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 42989: starting
2011-08-09 20:07:23,591 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 42989: starting
2011-08-09 20:07:23,592 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 42989: starting
2011-08-09 20:07:23,718 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 20:07:23,719 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 0 racks and 0 datanodes
2011-08-09 20:07:23,720 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 0 blocks
2011-08-09 20:07:23,720 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 20:07:23,723 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:pendingReplicationCheck(201)) - PendingReplicationMonitor checking Q
2011-08-09 20:07:23,727 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 20:07:23,835 INFO  mortbay.log (Slf4jLog.java:info(67)) - Logging to org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via org.mortbay.log.Slf4jLog
2011-08-09 20:07:23,918 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:07:23,927 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:07:23,927 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 57235 webServer.getConnectors()[0].getLocalPort() returned 57235
2011-08-09 20:07:23,928 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 57235
2011-08-09 20:07:23,930 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:07:24,406 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:57235
2011-08-09 20:07:24,406 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:57235
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2
2011-08-09 20:07:24,524 INFO  common.Storage (DataStorage.java:recoverTransitionRead(124)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1 is not formatted.
2011-08-09 20:07:24,524 INFO  common.Storage (DataStorage.java:recoverTransitionRead(125)) - Formatting ...
2011-08-09 20:07:24,541 INFO  common.Storage (DataStorage.java:recoverTransitionRead(124)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2 is not formatted.
2011-08-09 20:07:24,542 INFO  common.Storage (DataStorage.java:recoverTransitionRead(125)) - Formatting ...
2011-08-09 20:07:24,684 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 20:07:24,685 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 47571
2011-08-09 20:07:24,688 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 20:07:24,694 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:07:24,698 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:07:24,698 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 36218 webServer.getConnectors()[0].getLocalPort() returned 36218
2011-08-09 20:07:24,698 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 36218
2011-08-09 20:07:24,699 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:07:24,998 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:36218
2011-08-09 20:07:25,000 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 20:07:25,007 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:07:25,009 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=48253
2011-08-09 20:07:25,010 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:07:25,010 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 48253: starting
2011-08-09 20:07:25,011 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 48253: starting
2011-08-09 20:07:25,011 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 48253: starting
2011-08-09 20:07:25,012 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:47571, storageID=, infoPort=36218, ipcPort=48253)
2011-08-09 20:07:25,014 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 48253: starting
2011-08-09 20:07:25,054 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:47571 storage DS-1042647985-10.0.62.238-47571-1312913245051
2011-08-09 20:07:25,057 DEBUG hdfs.StateChange (FSNamesystem.java:unprotectedAddDatanode(3584)) - BLOCK* NameSystem.unprotectedAddDatanode: node 127.0.0.1:47571 is added to datanodeMap.
2011-08-09 20:07:25,058 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:47571
2011-08-09 20:07:25,064 INFO  datanode.DataNode (DataNode.java:register(592)) - New storage id DS-1042647985-10.0.62.238-47571-1312913245051 is assigned to data-node 127.0.0.1:47571
2011-08-09 20:07:25,065 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:47571, storageID=DS-1042647985-10.0.62.238-47571-1312913245051, infoPort=36218, ipcPort=48253)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:07:25,066 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 3600000msec Initial delay: 0msec
2011-08-09 20:07:25,070 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:07:25,073 DEBUG hdfs.StateChange (NameNode.java:blockReport(981)) - *BLOCK* NameNode.blockReport: from 127.0.0.1:47571 0 blocks
2011-08-09 20:07:25,074 DEBUG hdfs.StateChange (FSNamesystem.java:processReport(3679)) - BLOCK* NameSystem.processReport: from 127.0.0.1:47571 0 blocks
2011-08-09 20:07:25,074 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:47571 0 blocks shortCircuit first report.
2011-08-09 20:07:25,077 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 0 blocks got processed in 7 msecs
2011-08-09 20:07:25,077 INFO  datanode.DataNode (DataNode.java:offerService(864)) - Starting Periodic block scanner.
2011-08-09 20:07:25,078 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
createFile: Created /user/a+b/dir1/file1 with 1 replica.
2011-08-09 20:07:25,106 DEBUG hdfs.StateChange (NameNode.java:create(502)) - *DIR* NameNode.create: file /user/a+b/dir1/file1 for DFSClient_1350723132 at 127.0.0.1
2011-08-09 20:07:25,107 DEBUG hdfs.StateChange (FSNamesystem.java:startFileInternal(1449)) - DIR* NameSystem.startFile: src=/user/a+b/dir1/file1, holder=DFSClient_1350723132, clientMachine=127.0.0.1, replication=1, overwrite=true, append=false
2011-08-09 20:07:25,109 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [10, 0, 0, 0, 0, 0, 0, 3, -23]
2011-08-09 20:07:25,109 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [10, 0, 0, 0, 0, 0, 0, 3, -23]
2011-08-09 20:07:25,112 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 5, 47, 117, 115, 101, 114, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 49, 49, 48, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:25,112 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 5, 47, 117, 115, 101, 114, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 49, 49, 48, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:25,112 DEBUG hdfs.StateChange (FSDirectory.java:mkdirs(1341)) - DIR* FSDirectory.mkdirs: created directory /user
2011-08-09 20:07:25,112 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 9, 47, 117, 115, 101, 114, 47, 97, 43, 98, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 49, 49, 48, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:25,113 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 9, 47, 117, 115, 101, 114, 47, 97, 43, 98, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 49, 49, 48, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:25,113 DEBUG hdfs.StateChange (FSDirectory.java:mkdirs(1341)) - DIR* FSDirectory.mkdirs: created directory /user/a+b
2011-08-09 20:07:25,113 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 14, 47, 117, 115, 101, 114, 47, 97, 43, 98, 47, 100, 105, 114, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 49, 49, 48, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:25,113 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 14, 47, 117, 115, 101, 114, 47, 97, 43, 98, 47, 100, 105, 114, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 49, 49, 48, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:25,114 DEBUG hdfs.StateChange (FSDirectory.java:mkdirs(1341)) - DIR* FSDirectory.mkdirs: created directory /user/a+b/dir1
2011-08-09 20:07:25,115 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 20, 47, 117, 115, 101, 114, 47, 97, 43, 98, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 49, 49, 48, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 49, 49, 48, 0, 4, 56, 49, 57, 50, 0, 0, 0, 0, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 20, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 49, 51, 53, 48, 55, 50, 51, 49, 51, 50, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:25,116 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 20, 47, 117, 115, 101, 114, 47, 97, 43, 98, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 49, 49, 48, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 49, 49, 48, 0, 4, 56, 49, 57, 50, 0, 0, 0, 0, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 20, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 49, 51, 53, 48, 55, 50, 51, 49, 51, 50, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:25,116 DEBUG hdfs.StateChange (FSDirectory.java:addFile(243)) - DIR* FSDirectory.addFile: /user/a+b/dir1/file1 is added to the file system
2011-08-09 20:07:25,117 DEBUG hdfs.StateChange (FSNamesystem.java:startFileInternal(1585)) - DIR* NameSystem.startFile: add /user/a+b/dir1/file1 to namespace for DFSClient_1350723132
2011-08-09 20:07:25,117 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:07:25,117 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:07:25,118 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 308
2011-08-09 20:07:25,122 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:07:25,122 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:07:25,122 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 308
2011-08-09 20:07:25,127 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=create	src=/user/a+b/dir1/file1	dst=null	perm=jeff:supergroup:rw-r--r--
testFileCreationDeleteParent: Created file /user/a+b/dir1/file1
2011-08-09 20:07:25,145 INFO  hdfs.AppendTestUtil (AppendTestUtil.java:<clinit>(49)) - seed=-2666790172309390192
2011-08-09 20:07:25,145 INFO  hdfs.AppendTestUtil (AppendTestUtil.java:randomBytes(70)) - seed=3735928559, size=16385
2011-08-09 20:07:25,155 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/a+b/dir1/file1 for DFSClient_1350723132
2011-08-09 20:07:25,155 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/a+b/dir1/file1 for DFSClient_1350723132
2011-08-09 20:07:25,156 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/a+b/dir1/file1 with blk_-4394746639962649144_1001 block is added to the in-memory file system
2011-08-09 20:07:25,156 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/a+b/dir1/file1. blk_-4394746639962649144_1001
2011-08-09 20:07:25,207 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-4394746639962649144_1001 src: /127.0.0.1:55641 dest: /127.0.0.1:47571
2011-08-09 20:07:25,219 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:55641, dest: /127.0.0.1:47571, bytes: 8192, op: HDFS_WRITE, cliID: DFSClient_1350723132, offset: 0, srvID: DS-1042647985-10.0.62.238-47571-1312913245051, blockid: blk_-4394746639962649144_1001, duration: 2306728
2011-08-09 20:07:25,219 DEBUG hdfs.StateChange (NameNode.java:blockReceived(995)) - *BLOCK* NameNode.blockReceived: from 127.0.0.1:47571 1 blocks.
2011-08-09 20:07:25,220 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-4394746639962649144_1001 terminating
2011-08-09 20:07:25,220 DEBUG hdfs.StateChange (FSNamesystem.java:blockReceived(4414)) - BLOCK* NameSystem.blockReceived: blk_-4394746639962649144_1001 is received from 127.0.0.1:47571
2011-08-09 20:07:25,220 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:47571 is added to blk_-4394746639962649144_1001 size 8192
2011-08-09 20:07:25,223 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/a+b/dir1/file1 for DFSClient_1350723132
2011-08-09 20:07:25,223 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/a+b/dir1/file1 for DFSClient_1350723132
2011-08-09 20:07:25,225 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/a+b/dir1/file1 with blk_-5212755061808577397_1001 block is added to the in-memory file system
2011-08-09 20:07:25,225 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/a+b/dir1/file1. blk_-5212755061808577397_1001
2011-08-09 20:07:25,227 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-5212755061808577397_1001 src: /127.0.0.1:55642 dest: /127.0.0.1:47571
2011-08-09 20:07:25,230 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:55642, dest: /127.0.0.1:47571, bytes: 8192, op: HDFS_WRITE, cliID: DFSClient_1350723132, offset: 0, srvID: DS-1042647985-10.0.62.238-47571-1312913245051, blockid: blk_-5212755061808577397_1001, duration: 535246
2011-08-09 20:07:25,230 DEBUG hdfs.StateChange (NameNode.java:blockReceived(995)) - *BLOCK* NameNode.blockReceived: from 127.0.0.1:47571 1 blocks.
2011-08-09 20:07:25,230 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-5212755061808577397_1001 terminating
2011-08-09 20:07:25,230 DEBUG hdfs.StateChange (FSNamesystem.java:blockReceived(4414)) - BLOCK* NameSystem.blockReceived: blk_-5212755061808577397_1001 is received from 127.0.0.1:47571
2011-08-09 20:07:25,231 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:47571 is added to blk_-5212755061808577397_1001 size 8192
2011-08-09 20:07:25,232 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/a+b/dir1/file1 for DFSClient_1350723132
2011-08-09 20:07:25,232 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/a+b/dir1/file1 for DFSClient_1350723132
2011-08-09 20:07:25,232 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/a+b/dir1/file1 with blk_-6978519493608705401_1001 block is added to the in-memory file system
2011-08-09 20:07:25,233 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/a+b/dir1/file1. blk_-6978519493608705401_1001
2011-08-09 20:07:25,234 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-6978519493608705401_1001 src: /127.0.0.1:55643 dest: /127.0.0.1:47571
2011-08-09 20:07:25,236 INFO  hdfs.StateChange (FSNamesystem.java:fsync(2430)) - BLOCK* NameSystem.fsync: file /user/a+b/dir1/file1 for DFSClient_1350723132
2011-08-09 20:07:25,237 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 20, 47, 117, 115, 101, 114, 47, 97, 43, 98, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 49, 49, 48, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 49, 49, 48, 0, 4, 56, 49, 57, 50, 0, 0, 0, 3, -61, 2, -71, 55, 31, 47, 77, -56, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -23, -73, -88, -110, -29, -65, -57, -60, -117, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -23, -97, 39, 81, 126, -115, 80, 114, -121, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, -23, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 20, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 49, 51, 53, 48, 55, 50, 51, 49, 51, 50, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:25,237 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 20, 47, 117, 115, 101, 114, 47, 97, 43, 98, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 49, 49, 48, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 49, 49, 48, 0, 4, 56, 49, 57, 50, 0, 0, 0, 3, -61, 2, -71, 55, 31, 47, 77, -56, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -23, -73, -88, -110, -29, -65, -57, -60, -117, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -23, -97, 39, 81, 126, -115, 80, 114, -121, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, -23, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 20, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 49, 51, 53, 48, 55, 50, 51, 49, 51, 50, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:25,237 DEBUG hdfs.StateChange (FSDirectory.java:persistBlocks(376)) - DIR* FSDirectory.persistBlocks: /user/a+b/dir1/file1 with 3 blocks is persisted to the file system
2011-08-09 20:07:25,238 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 198
2011-08-09 20:07:25,239 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 198
createFile: Created /user/dir2/file2 with 1 replica.
2011-08-09 20:07:25,244 DEBUG hdfs.StateChange (NameNode.java:create(502)) - *DIR* NameNode.create: file /user/dir2/file2 for DFSClient_1350723132 at 127.0.0.1
2011-08-09 20:07:25,245 DEBUG hdfs.StateChange (FSNamesystem.java:startFileInternal(1449)) - DIR* NameSystem.startFile: src=/user/dir2/file2, holder=DFSClient_1350723132, clientMachine=127.0.0.1, replication=1, overwrite=true, append=false
2011-08-09 20:07:25,245 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [10, 0, 0, 0, 0, 0, 0, 3, -22]
2011-08-09 20:07:25,245 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [10, 0, 0, 0, 0, 0, 0, 3, -22]
2011-08-09 20:07:25,246 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 50, 52, 53, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:25,246 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 50, 52, 53, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:25,246 DEBUG hdfs.StateChange (FSDirectory.java:mkdirs(1341)) - DIR* FSDirectory.mkdirs: created directory /user/dir2
2011-08-09 20:07:25,247 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 47, 102, 105, 108, 101, 50, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 50, 52, 53, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 50, 52, 53, 0, 4, 56, 49, 57, 50, 0, 0, 0, 0, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 20, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 49, 51, 53, 48, 55, 50, 51, 49, 51, 50, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:25,247 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 47, 102, 105, 108, 101, 50, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 50, 52, 53, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 50, 52, 53, 0, 4, 56, 49, 57, 50, 0, 0, 0, 0, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 20, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 49, 51, 53, 48, 55, 50, 51, 49, 51, 50, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:25,247 DEBUG hdfs.StateChange (FSDirectory.java:addFile(243)) - DIR* FSDirectory.addFile: /user/dir2/file2 is added to the file system
2011-08-09 20:07:25,247 DEBUG hdfs.StateChange (FSNamesystem.java:startFileInternal(1585)) - DIR* NameSystem.startFile: add /user/dir2/file2 to namespace for DFSClient_1350723132
2011-08-09 20:07:25,248 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 192
2011-08-09 20:07:25,249 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 192
2011-08-09 20:07:25,250 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=create	src=/user/dir2/file2	dst=null	perm=jeff:supergroup:rw-r--r--
testFileCreationDeleteParent: Created file /user/dir2/file2
2011-08-09 20:07:25,259 INFO  hdfs.AppendTestUtil (AppendTestUtil.java:randomBytes(70)) - seed=3735928559, size=16385
2011-08-09 20:07:25,264 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir2/file2 for DFSClient_1350723132
2011-08-09 20:07:25,264 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir2/file2 for DFSClient_1350723132
2011-08-09 20:07:25,265 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/dir2/file2 with blk_-5473529500814155194_1002 block is added to the in-memory file system
2011-08-09 20:07:25,265 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/dir2/file2. blk_-5473529500814155194_1002
2011-08-09 20:07:25,266 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-5473529500814155194_1002 src: /127.0.0.1:55644 dest: /127.0.0.1:47571
2011-08-09 20:07:25,270 DEBUG hdfs.StateChange (NameNode.java:blockReceived(995)) - *BLOCK* NameNode.blockReceived: from 127.0.0.1:47571 1 blocks.
2011-08-09 20:07:25,270 DEBUG hdfs.StateChange (FSNamesystem.java:blockReceived(4414)) - BLOCK* NameSystem.blockReceived: blk_-5473529500814155194_1002 is received from 127.0.0.1:47571
2011-08-09 20:07:25,270 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:47571 is added to blk_-5473529500814155194_1002 size 8192
2011-08-09 20:07:25,276 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:55644, dest: /127.0.0.1:47571, bytes: 8192, op: HDFS_WRITE, cliID: DFSClient_1350723132, offset: 0, srvID: DS-1042647985-10.0.62.238-47571-1312913245051, blockid: blk_-5473529500814155194_1002, duration: 52826
2011-08-09 20:07:25,276 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-5473529500814155194_1002 terminating
2011-08-09 20:07:25,277 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir2/file2 for DFSClient_1350723132
2011-08-09 20:07:25,277 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir2/file2 for DFSClient_1350723132
2011-08-09 20:07:25,277 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/dir2/file2 with blk_-1966070360849051554_1002 block is added to the in-memory file system
2011-08-09 20:07:25,278 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/dir2/file2. blk_-1966070360849051554_1002
2011-08-09 20:07:25,279 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-1966070360849051554_1002 src: /127.0.0.1:55645 dest: /127.0.0.1:47571
2011-08-09 20:07:25,287 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:55645, dest: /127.0.0.1:47571, bytes: 8192, op: HDFS_WRITE, cliID: DFSClient_1350723132, offset: 0, srvID: DS-1042647985-10.0.62.238-47571-1312913245051, blockid: blk_-1966070360849051554_1002, duration: 490525
2011-08-09 20:07:25,288 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-1966070360849051554_1002 terminating
2011-08-09 20:07:25,288 DEBUG hdfs.StateChange (NameNode.java:blockReceived(995)) - *BLOCK* NameNode.blockReceived: from 127.0.0.1:47571 1 blocks.
2011-08-09 20:07:25,288 DEBUG hdfs.StateChange (FSNamesystem.java:blockReceived(4414)) - BLOCK* NameSystem.blockReceived: blk_-1966070360849051554_1002 is received from 127.0.0.1:47571
2011-08-09 20:07:25,289 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:47571 is added to blk_-1966070360849051554_1002 size 8192
2011-08-09 20:07:25,290 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir2/file2 for DFSClient_1350723132
2011-08-09 20:07:25,290 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir2/file2 for DFSClient_1350723132
2011-08-09 20:07:25,291 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/dir2/file2 with blk_-867180537627044688_1002 block is added to the in-memory file system
2011-08-09 20:07:25,291 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/dir2/file2. blk_-867180537627044688_1002
2011-08-09 20:07:25,292 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-867180537627044688_1002 src: /127.0.0.1:55646 dest: /127.0.0.1:47571
2011-08-09 20:07:25,294 INFO  hdfs.StateChange (FSNamesystem.java:fsync(2430)) - BLOCK* NameSystem.fsync: file /user/dir2/file2 for DFSClient_1350723132
2011-08-09 20:07:25,295 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 47, 102, 105, 108, 101, 50, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 50, 52, 53, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 50, 52, 53, 0, 4, 56, 49, 57, 50, 0, 0, 0, 3, -76, 10, 29, -21, 68, 89, -30, 70, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -22, -28, -73, 29, 108, 106, 43, 16, 94, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -22, -13, -9, 39, -27, 66, -101, -108, -80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, -22, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 20, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 49, 51, 53, 48, 55, 50, 51, 49, 51, 50, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:25,295 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 47, 102, 105, 108, 101, 50, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 50, 52, 53, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 50, 52, 53, 0, 4, 56, 49, 57, 50, 0, 0, 0, 3, -76, 10, 29, -21, 68, 89, -30, 70, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -22, -28, -73, 29, 108, 106, 43, 16, 94, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -22, -13, -9, 39, -27, 66, -101, -108, -80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, -22, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 20, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 49, 51, 53, 48, 55, 50, 51, 49, 51, 50, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:25,295 DEBUG hdfs.StateChange (FSDirectory.java:persistBlocks(376)) - DIR* FSDirectory.persistBlocks: /user/dir2/file2 with 3 blocks is persisted to the file system
2011-08-09 20:07:25,295 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 194
2011-08-09 20:07:25,296 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 194
2011-08-09 20:07:25,298 DEBUG hdfs.StateChange (NameNode.java:mkdirs(694)) - *DIR* NameNode.mkdirs: /user/dir3
2011-08-09 20:07:25,299 DEBUG hdfs.StateChange (FSNamesystem.java:mkdirsInternal(2348)) - DIR* NameSystem.mkdirs: /user/dir3
2011-08-09 20:07:25,299 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 51, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 50, 57, 57, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:25,299 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 51, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 50, 57, 57, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:25,300 DEBUG hdfs.StateChange (FSDirectory.java:mkdirs(1341)) - DIR* FSDirectory.mkdirs: created directory /user/dir3
2011-08-09 20:07:25,300 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 58
2011-08-09 20:07:25,301 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 58
2011-08-09 20:07:25,301 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=mkdirs	src=/user/dir3	dst=null	perm=jeff:supergroup:rwxr-xr-x
2011-08-09 20:07:25,302 DEBUG hdfs.StateChange (NameNode.java:rename(649)) - *DIR* NameNode.rename: /user/a+b/dir1 to /user/dir3
2011-08-09 20:07:25,303 DEBUG hdfs.StateChange (FSNamesystem.java:renameToInternal(2161)) - DIR* NameSystem.renameTo: /user/a+b/dir1 to /user/dir3
2011-08-09 20:07:25,303 DEBUG hdfs.StateChange (FSDirectory.java:renameTo(436)) - DIR* FSDirectory.renameTo: /user/a+b/dir1 to /user/dir3
2011-08-09 20:07:25,303 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedRenameTo(529)) - DIR* FSDirectory.unprotectedRenameTo: /user/a+b/dir1 is renamed to /user/dir3/dir1
2011-08-09 20:07:25,304 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [1, 0, 0, 0, 3, 0, 14, 47, 117, 115, 101, 114, 47, 97, 43, 98, 47, 100, 105, 114, 49, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 51, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 51, 48, 51]
2011-08-09 20:07:25,304 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [1, 0, 0, 0, 3, 0, 14, 47, 117, 115, 101, 114, 47, 97, 43, 98, 47, 100, 105, 114, 49, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 51, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 51, 48, 51]
2011-08-09 20:07:25,304 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(294)) - LeaseManager.changelease:  src=/user/a+b/dir1, dest=/user/dir3, overwrite=/user/a+b/, replaceBy=/user/dir3/
2011-08-09 20:07:25,305 DEBUG namenode.LeaseManager (LeaseManager.java:findLeaseWithPrefixPath(328)) - LeaseManager.findLease: prefix=/user/a+b/dir1
2011-08-09 20:07:25,307 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(307)) - changeLease: replacing /user/a+b/dir1/file1 with /user/dir3/dir1/file1
2011-08-09 20:07:25,307 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 53
2011-08-09 20:07:25,308 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 53
2011-08-09 20:07:25,309 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=rename	src=/user/a+b/dir1	dst=/user/dir3	perm=jeff:supergroup:rwxr-xr-x
createFile: Created /user/dir3/file3 with 1 replica.
2011-08-09 20:07:25,310 DEBUG hdfs.StateChange (NameNode.java:create(502)) - *DIR* NameNode.create: file /user/dir3/file3 for DFSClient_1350723132 at 127.0.0.1
2011-08-09 20:07:25,310 DEBUG hdfs.StateChange (FSNamesystem.java:startFileInternal(1449)) - DIR* NameSystem.startFile: src=/user/dir3/file3, holder=DFSClient_1350723132, clientMachine=127.0.0.1, replication=1, overwrite=true, append=false
2011-08-09 20:07:25,310 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [10, 0, 0, 0, 0, 0, 0, 3, -21]
2011-08-09 20:07:25,311 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [10, 0, 0, 0, 0, 0, 0, 3, -21]
2011-08-09 20:07:25,311 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 51, 47, 102, 105, 108, 101, 51, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 51, 49, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 51, 49, 49, 0, 4, 56, 49, 57, 50, 0, 0, 0, 0, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 20, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 49, 51, 53, 48, 55, 50, 51, 49, 51, 50, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:25,312 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 51, 47, 102, 105, 108, 101, 51, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 51, 49, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 51, 49, 49, 0, 4, 56, 49, 57, 50, 0, 0, 0, 0, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 20, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 49, 51, 53, 48, 55, 50, 51, 49, 51, 50, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:25,312 DEBUG hdfs.StateChange (FSDirectory.java:addFile(243)) - DIR* FSDirectory.addFile: /user/dir3/file3 is added to the file system
2011-08-09 20:07:25,312 DEBUG hdfs.StateChange (FSNamesystem.java:startFileInternal(1585)) - DIR* NameSystem.startFile: add /user/dir3/file3 to namespace for DFSClient_1350723132
2011-08-09 20:07:25,312 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 135
2011-08-09 20:07:25,313 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 135
2011-08-09 20:07:25,314 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=create	src=/user/dir3/file3	dst=null	perm=jeff:supergroup:rw-r--r--
2011-08-09 20:07:25,315 INFO  hdfs.AppendTestUtil (AppendTestUtil.java:randomBytes(70)) - seed=3735928559, size=16385
2011-08-09 20:07:25,318 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir3/file3 for DFSClient_1350723132
2011-08-09 20:07:25,318 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir3/file3 for DFSClient_1350723132
2011-08-09 20:07:25,319 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/dir3/file3 with blk_-1839141458067113830_1003 block is added to the in-memory file system
2011-08-09 20:07:25,319 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/dir3/file3. blk_-1839141458067113830_1003
2011-08-09 20:07:25,321 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-1839141458067113830_1003 src: /127.0.0.1:55647 dest: /127.0.0.1:47571
2011-08-09 20:07:25,329 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:55647, dest: /127.0.0.1:47571, bytes: 8192, op: HDFS_WRITE, cliID: DFSClient_1350723132, offset: 0, srvID: DS-1042647985-10.0.62.238-47571-1312913245051, blockid: blk_-1839141458067113830_1003, duration: 746270
2011-08-09 20:07:25,330 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-1839141458067113830_1003 terminating
2011-08-09 20:07:25,330 DEBUG hdfs.StateChange (NameNode.java:blockReceived(995)) - *BLOCK* NameNode.blockReceived: from 127.0.0.1:47571 1 blocks.
2011-08-09 20:07:25,330 DEBUG hdfs.StateChange (FSNamesystem.java:blockReceived(4414)) - BLOCK* NameSystem.blockReceived: blk_-1839141458067113830_1003 is received from 127.0.0.1:47571
2011-08-09 20:07:25,331 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:47571 is added to blk_-1839141458067113830_1003 size 8192
2011-08-09 20:07:25,332 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir3/file3 for DFSClient_1350723132
2011-08-09 20:07:25,333 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir3/file3 for DFSClient_1350723132
2011-08-09 20:07:25,333 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/dir3/file3 with blk_-4181818955614094238_1003 block is added to the in-memory file system
2011-08-09 20:07:25,333 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/dir3/file3. blk_-4181818955614094238_1003
2011-08-09 20:07:25,336 DEBUG hdfs.StateChange (NameNode.java:rename(649)) - *DIR* NameNode.rename: /user/dir3/file3 to /user/dir3/$ 
2011-08-09 20:07:25,336 DEBUG hdfs.StateChange (FSNamesystem.java:renameToInternal(2161)) - DIR* NameSystem.renameTo: /user/dir3/file3 to /user/dir3/$ 
2011-08-09 20:07:25,336 DEBUG hdfs.StateChange (FSDirectory.java:renameTo(436)) - DIR* FSDirectory.renameTo: /user/dir3/file3 to /user/dir3/$ 
2011-08-09 20:07:25,337 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedRenameTo(529)) - DIR* FSDirectory.unprotectedRenameTo: /user/dir3/file3 is renamed to /user/dir3/$ 
2011-08-09 20:07:25,337 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [1, 0, 0, 0, 3, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 51, 47, 102, 105, 108, 101, 51, 0, 13, 47, 117, 115, 101, 114, 47, 100, 105, 114, 51, 47, 36, 32, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 51, 51, 55]
2011-08-09 20:07:25,337 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [1, 0, 0, 0, 3, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 51, 47, 102, 105, 108, 101, 51, 0, 13, 47, 117, 115, 101, 114, 47, 100, 105, 114, 51, 47, 36, 32, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 52, 53, 51, 51, 55]
2011-08-09 20:07:25,337 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(294)) - LeaseManager.changelease:  src=/user/dir3/file3, dest=/user/dir3/$ , overwrite=/user/dir3/file3, replaceBy=/user/dir3/$ 
2011-08-09 20:07:25,338 DEBUG namenode.LeaseManager (LeaseManager.java:findLeaseWithPrefixPath(328)) - LeaseManager.findLease: prefix=/user/dir3/file3
2011-08-09 20:07:25,338 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(307)) - changeLease: replacing /user/dir3/file3 with /user/dir3/$ 
2011-08-09 20:07:25,338 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 58
2011-08-09 20:07:25,339 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 58
2011-08-09 20:07:25,340 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-4181818955614094238_1003 src: /127.0.0.1:55648 dest: /127.0.0.1:47571
2011-08-09 20:07:25,340 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=rename	src=/user/dir3/file3	dst=/user/dir3/$ 	perm=jeff:supergroup:rw-r--r--
2011-08-09 20:07:25,343 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:55648, dest: /127.0.0.1:47571, bytes: 8192, op: HDFS_WRITE, cliID: DFSClient_1350723132, offset: 0, srvID: DS-1042647985-10.0.62.238-47571-1312913245051, blockid: blk_-4181818955614094238_1003, duration: 366426
2011-08-09 20:07:25,343 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-4181818955614094238_1003 terminating
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 20:07:25,344 DEBUG hdfs.StateChange (NameNode.java:blockReceived(995)) - *BLOCK* NameNode.blockReceived: from 127.0.0.1:47571 1 blocks.
2011-08-09 20:07:25,344 DEBUG hdfs.StateChange (FSNamesystem.java:blockReceived(4414)) - BLOCK* NameSystem.blockReceived: blk_-4181818955614094238_1003 is received from 127.0.0.1:47571
2011-08-09 20:07:25,345 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:47571 is added to blk_-4181818955614094238_1003 size 8192
2011-08-09 20:07:25,404 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:07:25,405 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 48253
2011-08-09 20:07:25,405 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 48253: exiting
2011-08-09 20:07:25,406 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 48253: exiting
2011-08-09 20:07:25,406 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 48253
2011-08-09 20:07:25,406 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 48253: exiting
2011-08-09 20:07:25,407 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:07:25,408 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:47571, storageID=DS-1042647985-10.0.62.238-47571-1312913245051, infoPort=36218, ipcPort=48253):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 20:07:25,409 WARN  hdfs.DFSClient (DFSClient.java:run(3117)) - DFSOutputStream ResponseProcessor exception  for block blk_-6978519493608705401_1001java.io.EOFException
	at java.io.DataInputStream.readFully(DataInputStream.java:180)
	at java.io.DataInputStream.readLong(DataInputStream.java:399)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$ResponseProcessor.run(DFSClient.java:3071)

2011-08-09 20:07:25,409 WARN  hdfs.DFSClient (DFSClient.java:run(3117)) - DFSOutputStream ResponseProcessor exception  for block blk_-867180537627044688_1002java.io.EOFException
	at java.io.DataInputStream.readFully(DataInputStream.java:180)
	at java.io.DataInputStream.readLong(DataInputStream.java:399)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$ResponseProcessor.run(DFSClient.java:3071)

2011-08-09 20:07:25,409 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(780)) - PacketResponder 0 for block blk_-6978519493608705401_1001 Interrupted.
2011-08-09 20:07:25,409 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-6978519493608705401_1001 terminating
2011-08-09 20:07:25,409 INFO  datanode.DataNode (BlockReceiver.java:receiveBlock(569)) - Exception in receiveBlock for block blk_-6978519493608705401_1001 java.io.InterruptedIOException: Interruped while waiting for IO on channel java.nio.channels.SocketChannel[closed]. 0 millis timeout left.
2011-08-09 20:07:25,410 INFO  datanode.DataNode (DataXceiver.java:writeBlock(404)) - writeBlock blk_-6978519493608705401_1001 received exception java.io.IOException: Interrupted receiveBlock
2011-08-09 20:07:25,410 WARN  hdfs.DFSClient (DFSClient.java:processDatanodeError(3153)) - Error Recovery for block blk_-6978519493608705401_1001 bad datanode[0] 127.0.0.1:47571
2011-08-09 20:07:25,410 WARN  hdfs.DFSClient (DFSClient.java:processDatanodeError(3153)) - Error Recovery for block blk_-867180537627044688_1002 bad datanode[0] 127.0.0.1:47571
2011-08-09 20:07:25,411 ERROR datanode.DataNode (DataXceiver.java:run(154)) - DatanodeRegistration(127.0.0.1:47571, storageID=DS-1042647985-10.0.62.238-47571-1312913245051, infoPort=36218, ipcPort=48253):DataXceiver
java.io.IOException: Interrupted receiveBlock
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.receiveBlock(BlockReceiver.java:582)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiver.writeBlock(DataXceiver.java:385)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiver.run(DataXceiver.java:120)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:25,412 INFO  datanode.DataNode (BlockReceiver.java:receiveBlock(569)) - Exception in receiveBlock for block blk_-867180537627044688_1002 java.io.InterruptedIOException: Interruped while waiting for IO on channel java.nio.channels.SocketChannel[closed]. 0 millis timeout left.
2011-08-09 20:07:25,413 INFO  datanode.DataNode (DataXceiver.java:writeBlock(404)) - writeBlock blk_-867180537627044688_1002 received exception java.io.IOException: Interrupted receiveBlock
2011-08-09 20:07:25,413 ERROR datanode.DataNode (DataXceiver.java:run(154)) - DatanodeRegistration(127.0.0.1:47571, storageID=DS-1042647985-10.0.62.238-47571-1312913245051, infoPort=36218, ipcPort=48253):DataXceiver
java.io.IOException: Interrupted receiveBlock
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.receiveBlock(BlockReceiver.java:582)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiver.writeBlock(DataXceiver.java:385)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiver.run(DataXceiver.java:120)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:25,413 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(780)) - PacketResponder 0 for block blk_-867180537627044688_1002 Interrupted.
2011-08-09 20:07:25,413 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-867180537627044688_1002 terminating
2011-08-09 20:07:25,414 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:07:25,414 INFO  datanode.DataBlockScanner (DataBlockScanner.java:run(604)) - Exiting DataBlockScanner thread.
2011-08-09 20:07:25,415 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:47571, storageID=DS-1042647985-10.0.62.238-47571-1312913245051, infoPort=36218, ipcPort=48253):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:07:25,415 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 48253
2011-08-09 20:07:25,415 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:07:25,416 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 20:07:25,416 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 20:07:25,416 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 20:07:25,444 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:07:25,545 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:run(188)) - PendingReplicationMonitor thread received exception. java.lang.InterruptedException: sleep interrupted
2011-08-09 20:07:25,546 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 20:07:25,546 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:25,546 DEBUG namenode.LeaseManager (LeaseManager.java:run(374)) - Monitor is interrupted
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.hdfs.server.namenode.LeaseManager$Monitor.run(LeaseManager.java:371)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:25,547 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 15 Total time for transactions(ms): 7 Number of transactions batched in Syncs: 0 Number of syncs: 8 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits:10  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits:9 
2011-08-09 20:07:25,547 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:07:25,548 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:07:25,549 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 42989
2011-08-09 20:07:25,553 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 42989: exiting
2011-08-09 20:07:25,554 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 42989: exiting
2011-08-09 20:07:25,554 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 42989: exiting
2011-08-09 20:07:25,555 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 42989: exiting
2011-08-09 20:07:25,554 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 42989
2011-08-09 20:07:25,555 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 42989: exiting
2011-08-09 20:07:25,556 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:07:25,556 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 42989: exiting
2011-08-09 20:07:25,557 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 42989: exiting
2011-08-09 20:07:25,557 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 42989: exiting
2011-08-09 20:07:25,557 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 42989: exiting
2011-08-09 20:07:25,557 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 42989: exiting
2011-08-09 20:07:29,557 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 20:07:29,560 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:07:29,560 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 20:07:29,561 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 20:07:29,561 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 20:07:29,561 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 20:07:29,645 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 20:07:29,646 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 20:07:29,647 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 20:07:29,647 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 20:07:29,651 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:07:29,652 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 20:07:29,652 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 20:07:29,657 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 1
2011-08-09 20:07:29,657 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 20:07:29,658 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 95 loaded in 0 seconds.
2011-08-09 20:07:29,661 DEBUG namenode.FSNamesystem (FSEditLog.java:loadFSEdits(683)) - 0: /user/a+b/dir1/file1 numblocks : 0 clientHolder DFSClient_1350723132 clientMachine 127.0.0.1
2011-08-09 20:07:29,661 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedDelete(826)) - DIR* FSDirectory.unprotectedDelete: failed to remove /user/a+b/dir1/file1 because it does not exist
2011-08-09 20:07:29,664 DEBUG namenode.FSNamesystem (FSEditLog.java:loadFSEdits(683)) - 0: /user/a+b/dir1/file1 numblocks : 3 clientHolder DFSClient_1350723132 clientMachine 127.0.0.1
2011-08-09 20:07:29,665 DEBUG namenode.LeaseManager (LeaseManager.java:findLeaseWithPrefixPath(328)) - LeaseManager.findLease: prefix=/user/a+b/dir1/file1
2011-08-09 20:07:29,685 DEBUG namenode.LeaseManager (LeaseManager.java:removeLeaseWithPrefixPath(318)) - LeaseManager.removeLeaseWithPrefixPath: entry=/user/a+b/dir1/file1=[Lease.  Holder: DFSClient_1350723132, pendingcreates: 1]
2011-08-09 20:07:29,720 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedDelete(856)) - DIR* FSDirectory.unprotectedDelete: /user/a+b/dir1/file1 is removed
2011-08-09 20:07:29,721 DEBUG namenode.FSNamesystem (FSEditLog.java:loadFSEdits(683)) - 0: /user/dir2/file2 numblocks : 0 clientHolder DFSClient_1350723132 clientMachine 127.0.0.1
2011-08-09 20:07:29,722 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedDelete(826)) - DIR* FSDirectory.unprotectedDelete: failed to remove /user/dir2/file2 because it does not exist
2011-08-09 20:07:29,752 DEBUG namenode.FSNamesystem (FSEditLog.java:loadFSEdits(683)) - 0: /user/dir2/file2 numblocks : 3 clientHolder DFSClient_1350723132 clientMachine 127.0.0.1
2011-08-09 20:07:29,753 DEBUG namenode.LeaseManager (LeaseManager.java:findLeaseWithPrefixPath(328)) - LeaseManager.findLease: prefix=/user/dir2/file2
2011-08-09 20:07:29,753 DEBUG namenode.LeaseManager (LeaseManager.java:removeLeaseWithPrefixPath(318)) - LeaseManager.removeLeaseWithPrefixPath: entry=/user/dir2/file2=[Lease.  Holder: DFSClient_1350723132, pendingcreates: 2]
2011-08-09 20:07:29,753 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedDelete(856)) - DIR* FSDirectory.unprotectedDelete: /user/dir2/file2 is removed
2011-08-09 20:07:29,781 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedRenameTo(529)) - DIR* FSDirectory.unprotectedRenameTo: /user/a+b/dir1 is renamed to /user/dir3/dir1
2011-08-09 20:07:29,781 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(294)) - LeaseManager.changelease:  src=/user/a+b/dir1, dest=/user/dir3, overwrite=/user/a+b/, replaceBy=/user/dir3/
2011-08-09 20:07:29,781 DEBUG namenode.LeaseManager (LeaseManager.java:findLeaseWithPrefixPath(328)) - LeaseManager.findLease: prefix=/user/a+b/dir1
2011-08-09 20:07:29,781 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(307)) - changeLease: replacing /user/a+b/dir1/file1 with /user/dir3/dir1/file1
2011-08-09 20:07:29,782 DEBUG namenode.FSNamesystem (FSEditLog.java:loadFSEdits(683)) - 0: /user/dir3/file3 numblocks : 0 clientHolder DFSClient_1350723132 clientMachine 127.0.0.1
2011-08-09 20:07:29,782 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedDelete(826)) - DIR* FSDirectory.unprotectedDelete: failed to remove /user/dir3/file3 because it does not exist
2011-08-09 20:07:29,782 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedRenameTo(529)) - DIR* FSDirectory.unprotectedRenameTo: /user/dir3/file3 is renamed to /user/dir3/$ 
2011-08-09 20:07:29,782 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(294)) - LeaseManager.changelease:  src=/user/dir3/file3, dest=/user/dir3/$ , overwrite=/user/dir3/file3, replaceBy=/user/dir3/$ 
2011-08-09 20:07:29,783 DEBUG namenode.LeaseManager (LeaseManager.java:findLeaseWithPrefixPath(328)) - LeaseManager.findLease: prefix=/user/dir3/file3
2011-08-09 20:07:29,783 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(307)) - changeLease: replacing /user/dir3/file3 with /user/dir3/$ 
2011-08-09 20:07:29,783 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits of size 1192 edits # 15 loaded in 0 seconds.
2011-08-09 20:07:29,785 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:29,786 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:29,786 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:29,786 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:29,817 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:29,817 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:29,818 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:29,818 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:29,823 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:29,824 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:29,825 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:29,825 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:29,829 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:29,830 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:29,830 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:29,830 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:29,837 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 1249 saved in 0 seconds.
2011-08-09 20:07:29,837 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:29,861 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:29,861 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:29,861 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:29,869 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 1249 saved in 0 seconds.
2011-08-09 20:07:29,870 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:29,870 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:29,871 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:29,871 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:29,873 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:29,876 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:29,895 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 20:07:29,896 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 251 msecs
2011-08-09 20:07:29,904 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 1.00000000. Safe blocks = 0, Total blocks = 6.Safe mode will be turned off automatically.
2011-08-09 20:07:29,904 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 20:07:29,905 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:pendingReplicationCheck(201)) - PendingReplicationMonitor checking Q
2011-08-09 20:07:29,906 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 20:07:29,907 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:07:29,909 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=42989
2011-08-09 20:07:29,910 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:42989
2011-08-09 20:07:29,910 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:07:29,911 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 42989: starting
2011-08-09 20:07:29,911 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 42989: starting
2011-08-09 20:07:29,912 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 42989: starting
2011-08-09 20:07:29,912 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 42989: starting
2011-08-09 20:07:29,912 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 42989: starting
2011-08-09 20:07:29,912 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 42989: starting
2011-08-09 20:07:29,912 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 42989: starting
2011-08-09 20:07:29,912 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 42989: starting
2011-08-09 20:07:29,913 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 42989: starting
2011-08-09 20:07:29,913 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 42989: starting
2011-08-09 20:07:29,956 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 20:07:29,956 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 42989: starting
2011-08-09 20:07:29,957 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:07:29,963 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:07:29,963 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 47732 webServer.getConnectors()[0].getLocalPort() returned 47732
2011-08-09 20:07:29,963 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 47732
2011-08-09 20:07:29,963 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:07:30,167 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:47732
2011-08-09 20:07:30,168 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:47732
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2
2011-08-09 20:07:30,482 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 20:07:30,485 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 60146
2011-08-09 20:07:30,486 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 20:07:30,495 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:07:30,496 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:07:30,496 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 45146 webServer.getConnectors()[0].getLocalPort() returned 45146
2011-08-09 20:07:30,497 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 45146
2011-08-09 20:07:30,497 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:07:30,708 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:45146
2011-08-09 20:07:30,709 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 20:07:30,714 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:07:30,720 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=40076
2011-08-09 20:07:30,721 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:07:30,722 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 40076: starting
2011-08-09 20:07:30,723 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 40076: starting
2011-08-09 20:07:30,724 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 40076: starting
2011-08-09 20:07:30,724 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:60146, storageID=DS-1042647985-10.0.62.238-47571-1312913245051, infoPort=45146, ipcPort=40076)
2011-08-09 20:07:30,725 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 40076: starting
2011-08-09 20:07:30,736 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:60146 storage DS-1042647985-10.0.62.238-47571-1312913245051
2011-08-09 20:07:30,736 DEBUG hdfs.StateChange (FSNamesystem.java:unprotectedAddDatanode(3584)) - BLOCK* NameSystem.unprotectedAddDatanode: node 127.0.0.1:60146 is added to datanodeMap.
2011-08-09 20:07:30,737 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:60146
2011-08-09 20:07:30,738 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:60146, storageID=DS-1042647985-10.0.62.238-47571-1312913245051, infoPort=45146, ipcPort=40076)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:07:30,739 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 3600000msec Initial delay: 0msec
2011-08-09 20:07:30,785 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:07:30,788 DEBUG hdfs.StateChange (NameNode.java:blockReport(981)) - *BLOCK* NameNode.blockReport: from 127.0.0.1:60146 8 blocks
2011-08-09 20:07:30,788 DEBUG hdfs.StateChange (FSNamesystem.java:processReport(3679)) - BLOCK* NameSystem.processReport: from 127.0.0.1:60146 8 blocks
2011-08-09 20:07:30,789 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:60146 8 blocks shortCircuit first report.
2011-08-09 20:07:30,790 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 20:07:30,794 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 6
2011-08-09 20:07:30,795 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 20:07:30,795 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 0
2011-08-09 20:07:30,795 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 20:07:30,796 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 1 secs.
2011-08-09 20:07:30,796 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 20:07:30,796 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 20:07:30,796 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 0 blocks
2011-08-09 20:07:30,801 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 8 blocks got processed in 21 msecs
2011-08-09 20:07:30,802 INFO  datanode.DataNode (DataNode.java:offerService(864)) - Starting Periodic block scanner.
2011-08-09 20:07:30,804 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:07:30,823 INFO  datanode.DataBlockScanner (DataBlockScanner.java:verifyBlock(435)) - Verification succeeded for blk_-867180537627044688_1002
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 20:07:31,833 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:07:31,935 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 40076
2011-08-09 20:07:31,935 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 40076: exiting
2011-08-09 20:07:31,951 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 40076: exiting
2011-08-09 20:07:31,935 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 40076: exiting
2011-08-09 20:07:31,953 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 40076
2011-08-09 20:07:31,956 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:07:31,957 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 20:07:31,957 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:60146, storageID=DS-1042647985-10.0.62.238-47571-1312913245051, infoPort=45146, ipcPort=40076):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 20:07:32,741 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:60146, storageID=DS-1042647985-10.0.62.238-47571-1312913245051, infoPort=45146, ipcPort=40076):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:07:32,742 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 40076
2011-08-09 20:07:32,742 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:07:32,743 INFO  datanode.DataBlockScanner (DataBlockScanner.java:run(604)) - Exiting DataBlockScanner thread.
2011-08-09 20:07:32,744 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 20:07:32,745 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 20:07:32,958 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:07:32,959 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 20:07:33,016 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:07:33,117 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:run(188)) - PendingReplicationMonitor thread received exception. java.lang.InterruptedException: sleep interrupted
2011-08-09 20:07:33,118 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 20:07:33,118 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:33,118 DEBUG namenode.LeaseManager (LeaseManager.java:run(374)) - Monitor is interrupted
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.hdfs.server.namenode.LeaseManager$Monitor.run(LeaseManager.java:371)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:33,120 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits:0 
2011-08-09 20:07:33,120 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:07:33,120 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:07:33,120 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:07:33,124 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:07:33,125 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:07:33,125 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:07:33,128 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 42989
2011-08-09 20:07:33,128 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 42989: exiting
2011-08-09 20:07:33,129 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 42989: exiting
2011-08-09 20:07:33,129 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 42989: exiting
2011-08-09 20:07:33,129 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 42989: exiting
2011-08-09 20:07:33,129 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 42989: exiting
2011-08-09 20:07:33,129 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 42989: exiting
2011-08-09 20:07:33,130 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 42989: exiting
2011-08-09 20:07:33,130 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 42989: exiting
2011-08-09 20:07:33,130 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 42989: exiting
2011-08-09 20:07:33,130 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 42989: exiting
2011-08-09 20:07:33,131 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 42989
2011-08-09 20:07:33,134 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:07:38,134 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 20:07:38,140 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:07:38,140 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 20:07:38,140 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 20:07:38,140 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 20:07:38,140 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 20:07:38,147 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 20:07:38,147 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 20:07:38,148 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 20:07:38,148 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 20:07:38,151 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:07:38,152 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 20:07:38,152 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 20:07:38,157 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 9
2011-08-09 20:07:38,157 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 11% of the image
2011-08-09 20:07:38,158 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 22% of the image
2011-08-09 20:07:38,158 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 33% of the image
2011-08-09 20:07:38,158 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 44% of the image
2011-08-09 20:07:38,158 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 55% of the image
2011-08-09 20:07:38,159 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 66% of the image
2011-08-09 20:07:38,159 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 77% of the image
2011-08-09 20:07:38,159 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 88% of the image
2011-08-09 20:07:38,159 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 3
2011-08-09 20:07:38,160 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 1249 loaded in 0 seconds.
2011-08-09 20:07:38,160 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits of size 4 edits # 0 loaded in 0 seconds.
2011-08-09 20:07:38,161 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:38,186 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:38,187 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 20:07:38,187 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 40 msecs
2011-08-09 20:07:38,188 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 1.00000000. Safe blocks = 0, Total blocks = 6.Safe mode will be turned off automatically.
2011-08-09 20:07:38,188 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 20:07:38,189 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:pendingReplicationCheck(201)) - PendingReplicationMonitor checking Q
2011-08-09 20:07:38,190 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 20:07:38,191 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:07:38,194 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=42989
2011-08-09 20:07:38,195 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:42989
2011-08-09 20:07:38,196 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:07:38,196 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 42989: starting
2011-08-09 20:07:38,239 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 42989: starting
2011-08-09 20:07:38,239 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 42989: starting
2011-08-09 20:07:38,240 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 42989: starting
2011-08-09 20:07:38,240 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 42989: starting
2011-08-09 20:07:38,240 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 42989: starting
2011-08-09 20:07:38,240 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 42989: starting
2011-08-09 20:07:38,240 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 42989: starting
2011-08-09 20:07:38,241 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 42989: starting
2011-08-09 20:07:38,241 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 42989: starting
2011-08-09 20:07:38,242 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 20:07:38,242 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 42989: starting
2011-08-09 20:07:38,244 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:07:38,245 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:07:38,245 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 36906 webServer.getConnectors()[0].getLocalPort() returned 36906
2011-08-09 20:07:38,246 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 36906
2011-08-09 20:07:38,246 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:07:38,328 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:36906
2011-08-09 20:07:38,329 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:36906
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2
2011-08-09 20:07:38,473 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 20:07:38,475 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 36054
2011-08-09 20:07:38,475 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 20:07:38,479 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:07:38,480 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:07:38,480 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 44803 webServer.getConnectors()[0].getLocalPort() returned 44803
2011-08-09 20:07:38,480 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 44803
2011-08-09 20:07:38,481 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:07:38,637 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:44803
2011-08-09 20:07:38,638 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 20:07:38,643 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:07:38,646 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=43637
2011-08-09 20:07:38,647 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:07:38,647 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 43637: starting
2011-08-09 20:07:38,649 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 43637: starting
2011-08-09 20:07:38,650 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 43637: starting
2011-08-09 20:07:38,650 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:36054, storageID=DS-1042647985-10.0.62.238-47571-1312913245051, infoPort=44803, ipcPort=43637)
2011-08-09 20:07:38,650 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 43637: starting
2011-08-09 20:07:38,654 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:36054 storage DS-1042647985-10.0.62.238-47571-1312913245051
2011-08-09 20:07:38,655 DEBUG hdfs.StateChange (FSNamesystem.java:unprotectedAddDatanode(3584)) - BLOCK* NameSystem.unprotectedAddDatanode: node 127.0.0.1:36054 is added to datanodeMap.
2011-08-09 20:07:38,655 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:36054
2011-08-09 20:07:38,656 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:36054, storageID=DS-1042647985-10.0.62.238-47571-1312913245051, infoPort=44803, ipcPort=43637)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:07:38,657 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 3600000msec Initial delay: 0msec
2011-08-09 20:07:38,706 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:07:38,707 DEBUG hdfs.StateChange (NameNode.java:blockReport(981)) - *BLOCK* NameNode.blockReport: from 127.0.0.1:36054 8 blocks
2011-08-09 20:07:38,707 DEBUG hdfs.StateChange (FSNamesystem.java:processReport(3679)) - BLOCK* NameSystem.processReport: from 127.0.0.1:36054 8 blocks
2011-08-09 20:07:38,707 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:36054 8 blocks shortCircuit first report.
2011-08-09 20:07:38,709 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 20:07:38,712 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 6
2011-08-09 20:07:38,712 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 20:07:38,712 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 0
2011-08-09 20:07:38,713 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 20:07:38,713 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 20:07:38,713 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 20:07:38,713 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 20:07:38,714 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 0 blocks
2011-08-09 20:07:38,716 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 8 blocks got processed in 11 msecs
2011-08-09 20:07:38,716 INFO  datanode.DataNode (DataNode.java:offerService(864)) - Starting Periodic block scanner.
2011-08-09 20:07:38,723 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:07:38,726 INFO  datanode.DataBlockScanner (DataBlockScanner.java:verifyBlock(435)) - Verification succeeded for blk_-1966070360849051554_1002
2011-08-09 20:07:38,746 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=open	src=/user/dir3/dir1/file1	dst=null	perm=null
127.0.0.1:36054  off 0 len 8192
127.0.0.1:36054  off 8192 len 8192
127.0.0.1:36054  off 16384 len 1
2011-08-09 20:07:38,761 INFO  hdfs.AppendTestUtil (AppendTestUtil.java:randomBytes(70)) - seed=3735928559, size=16385
2011-08-09 20:07:38,765 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=open	src=/user/dir3/dir1/file1	dst=null	perm=null
2011-08-09 20:07:38,772 INFO  DataNode.clienttrace (BlockSender.java:sendBlock(441)) - src: /127.0.0.1:36054, dest: /127.0.0.1:41053, bytes: 8256, op: HDFS_READ, cliID: DFSClient_1350723132, offset: 0, srvID: DS-1042647985-10.0.62.238-47571-1312913245051, blockid: blk_-4394746639962649144_1001, duration: 1488615
2011-08-09 20:07:38,807 INFO  DataNode.clienttrace (BlockSender.java:sendBlock(441)) - src: /127.0.0.1:36054, dest: /127.0.0.1:41054, bytes: 8256, op: HDFS_READ, cliID: DFSClient_1350723132, offset: 0, srvID: DS-1042647985-10.0.62.238-47571-1312913245051, blockid: blk_-5212755061808577397_1001, duration: 348257
2011-08-09 20:07:38,811 INFO  DataNode.clienttrace (BlockSender.java:sendBlock(441)) - src: /127.0.0.1:36054, dest: /127.0.0.1:41055, bytes: 5, op: HDFS_READ, cliID: DFSClient_1350723132, offset: 0, srvID: DS-1042647985-10.0.62.238-47571-1312913245051, blockid: blk_-6978519493608705401_1001, duration: 372014
2011-08-09 20:07:38,867 ERROR hdfs.DFSClient (DFSClient.java:close(1511)) - Exception closing file /user/a+b/dir1/file1 : java.io.IOException: All datanodes 127.0.0.1:47571 are bad. Aborting...
java.io.IOException: All datanodes 127.0.0.1:47571 are bad. Aborting...
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.processDatanodeError(DFSClient.java:3202)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2400(DFSClient.java:2676)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2912)
2011-08-09 20:07:38,987 ERROR hdfs.DFSClient (DFSClient.java:close(1511)) - Exception closing file /user/dir2/file2 : java.io.IOException: All datanodes 127.0.0.1:47571 are bad. Aborting...
java.io.IOException: All datanodes 127.0.0.1:47571 are bad. Aborting...
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.processDatanodeError(DFSClient.java:3202)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2400(DFSClient.java:2676)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2912)
2011-08-09 20:07:38,988 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir3/file3 for DFSClient_1350723132
2011-08-09 20:07:38,989 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir3/file3 for DFSClient_1350723132
2011-08-09 20:07:38,989 INFO  ipc.Server (Server.java:run(1079)) - IPC Server handler 5 on 42989, call addBlock(/user/dir3/file3, DFSClient_1350723132) from 127.0.0.1:39941: error: org.apache.hadoop.hdfs.server.namenode.LeaseExpiredException: No lease on /user/dir3/file3 File does not exist. [Lease.  Holder: DFSClient_1350723132, pendingcreates: 3]
org.apache.hadoop.hdfs.server.namenode.LeaseExpiredException: No lease on /user/dir3/file3 File does not exist. [Lease.  Holder: DFSClient_1350723132, pendingcreates: 3]
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkLease(FSNamesystem.java:1813)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkLease(FSNamesystem.java:1804)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getAdditionalBlock(FSNamesystem.java:1708)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.addBlock(NameNode.java:560)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:631)
	at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1070)
	at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1066)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:396)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:1064)
2011-08-09 20:07:38,991 WARN  hdfs.DFSClient (DFSClient.java:run(2976)) - DataStreamer Exception: org.apache.hadoop.ipc.RemoteException: org.apache.hadoop.hdfs.server.namenode.LeaseExpiredException: No lease on /user/dir3/file3 File does not exist. [Lease.  Holder: DFSClient_1350723132, pendingcreates: 3]
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkLease(FSNamesystem.java:1813)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkLease(FSNamesystem.java:1804)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getAdditionalBlock(FSNamesystem.java:1708)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.addBlock(NameNode.java:560)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:631)
	at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1070)
	at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1066)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:396)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:1064)

	at org.apache.hadoop.ipc.Client.call(Client.java:764)
	at org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:223)
	at $Proxy4.addBlock(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:82)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:59)
	at $Proxy4.addBlock(Unknown Source)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.locateFollowingBlock(DFSClient.java:3591)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(DFSClient.java:3465)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2700(DFSClient.java:2676)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2933)

2011-08-09 20:07:38,991 WARN  hdfs.DFSClient (DFSClient.java:processDatanodeError(3153)) - Error Recovery for block blk_-4181818955614094238_1003 bad datanode[0] nodes == null
2011-08-09 20:07:38,991 WARN  hdfs.DFSClient (DFSClient.java:processDatanodeError(3181)) - Could not get block locations. Source file "/user/dir3/file3" - Aborting...
2011-08-09 20:07:38,992 ERROR hdfs.DFSClient (DFSClient.java:close(1511)) - Exception closing file /user/dir3/file3 : org.apache.hadoop.ipc.RemoteException: org.apache.hadoop.hdfs.server.namenode.LeaseExpiredException: No lease on /user/dir3/file3 File does not exist. [Lease.  Holder: DFSClient_1350723132, pendingcreates: 3]
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkLease(FSNamesystem.java:1813)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkLease(FSNamesystem.java:1804)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getAdditionalBlock(FSNamesystem.java:1708)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.addBlock(NameNode.java:560)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:631)
	at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1070)
	at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1066)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:396)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:1064)

org.apache.hadoop.ipc.RemoteException: org.apache.hadoop.hdfs.server.namenode.LeaseExpiredException: No lease on /user/dir3/file3 File does not exist. [Lease.  Holder: DFSClient_1350723132, pendingcreates: 3]
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkLease(FSNamesystem.java:1813)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.checkLease(FSNamesystem.java:1804)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getAdditionalBlock(FSNamesystem.java:1708)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.addBlock(NameNode.java:560)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:631)
	at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1070)
	at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:1066)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:396)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:1064)

	at org.apache.hadoop.ipc.Client.call(Client.java:764)
	at org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:223)
	at $Proxy4.addBlock(Unknown Source)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:82)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:59)
	at $Proxy4.addBlock(Unknown Source)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.locateFollowingBlock(DFSClient.java:3591)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(DFSClient.java:3465)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2700(DFSClient.java:2676)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2933)
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 20:07:39,009 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:07:39,010 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 43637
2011-08-09 20:07:39,010 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 43637: exiting
2011-08-09 20:07:39,010 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 43637: exiting
2011-08-09 20:07:39,010 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 43637: exiting
2011-08-09 20:07:39,012 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 43637
2011-08-09 20:07:39,013 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:07:39,014 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 20:07:39,014 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:36054, storageID=DS-1042647985-10.0.62.238-47571-1312913245051, infoPort=44803, ipcPort=43637):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 20:07:39,658 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:36054, storageID=DS-1042647985-10.0.62.238-47571-1312913245051, infoPort=44803, ipcPort=43637):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:07:39,659 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 43637
2011-08-09 20:07:39,659 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:07:39,662 INFO  datanode.DataBlockScanner (DataBlockScanner.java:run(604)) - Exiting DataBlockScanner thread.
2011-08-09 20:07:39,663 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 20:07:39,663 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 20:07:40,014 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:07:40,015 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 20:07:40,019 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:07:40,120 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:run(188)) - PendingReplicationMonitor thread received exception. java.lang.InterruptedException: sleep interrupted
2011-08-09 20:07:40,120 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 20:07:40,120 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:40,121 DEBUG namenode.LeaseManager (LeaseManager.java:run(374)) - Monitor is interrupted
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.hdfs.server.namenode.LeaseManager$Monitor.run(LeaseManager.java:371)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:40,121 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits:0 
2011-08-09 20:07:40,122 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:07:40,122 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:07:40,122 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:07:40,126 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:07:40,126 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:07:40,126 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:07:40,130 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 42989
2011-08-09 20:07:40,130 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 42989
2011-08-09 20:07:40,133 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 42989: exiting
2011-08-09 20:07:40,130 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 42989: exiting
2011-08-09 20:07:40,143 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:07:40,143 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 42989: exiting
2011-08-09 20:07:40,150 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 42989: exiting
2011-08-09 20:07:40,150 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 42989: exiting
2011-08-09 20:07:40,157 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 42989: exiting
2011-08-09 20:07:40,160 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 42989: exiting
2011-08-09 20:07:40,161 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 42989: exiting
2011-08-09 20:07:40,161 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 42989: exiting
2011-08-09 20:07:40,161 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 42989: exiting
Test 2************************************
2011-08-09 20:07:40,171 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 20:07:40,171 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 20:07:40,172 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 20:07:40,172 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 20:07:40,180 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 20:07:40,181 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 20:07:40,181 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 20:07:40,181 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 20:07:40,188 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 95 saved in 0 seconds.
2011-08-09 20:07:40,188 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:40,189 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:40,216 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:40,217 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:40,230 INFO  common.Storage (FSImage.java:format(1394)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1 has been successfully formatted.
2011-08-09 20:07:40,232 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 95 saved in 0 seconds.
2011-08-09 20:07:40,233 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:40,233 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:40,234 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:40,234 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:40,245 INFO  common.Storage (FSImage.java:format(1394)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2 has been successfully formatted.
2011-08-09 20:07:40,245 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 20:07:40,248 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:07:40,248 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 20:07:40,249 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 20:07:40,249 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 20:07:40,249 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 20:07:40,255 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 20:07:40,255 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 20:07:40,255 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 20:07:40,255 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 20:07:40,258 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:07:40,259 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 20:07:40,259 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 20:07:40,263 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 1
2011-08-09 20:07:40,263 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 20:07:40,263 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 95 loaded in 0 seconds.
2011-08-09 20:07:40,264 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits of size 4 edits # 0 loaded in 0 seconds.
2011-08-09 20:07:40,264 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:40,384 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:40,386 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 20:07:40,386 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 131 msecs
2011-08-09 20:07:40,386 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 20:07:40,390 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 0
2011-08-09 20:07:40,391 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 20:07:40,391 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 0
2011-08-09 20:07:40,391 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 20:07:40,391 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 20:07:40,393 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:07:40,395 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=53160
2011-08-09 20:07:40,396 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:53160
2011-08-09 20:07:40,396 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:07:40,396 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 53160: starting
2011-08-09 20:07:40,397 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 53160: starting
2011-08-09 20:07:40,398 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 53160: starting
2011-08-09 20:07:40,398 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 53160: starting
2011-08-09 20:07:40,398 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 53160: starting
2011-08-09 20:07:40,398 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 53160: starting
2011-08-09 20:07:40,399 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 53160: starting
2011-08-09 20:07:40,399 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 53160: starting
2011-08-09 20:07:40,399 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 53160: starting
2011-08-09 20:07:40,400 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 53160: starting
2011-08-09 20:07:40,400 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 53160: starting
2011-08-09 20:07:40,409 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 20:07:40,409 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 0 racks and 0 datanodes
2011-08-09 20:07:40,410 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 0 blocks
2011-08-09 20:07:40,410 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 20:07:40,410 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:pendingReplicationCheck(201)) - PendingReplicationMonitor checking Q
2011-08-09 20:07:40,411 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 20:07:40,453 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:07:40,454 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:07:40,455 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 43214 webServer.getConnectors()[0].getLocalPort() returned 43214
2011-08-09 20:07:40,455 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 43214
2011-08-09 20:07:40,455 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:07:40,521 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:43214
2011-08-09 20:07:40,522 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:43214
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2
2011-08-09 20:07:40,529 INFO  common.Storage (DataStorage.java:recoverTransitionRead(124)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1 is not formatted.
2011-08-09 20:07:40,529 INFO  common.Storage (DataStorage.java:recoverTransitionRead(125)) - Formatting ...
2011-08-09 20:07:40,546 INFO  common.Storage (DataStorage.java:recoverTransitionRead(124)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2 is not formatted.
2011-08-09 20:07:40,546 INFO  common.Storage (DataStorage.java:recoverTransitionRead(125)) - Formatting ...
2011-08-09 20:07:40,727 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 20:07:40,729 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 47021
2011-08-09 20:07:40,729 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 20:07:40,732 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:07:40,749 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:07:40,749 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 39856 webServer.getConnectors()[0].getLocalPort() returned 39856
2011-08-09 20:07:40,750 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 39856
2011-08-09 20:07:40,750 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:07:40,884 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:39856
2011-08-09 20:07:40,885 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 20:07:40,891 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:07:40,893 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=41075
2011-08-09 20:07:40,894 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:07:40,936 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 41075: starting
2011-08-09 20:07:40,937 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 41075: starting
2011-08-09 20:07:40,937 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:47021, storageID=, infoPort=39856, ipcPort=41075)
2011-08-09 20:07:40,937 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 41075: starting
2011-08-09 20:07:40,936 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 41075: starting
2011-08-09 20:07:40,955 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:47021 storage DS-773961589-10.0.62.238-47021-1312913260952
2011-08-09 20:07:40,956 DEBUG hdfs.StateChange (FSNamesystem.java:unprotectedAddDatanode(3584)) - BLOCK* NameSystem.unprotectedAddDatanode: node 127.0.0.1:47021 is added to datanodeMap.
2011-08-09 20:07:40,956 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:47021
2011-08-09 20:07:41,011 INFO  datanode.DataNode (DataNode.java:register(592)) - New storage id DS-773961589-10.0.62.238-47021-1312913260952 is assigned to data-node 127.0.0.1:47021
2011-08-09 20:07:41,013 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:47021, storageID=DS-773961589-10.0.62.238-47021-1312913260952, infoPort=39856, ipcPort=41075)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:07:41,014 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 3600000msec Initial delay: 0msec
2011-08-09 20:07:41,063 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:07:41,064 DEBUG hdfs.StateChange (NameNode.java:blockReport(981)) - *BLOCK* NameNode.blockReport: from 127.0.0.1:47021 0 blocks
2011-08-09 20:07:41,065 DEBUG hdfs.StateChange (FSNamesystem.java:processReport(3679)) - BLOCK* NameSystem.processReport: from 127.0.0.1:47021 0 blocks
2011-08-09 20:07:41,065 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:47021 0 blocks shortCircuit first report.
2011-08-09 20:07:41,066 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 0 blocks got processed in 3 msecs
2011-08-09 20:07:41,066 INFO  datanode.DataNode (DataNode.java:offerService(864)) - Starting Periodic block scanner.
2011-08-09 20:07:41,080 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
createFile: Created /user/dir1/file1 with 1 replica.
2011-08-09 20:07:41,120 DEBUG hdfs.StateChange (NameNode.java:create(502)) - *DIR* NameNode.create: file /user/dir1/file1 for DFSClient_252871945 at 127.0.0.1
2011-08-09 20:07:41,121 DEBUG hdfs.StateChange (FSNamesystem.java:startFileInternal(1449)) - DIR* NameSystem.startFile: src=/user/dir1/file1, holder=DFSClient_252871945, clientMachine=127.0.0.1, replication=1, overwrite=true, append=false
2011-08-09 20:07:41,122 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [10, 0, 0, 0, 0, 0, 0, 3, -23]
2011-08-09 20:07:41,122 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [10, 0, 0, 0, 0, 0, 0, 3, -23]
2011-08-09 20:07:41,123 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 5, 47, 117, 115, 101, 114, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 49, 50, 51, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:41,124 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 5, 47, 117, 115, 101, 114, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 49, 50, 51, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:41,124 DEBUG hdfs.StateChange (FSDirectory.java:mkdirs(1341)) - DIR* FSDirectory.mkdirs: created directory /user
2011-08-09 20:07:41,125 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 49, 50, 51, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:41,125 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 49, 50, 51, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:41,125 DEBUG hdfs.StateChange (FSDirectory.java:mkdirs(1341)) - DIR* FSDirectory.mkdirs: created directory /user/dir1
2011-08-09 20:07:41,126 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 49, 50, 51, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 49, 50, 51, 0, 4, 56, 49, 57, 50, 0, 0, 0, 0, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 19, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 50, 53, 50, 56, 55, 49, 57, 52, 53, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:41,126 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 49, 50, 51, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 49, 50, 51, 0, 4, 56, 49, 57, 50, 0, 0, 0, 0, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 19, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 50, 53, 50, 56, 55, 49, 57, 52, 53, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:41,127 DEBUG hdfs.StateChange (FSDirectory.java:addFile(243)) - DIR* FSDirectory.addFile: /user/dir1/file1 is added to the file system
2011-08-09 20:07:41,127 DEBUG hdfs.StateChange (FSNamesystem.java:startFileInternal(1585)) - DIR* NameSystem.startFile: add /user/dir1/file1 to namespace for DFSClient_252871945
2011-08-09 20:07:41,128 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:07:41,129 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:07:41,129 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 243
2011-08-09 20:07:41,134 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:07:41,135 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:07:41,135 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 243
2011-08-09 20:07:41,138 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=create	src=/user/dir1/file1	dst=null	perm=jeff:supergroup:rw-r--r--
testFileCreationDeleteParent: Created file /user/dir1/file1
2011-08-09 20:07:41,162 INFO  hdfs.AppendTestUtil (AppendTestUtil.java:randomBytes(70)) - seed=3735928559, size=16385
2011-08-09 20:07:41,174 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir1/file1 for DFSClient_252871945
2011-08-09 20:07:41,175 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir1/file1 for DFSClient_252871945
2011-08-09 20:07:41,175 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/dir1/file1 with blk_567328378994772816_1001 block is added to the in-memory file system
2011-08-09 20:07:41,175 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/dir1/file1. blk_567328378994772816_1001
2011-08-09 20:07:41,178 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_567328378994772816_1001 src: /127.0.0.1:57863 dest: /127.0.0.1:47021
2011-08-09 20:07:41,183 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:57863, dest: /127.0.0.1:47021, bytes: 8192, op: HDFS_WRITE, cliID: DFSClient_252871945, offset: 0, srvID: DS-773961589-10.0.62.238-47021-1312913260952, blockid: blk_567328378994772816_1001, duration: 1906465
2011-08-09 20:07:41,183 DEBUG hdfs.StateChange (NameNode.java:blockReceived(995)) - *BLOCK* NameNode.blockReceived: from 127.0.0.1:47021 1 blocks.
2011-08-09 20:07:41,183 DEBUG hdfs.StateChange (FSNamesystem.java:blockReceived(4414)) - BLOCK* NameSystem.blockReceived: blk_567328378994772816_1001 is received from 127.0.0.1:47021
2011-08-09 20:07:41,184 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:47021 is added to blk_567328378994772816_1001 size 8192
2011-08-09 20:07:41,184 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_567328378994772816_1001 terminating
2011-08-09 20:07:41,187 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir1/file1 for DFSClient_252871945
2011-08-09 20:07:41,187 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir1/file1 for DFSClient_252871945
2011-08-09 20:07:41,188 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/dir1/file1 with blk_-8951609952264897186_1001 block is added to the in-memory file system
2011-08-09 20:07:41,188 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/dir1/file1. blk_-8951609952264897186_1001
2011-08-09 20:07:41,190 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-8951609952264897186_1001 src: /127.0.0.1:57864 dest: /127.0.0.1:47021
2011-08-09 20:07:41,194 DEBUG hdfs.StateChange (NameNode.java:blockReceived(995)) - *BLOCK* NameNode.blockReceived: from 127.0.0.1:47021 1 blocks.
2011-08-09 20:07:41,194 DEBUG hdfs.StateChange (FSNamesystem.java:blockReceived(4414)) - BLOCK* NameSystem.blockReceived: blk_-8951609952264897186_1001 is received from 127.0.0.1:47021
2011-08-09 20:07:41,194 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:47021 is added to blk_-8951609952264897186_1001 size 8192
2011-08-09 20:07:41,195 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:57864, dest: /127.0.0.1:47021, bytes: 8192, op: HDFS_WRITE, cliID: DFSClient_252871945, offset: 0, srvID: DS-773961589-10.0.62.238-47021-1312913260952, blockid: blk_-8951609952264897186_1001, duration: 1034426
2011-08-09 20:07:41,195 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-8951609952264897186_1001 terminating
2011-08-09 20:07:41,232 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir1/file1 for DFSClient_252871945
2011-08-09 20:07:41,232 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir1/file1 for DFSClient_252871945
2011-08-09 20:07:41,233 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/dir1/file1 with blk_3870909576548390506_1001 block is added to the in-memory file system
2011-08-09 20:07:41,233 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/dir1/file1. blk_3870909576548390506_1001
2011-08-09 20:07:41,234 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_3870909576548390506_1001 src: /127.0.0.1:57865 dest: /127.0.0.1:47021
2011-08-09 20:07:41,237 INFO  hdfs.StateChange (FSNamesystem.java:fsync(2430)) - BLOCK* NameSystem.fsync: file /user/dir1/file1 for DFSClient_252871945
2011-08-09 20:07:41,237 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 49, 50, 51, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 49, 50, 51, 0, 4, 56, 49, 57, 50, 0, 0, 0, 3, 7, -33, -114, 39, -92, -5, 75, 80, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -23, -125, -59, 126, 45, 19, 102, 61, 94, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -23, 53, -72, 59, -64, 59, -45, 22, 106, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, -23, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 19, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 50, 53, 50, 56, 55, 49, 57, 52, 53, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:41,237 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 49, 50, 51, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 49, 50, 51, 0, 4, 56, 49, 57, 50, 0, 0, 0, 3, 7, -33, -114, 39, -92, -5, 75, 80, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -23, -125, -59, 126, 45, 19, 102, 61, 94, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -23, 53, -72, 59, -64, 59, -45, 22, 106, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, -23, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 19, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 50, 53, 50, 56, 55, 49, 57, 52, 53, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:41,238 DEBUG hdfs.StateChange (FSDirectory.java:persistBlocks(376)) - DIR* FSDirectory.persistBlocks: /user/dir1/file1 with 3 blocks is persisted to the file system
2011-08-09 20:07:41,238 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 193
2011-08-09 20:07:41,239 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 193
createFile: Created /user/dir2/file2 with 1 replica.
2011-08-09 20:07:41,241 DEBUG hdfs.StateChange (NameNode.java:create(502)) - *DIR* NameNode.create: file /user/dir2/file2 for DFSClient_252871945 at 127.0.0.1
2011-08-09 20:07:41,242 DEBUG hdfs.StateChange (FSNamesystem.java:startFileInternal(1449)) - DIR* NameSystem.startFile: src=/user/dir2/file2, holder=DFSClient_252871945, clientMachine=127.0.0.1, replication=1, overwrite=true, append=false
2011-08-09 20:07:41,243 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [10, 0, 0, 0, 0, 0, 0, 3, -22]
2011-08-09 20:07:41,243 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [10, 0, 0, 0, 0, 0, 0, 3, -22]
2011-08-09 20:07:41,244 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 50, 52, 51, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:41,244 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 50, 52, 51, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:41,244 DEBUG hdfs.StateChange (FSDirectory.java:mkdirs(1341)) - DIR* FSDirectory.mkdirs: created directory /user/dir2
2011-08-09 20:07:41,244 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 47, 102, 105, 108, 101, 50, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 50, 52, 51, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 50, 52, 51, 0, 4, 56, 49, 57, 50, 0, 0, 0, 0, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 19, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 50, 53, 50, 56, 55, 49, 57, 52, 53, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:41,245 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 47, 102, 105, 108, 101, 50, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 50, 52, 51, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 50, 52, 51, 0, 4, 56, 49, 57, 50, 0, 0, 0, 0, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 19, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 50, 53, 50, 56, 55, 49, 57, 52, 53, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:41,245 DEBUG hdfs.StateChange (FSDirectory.java:addFile(243)) - DIR* FSDirectory.addFile: /user/dir2/file2 is added to the file system
2011-08-09 20:07:41,245 DEBUG hdfs.StateChange (FSNamesystem.java:startFileInternal(1585)) - DIR* NameSystem.startFile: add /user/dir2/file2 to namespace for DFSClient_252871945
2011-08-09 20:07:41,245 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 191
2011-08-09 20:07:41,246 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 191
2011-08-09 20:07:41,247 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=create	src=/user/dir2/file2	dst=null	perm=jeff:supergroup:rw-r--r--
testFileCreationDeleteParent: Created file /user/dir2/file2
2011-08-09 20:07:41,248 INFO  hdfs.AppendTestUtil (AppendTestUtil.java:randomBytes(70)) - seed=3735928559, size=16385
2011-08-09 20:07:41,268 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir2/file2 for DFSClient_252871945
2011-08-09 20:07:41,269 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir2/file2 for DFSClient_252871945
2011-08-09 20:07:41,269 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/dir2/file2 with blk_4428521071636317760_1002 block is added to the in-memory file system
2011-08-09 20:07:41,269 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/dir2/file2. blk_4428521071636317760_1002
2011-08-09 20:07:41,313 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_4428521071636317760_1002 src: /127.0.0.1:57866 dest: /127.0.0.1:47021
2011-08-09 20:07:41,317 DEBUG hdfs.StateChange (NameNode.java:blockReceived(995)) - *BLOCK* NameNode.blockReceived: from 127.0.0.1:47021 1 blocks.
2011-08-09 20:07:41,317 DEBUG hdfs.StateChange (FSNamesystem.java:blockReceived(4414)) - BLOCK* NameSystem.blockReceived: blk_4428521071636317760_1002 is received from 127.0.0.1:47021
2011-08-09 20:07:41,317 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:47021 is added to blk_4428521071636317760_1002 size 8192
2011-08-09 20:07:41,318 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:57866, dest: /127.0.0.1:47021, bytes: 8192, op: HDFS_WRITE, cliID: DFSClient_252871945, offset: 0, srvID: DS-773961589-10.0.62.238-47021-1312913260952, blockid: blk_4428521071636317760_1002, duration: 2226771
2011-08-09 20:07:41,318 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_4428521071636317760_1002 terminating
2011-08-09 20:07:41,320 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir2/file2 for DFSClient_252871945
2011-08-09 20:07:41,320 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir2/file2 for DFSClient_252871945
2011-08-09 20:07:41,320 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/dir2/file2 with blk_-6660200873049632254_1002 block is added to the in-memory file system
2011-08-09 20:07:41,320 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/dir2/file2. blk_-6660200873049632254_1002
2011-08-09 20:07:41,322 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-6660200873049632254_1002 src: /127.0.0.1:57867 dest: /127.0.0.1:47021
2011-08-09 20:07:41,325 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:57867, dest: /127.0.0.1:47021, bytes: 8192, op: HDFS_WRITE, cliID: DFSClient_252871945, offset: 0, srvID: DS-773961589-10.0.62.238-47021-1312913260952, blockid: blk_-6660200873049632254_1002, duration: 1560724
2011-08-09 20:07:41,325 DEBUG hdfs.StateChange (NameNode.java:blockReceived(995)) - *BLOCK* NameNode.blockReceived: from 127.0.0.1:47021 1 blocks.
2011-08-09 20:07:41,325 DEBUG hdfs.StateChange (FSNamesystem.java:blockReceived(4414)) - BLOCK* NameSystem.blockReceived: blk_-6660200873049632254_1002 is received from 127.0.0.1:47021
2011-08-09 20:07:41,325 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-6660200873049632254_1002 terminating
2011-08-09 20:07:41,326 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:47021 is added to blk_-6660200873049632254_1002 size 8192
2011-08-09 20:07:41,328 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir2/file2 for DFSClient_252871945
2011-08-09 20:07:41,328 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir2/file2 for DFSClient_252871945
2011-08-09 20:07:41,328 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/dir2/file2 with blk_-4852882692593625421_1002 block is added to the in-memory file system
2011-08-09 20:07:41,328 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/dir2/file2. blk_-4852882692593625421_1002
2011-08-09 20:07:41,329 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-4852882692593625421_1002 src: /127.0.0.1:57868 dest: /127.0.0.1:47021
2011-08-09 20:07:41,331 INFO  hdfs.StateChange (FSNamesystem.java:fsync(2430)) - BLOCK* NameSystem.fsync: file /user/dir2/file2 for DFSClient_252871945
2011-08-09 20:07:41,332 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 47, 102, 105, 108, 101, 50, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 50, 52, 51, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 50, 52, 51, 0, 4, 56, 49, 57, 50, 0, 0, 0, 3, 61, 117, 68, 115, -117, 55, 6, 64, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -22, -93, -110, 54, -105, -35, 33, 82, 2, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -22, -68, -89, 24, -25, 27, 80, -42, -77, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, -22, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 19, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 50, 53, 50, 56, 55, 49, 57, 52, 53, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:41,333 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 47, 102, 105, 108, 101, 50, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 50, 52, 51, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 50, 52, 51, 0, 4, 56, 49, 57, 50, 0, 0, 0, 3, 61, 117, 68, 115, -117, 55, 6, 64, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -22, -93, -110, 54, -105, -35, 33, 82, 2, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -22, -68, -89, 24, -25, 27, 80, -42, -77, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, -22, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 19, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 50, 53, 50, 56, 55, 49, 57, 52, 53, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:41,333 DEBUG hdfs.StateChange (FSDirectory.java:persistBlocks(376)) - DIR* FSDirectory.persistBlocks: /user/dir2/file2 with 3 blocks is persisted to the file system
2011-08-09 20:07:41,333 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 193
2011-08-09 20:07:41,334 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 193
2011-08-09 20:07:41,336 DEBUG hdfs.StateChange (NameNode.java:rename(649)) - *DIR* NameNode.rename: /user/dir1 to /user/dir3
2011-08-09 20:07:41,336 DEBUG hdfs.StateChange (FSNamesystem.java:renameToInternal(2161)) - DIR* NameSystem.renameTo: /user/dir1 to /user/dir3
2011-08-09 20:07:41,337 DEBUG hdfs.StateChange (FSDirectory.java:renameTo(436)) - DIR* FSDirectory.renameTo: /user/dir1 to /user/dir3
2011-08-09 20:07:41,337 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedRenameTo(529)) - DIR* FSDirectory.unprotectedRenameTo: /user/dir1 is renamed to /user/dir3
2011-08-09 20:07:41,337 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [1, 0, 0, 0, 3, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 51, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 51, 51, 55]
2011-08-09 20:07:41,337 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [1, 0, 0, 0, 3, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 51, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 54, 49, 51, 51, 55]
2011-08-09 20:07:41,337 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(294)) - LeaseManager.changelease:  src=/user/dir1, dest=/user/dir3, overwrite=/user/dir1, replaceBy=/user/dir3
2011-08-09 20:07:41,337 DEBUG namenode.LeaseManager (LeaseManager.java:findLeaseWithPrefixPath(328)) - LeaseManager.findLease: prefix=/user/dir1
2011-08-09 20:07:41,338 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(307)) - changeLease: replacing /user/dir1/file1 with /user/dir3/file1
2011-08-09 20:07:41,338 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 49
2011-08-09 20:07:41,339 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 49
2011-08-09 20:07:41,339 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=rename	src=/user/dir1	dst=/user/dir3	perm=jeff:supergroup:rwxr-xr-x
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 20:07:41,374 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:07:41,375 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 41075
2011-08-09 20:07:41,376 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 41075: exiting
2011-08-09 20:07:41,376 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 41075: exiting
2011-08-09 20:07:41,376 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 41075: exiting
2011-08-09 20:07:41,377 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 41075
2011-08-09 20:07:41,380 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 5
2011-08-09 20:07:41,380 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(780)) - PacketResponder 0 for block blk_3870909576548390506_1001 Interrupted.
2011-08-09 20:07:41,380 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:07:41,380 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_3870909576548390506_1001 terminating
2011-08-09 20:07:41,380 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(780)) - PacketResponder 0 for block blk_-4852882692593625421_1002 Interrupted.
2011-08-09 20:07:41,380 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-4852882692593625421_1002 terminating
2011-08-09 20:07:41,380 WARN  hdfs.DFSClient (DFSClient.java:run(3117)) - DFSOutputStream ResponseProcessor exception  for block blk_-4852882692593625421_1002java.io.EOFException
	at java.io.DataInputStream.readFully(DataInputStream.java:180)
	at java.io.DataInputStream.readLong(DataInputStream.java:399)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$ResponseProcessor.run(DFSClient.java:3071)

2011-08-09 20:07:41,381 INFO  datanode.DataNode (BlockReceiver.java:receiveBlock(569)) - Exception in receiveBlock for block blk_3870909576548390506_1001 java.io.InterruptedIOException: Interruped while waiting for IO on channel java.nio.channels.SocketChannel[closed]. 0 millis timeout left.
2011-08-09 20:07:41,381 INFO  datanode.DataNode (DataXceiver.java:writeBlock(404)) - writeBlock blk_3870909576548390506_1001 received exception java.io.InterruptedIOException: Interruped while waiting for IO on channel java.nio.channels.SocketChannel[closed]. 0 millis timeout left.
2011-08-09 20:07:41,381 ERROR datanode.DataNode (DataXceiver.java:run(154)) - DatanodeRegistration(127.0.0.1:47021, storageID=DS-773961589-10.0.62.238-47021-1312913260952, infoPort=39856, ipcPort=41075):DataXceiver
java.io.InterruptedIOException: Interruped while waiting for IO on channel java.nio.channels.SocketChannel[closed]. 0 millis timeout left.
	at org.apache.hadoop.net.SocketIOWithTimeout$SelectorPool.select(SocketIOWithTimeout.java:349)
	at org.apache.hadoop.net.SocketIOWithTimeout.doIO(SocketIOWithTimeout.java:157)
	at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:155)
	at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:128)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
	at java.io.BufferedInputStream.read1(BufferedInputStream.java:258)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:317)
	at java.io.DataInputStream.read(DataInputStream.java:132)
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.readToBuf(BlockReceiver.java:274)
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.readNextPacket(BlockReceiver.java:321)
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.receivePacket(BlockReceiver.java:385)
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.receiveBlock(BlockReceiver.java:537)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiver.writeBlock(DataXceiver.java:385)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiver.run(DataXceiver.java:120)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:41,401 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:47021, storageID=DS-773961589-10.0.62.238-47021-1312913260952, infoPort=39856, ipcPort=41075):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 20:07:41,401 WARN  hdfs.DFSClient (DFSClient.java:run(3117)) - DFSOutputStream ResponseProcessor exception  for block blk_3870909576548390506_1001java.io.EOFException
	at java.io.DataInputStream.readFully(DataInputStream.java:180)
	at java.io.DataInputStream.readLong(DataInputStream.java:399)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$ResponseProcessor.run(DFSClient.java:3071)

2011-08-09 20:07:41,402 WARN  hdfs.DFSClient (DFSClient.java:processDatanodeError(3153)) - Error Recovery for block blk_3870909576548390506_1001 bad datanode[0] 127.0.0.1:47021
2011-08-09 20:07:41,402 WARN  hdfs.DFSClient (DFSClient.java:processDatanodeError(3153)) - Error Recovery for block blk_-4852882692593625421_1002 bad datanode[0] 127.0.0.1:47021
2011-08-09 20:07:41,403 INFO  datanode.DataNode (BlockReceiver.java:receiveBlock(569)) - Exception in receiveBlock for block blk_-4852882692593625421_1002 java.io.InterruptedIOException: Interruped while waiting for IO on channel java.nio.channels.SocketChannel[closed]. 0 millis timeout left.
2011-08-09 20:07:41,403 INFO  datanode.DataNode (DataXceiver.java:writeBlock(404)) - writeBlock blk_-4852882692593625421_1002 received exception java.io.InterruptedIOException: Interruped while waiting for IO on channel java.nio.channels.SocketChannel[closed]. 0 millis timeout left.
2011-08-09 20:07:41,403 ERROR datanode.DataNode (DataXceiver.java:run(154)) - DatanodeRegistration(127.0.0.1:47021, storageID=DS-773961589-10.0.62.238-47021-1312913260952, infoPort=39856, ipcPort=41075):DataXceiver
java.io.InterruptedIOException: Interruped while waiting for IO on channel java.nio.channels.SocketChannel[closed]. 0 millis timeout left.
	at org.apache.hadoop.net.SocketIOWithTimeout$SelectorPool.select(SocketIOWithTimeout.java:349)
	at org.apache.hadoop.net.SocketIOWithTimeout.doIO(SocketIOWithTimeout.java:157)
	at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:155)
	at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:128)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
	at java.io.BufferedInputStream.read1(BufferedInputStream.java:258)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:317)
	at java.io.DataInputStream.read(DataInputStream.java:132)
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.readToBuf(BlockReceiver.java:274)
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.readNextPacket(BlockReceiver.java:321)
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.receivePacket(BlockReceiver.java:385)
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.receiveBlock(BlockReceiver.java:537)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiver.writeBlock(DataXceiver.java:385)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiver.run(DataXceiver.java:120)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:42,015 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:47021, storageID=DS-773961589-10.0.62.238-47021-1312913260952, infoPort=39856, ipcPort=41075):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:07:42,016 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 41075
2011-08-09 20:07:42,016 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:07:42,016 INFO  datanode.DataBlockScanner (DataBlockScanner.java:run(604)) - Exiting DataBlockScanner thread.
2011-08-09 20:07:42,018 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 20:07:42,018 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 20:07:42,380 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:07:42,381 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 20:07:42,385 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:07:42,486 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:run(188)) - PendingReplicationMonitor thread received exception. java.lang.InterruptedException: sleep interrupted
2011-08-09 20:07:42,487 DEBUG namenode.LeaseManager (LeaseManager.java:run(374)) - Monitor is interrupted
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.hdfs.server.namenode.LeaseManager$Monitor.run(LeaseManager.java:371)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:42,487 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 20:07:42,487 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 10 Total time for transactions(ms): 7 Number of transactions batched in Syncs: 0 Number of syncs: 5 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits:9  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits:6 
2011-08-09 20:07:42,487 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:42,488 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:07:42,489 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:07:42,490 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 53160
2011-08-09 20:07:42,490 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 53160: exiting
2011-08-09 20:07:42,490 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 53160: exiting
2011-08-09 20:07:42,490 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 53160: exiting
2011-08-09 20:07:42,491 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 53160: exiting
2011-08-09 20:07:42,491 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 53160
2011-08-09 20:07:42,492 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 53160: exiting
2011-08-09 20:07:42,493 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 53160: exiting
2011-08-09 20:07:42,493 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 53160: exiting
2011-08-09 20:07:42,493 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 53160: exiting
2011-08-09 20:07:42,492 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 53160: exiting
2011-08-09 20:07:42,494 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 53160: exiting
2011-08-09 20:07:42,494 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:07:46,495 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 20:07:46,500 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:07:46,501 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 20:07:46,502 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 20:07:46,503 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 20:07:46,503 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 20:07:46,513 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 20:07:46,513 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 20:07:46,513 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 20:07:46,513 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 20:07:46,517 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:07:46,517 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 20:07:46,518 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 20:07:46,521 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 1
2011-08-09 20:07:46,521 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 20:07:46,522 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 95 loaded in 0 seconds.
2011-08-09 20:07:46,522 DEBUG namenode.FSNamesystem (FSEditLog.java:loadFSEdits(683)) - 0: /user/dir1/file1 numblocks : 0 clientHolder DFSClient_252871945 clientMachine 127.0.0.1
2011-08-09 20:07:46,522 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedDelete(826)) - DIR* FSDirectory.unprotectedDelete: failed to remove /user/dir1/file1 because it does not exist
2011-08-09 20:07:46,523 DEBUG namenode.FSNamesystem (FSEditLog.java:loadFSEdits(683)) - 0: /user/dir1/file1 numblocks : 3 clientHolder DFSClient_252871945 clientMachine 127.0.0.1
2011-08-09 20:07:46,523 DEBUG namenode.LeaseManager (LeaseManager.java:findLeaseWithPrefixPath(328)) - LeaseManager.findLease: prefix=/user/dir1/file1
2011-08-09 20:07:46,523 DEBUG namenode.LeaseManager (LeaseManager.java:removeLeaseWithPrefixPath(318)) - LeaseManager.removeLeaseWithPrefixPath: entry=/user/dir1/file1=[Lease.  Holder: DFSClient_252871945, pendingcreates: 1]
2011-08-09 20:07:46,523 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedDelete(856)) - DIR* FSDirectory.unprotectedDelete: /user/dir1/file1 is removed
2011-08-09 20:07:46,524 DEBUG namenode.FSNamesystem (FSEditLog.java:loadFSEdits(683)) - 0: /user/dir2/file2 numblocks : 0 clientHolder DFSClient_252871945 clientMachine 127.0.0.1
2011-08-09 20:07:46,524 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedDelete(826)) - DIR* FSDirectory.unprotectedDelete: failed to remove /user/dir2/file2 because it does not exist
2011-08-09 20:07:46,524 DEBUG namenode.FSNamesystem (FSEditLog.java:loadFSEdits(683)) - 0: /user/dir2/file2 numblocks : 3 clientHolder DFSClient_252871945 clientMachine 127.0.0.1
2011-08-09 20:07:46,548 DEBUG namenode.LeaseManager (LeaseManager.java:findLeaseWithPrefixPath(328)) - LeaseManager.findLease: prefix=/user/dir2/file2
2011-08-09 20:07:46,548 DEBUG namenode.LeaseManager (LeaseManager.java:removeLeaseWithPrefixPath(318)) - LeaseManager.removeLeaseWithPrefixPath: entry=/user/dir2/file2=[Lease.  Holder: DFSClient_252871945, pendingcreates: 2]
2011-08-09 20:07:46,548 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedDelete(856)) - DIR* FSDirectory.unprotectedDelete: /user/dir2/file2 is removed
2011-08-09 20:07:46,549 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedRenameTo(529)) - DIR* FSDirectory.unprotectedRenameTo: /user/dir1 is renamed to /user/dir3
2011-08-09 20:07:46,549 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(294)) - LeaseManager.changelease:  src=/user/dir1, dest=/user/dir3, overwrite=/user/dir1, replaceBy=/user/dir3
2011-08-09 20:07:46,549 DEBUG namenode.LeaseManager (LeaseManager.java:findLeaseWithPrefixPath(328)) - LeaseManager.findLease: prefix=/user/dir1
2011-08-09 20:07:46,549 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(307)) - changeLease: replacing /user/dir1/file1 with /user/dir3/file1
2011-08-09 20:07:46,550 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits of size 868 edits # 10 loaded in 0 seconds.
2011-08-09 20:07:46,550 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:46,551 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:46,551 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:46,551 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:46,558 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:46,559 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:46,559 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:46,559 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:46,562 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:46,564 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:46,564 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:46,564 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:46,573 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 926 saved in 0 seconds.
2011-08-09 20:07:46,573 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:46,575 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:46,575 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:46,575 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:46,579 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:46,580 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:46,580 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:46,580 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:46,589 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 926 saved in 0 seconds.
2011-08-09 20:07:46,589 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:46,591 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:46,591 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:46,591 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:46,595 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:46,598 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:46,616 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 20:07:46,616 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 103 msecs
2011-08-09 20:07:46,617 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 1.00000000. Safe blocks = 0, Total blocks = 6.Safe mode will be turned off automatically.
2011-08-09 20:07:46,617 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 20:07:46,617 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:pendingReplicationCheck(201)) - PendingReplicationMonitor checking Q
2011-08-09 20:07:46,659 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 20:07:46,662 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:07:46,664 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=53160
2011-08-09 20:07:46,664 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:53160
2011-08-09 20:07:46,665 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:07:46,665 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 53160: starting
2011-08-09 20:07:46,708 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 53160: starting
2011-08-09 20:07:46,708 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 53160: starting
2011-08-09 20:07:46,708 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 53160: starting
2011-08-09 20:07:46,708 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 53160: starting
2011-08-09 20:07:46,708 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 53160: starting
2011-08-09 20:07:46,709 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 53160: starting
2011-08-09 20:07:46,709 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 53160: starting
2011-08-09 20:07:46,709 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 53160: starting
2011-08-09 20:07:46,710 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 20:07:46,710 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 53160: starting
2011-08-09 20:07:46,710 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 53160: starting
2011-08-09 20:07:46,711 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:07:46,712 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:07:46,713 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 42704 webServer.getConnectors()[0].getLocalPort() returned 42704
2011-08-09 20:07:46,713 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 42704
2011-08-09 20:07:46,713 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:07:46,775 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:42704
2011-08-09 20:07:46,776 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:42704
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2
2011-08-09 20:07:46,933 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 20:07:46,935 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 58932
2011-08-09 20:07:46,935 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 20:07:46,938 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:07:46,939 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:07:46,939 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 43144 webServer.getConnectors()[0].getLocalPort() returned 43144
2011-08-09 20:07:46,940 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 43144
2011-08-09 20:07:46,940 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:07:47,030 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:43144
2011-08-09 20:07:47,032 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 20:07:47,037 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:07:47,039 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=48450
2011-08-09 20:07:47,040 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:07:47,082 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 48450: starting
2011-08-09 20:07:47,083 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 48450: starting
2011-08-09 20:07:47,083 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 48450: starting
2011-08-09 20:07:47,084 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:58932, storageID=DS-773961589-10.0.62.238-47021-1312913260952, infoPort=43144, ipcPort=48450)
2011-08-09 20:07:47,086 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 48450: starting
2011-08-09 20:07:47,088 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:58932 storage DS-773961589-10.0.62.238-47021-1312913260952
2011-08-09 20:07:47,089 DEBUG hdfs.StateChange (FSNamesystem.java:unprotectedAddDatanode(3584)) - BLOCK* NameSystem.unprotectedAddDatanode: node 127.0.0.1:58932 is added to datanodeMap.
2011-08-09 20:07:47,089 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:58932
2011-08-09 20:07:47,091 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:58932, storageID=DS-773961589-10.0.62.238-47021-1312913260952, infoPort=43144, ipcPort=48450)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:07:47,092 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 3600000msec Initial delay: 0msec
2011-08-09 20:07:47,098 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:07:47,099 DEBUG hdfs.StateChange (NameNode.java:blockReport(981)) - *BLOCK* NameNode.blockReport: from 127.0.0.1:58932 6 blocks
2011-08-09 20:07:47,099 DEBUG hdfs.StateChange (FSNamesystem.java:processReport(3679)) - BLOCK* NameSystem.processReport: from 127.0.0.1:58932 6 blocks
2011-08-09 20:07:47,100 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:58932 6 blocks shortCircuit first report.
2011-08-09 20:07:47,101 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 20:07:47,104 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 6
2011-08-09 20:07:47,104 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 20:07:47,104 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 0
2011-08-09 20:07:47,105 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 20:07:47,105 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 20:07:47,105 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 20:07:47,105 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 20:07:47,106 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 0 blocks
2011-08-09 20:07:47,107 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 6 blocks got processed in 10 msecs
2011-08-09 20:07:47,108 INFO  datanode.DataNode (DataNode.java:offerService(864)) - Starting Periodic block scanner.
2011-08-09 20:07:47,111 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:07:47,139 INFO  datanode.DataBlockScanner (DataBlockScanner.java:verifyBlock(435)) - Verification succeeded for blk_567328378994772816_1001
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 20:07:47,187 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:07:47,289 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 48450
2011-08-09 20:07:47,289 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 48450: exiting
2011-08-09 20:07:47,290 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 48450: exiting
2011-08-09 20:07:47,290 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 48450: exiting
2011-08-09 20:07:47,290 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 48450
2011-08-09 20:07:47,304 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:07:47,304 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 20:07:47,305 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:58932, storageID=DS-773961589-10.0.62.238-47021-1312913260952, infoPort=43144, ipcPort=48450):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 20:07:48,093 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:58932, storageID=DS-773961589-10.0.62.238-47021-1312913260952, infoPort=43144, ipcPort=48450):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:07:48,094 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 48450
2011-08-09 20:07:48,102 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:07:48,102 INFO  datanode.DataBlockScanner (DataBlockScanner.java:run(604)) - Exiting DataBlockScanner thread.
2011-08-09 20:07:48,104 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 20:07:48,104 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 20:07:48,305 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:07:48,306 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 20:07:48,366 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:07:48,368 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:run(188)) - PendingReplicationMonitor thread received exception. java.lang.InterruptedException: sleep interrupted
2011-08-09 20:07:48,368 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 20:07:48,369 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:48,370 DEBUG namenode.LeaseManager (LeaseManager.java:run(374)) - Monitor is interrupted
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.hdfs.server.namenode.LeaseManager$Monitor.run(LeaseManager.java:371)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:48,371 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits:0 
2011-08-09 20:07:48,371 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:07:48,371 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:07:48,371 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:07:48,375 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:07:48,376 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:07:48,376 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:07:48,379 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 53160
2011-08-09 20:07:48,379 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 53160: exiting
2011-08-09 20:07:48,380 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 53160: exiting
2011-08-09 20:07:48,380 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 53160: exiting
2011-08-09 20:07:48,380 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 53160: exiting
2011-08-09 20:07:48,380 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 53160: exiting
2011-08-09 20:07:48,380 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 53160: exiting
2011-08-09 20:07:48,381 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 53160: exiting
2011-08-09 20:07:48,381 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 53160: exiting
2011-08-09 20:07:48,381 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 53160: exiting
2011-08-09 20:07:48,381 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 53160: exiting
2011-08-09 20:07:48,383 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 53160
2011-08-09 20:07:48,384 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:07:53,386 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 20:07:53,389 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:07:53,390 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 20:07:53,390 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 20:07:53,390 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 20:07:53,390 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 20:07:53,397 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 20:07:53,397 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 20:07:53,397 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 20:07:53,397 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 20:07:53,400 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:07:53,401 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 20:07:53,401 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 20:07:53,405 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 6
2011-08-09 20:07:53,405 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 16% of the image
2011-08-09 20:07:53,406 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 33% of the image
2011-08-09 20:07:53,406 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 20:07:53,406 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 66% of the image
2011-08-09 20:07:53,406 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 83% of the image
2011-08-09 20:07:53,407 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 2
2011-08-09 20:07:53,407 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 926 loaded in 0 seconds.
2011-08-09 20:07:53,408 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits of size 4 edits # 0 loaded in 0 seconds.
2011-08-09 20:07:53,408 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:53,546 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:53,548 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 20:07:53,548 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 152 msecs
2011-08-09 20:07:53,548 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 1.00000000. Safe blocks = 0, Total blocks = 6.Safe mode will be turned off automatically.
2011-08-09 20:07:53,548 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 20:07:53,549 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:pendingReplicationCheck(201)) - PendingReplicationMonitor checking Q
2011-08-09 20:07:53,550 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 20:07:53,552 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:07:53,576 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=53160
2011-08-09 20:07:53,577 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:53160
2011-08-09 20:07:53,577 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:07:53,578 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 53160: starting
2011-08-09 20:07:53,578 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 53160: starting
2011-08-09 20:07:53,579 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 53160: starting
2011-08-09 20:07:53,579 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 53160: starting
2011-08-09 20:07:53,579 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 53160: starting
2011-08-09 20:07:53,580 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 53160: starting
2011-08-09 20:07:53,580 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 53160: starting
2011-08-09 20:07:53,580 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 53160: starting
2011-08-09 20:07:53,580 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 53160: starting
2011-08-09 20:07:53,580 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 53160: starting
2011-08-09 20:07:53,581 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 53160: starting
2011-08-09 20:07:53,581 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 20:07:53,583 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:07:53,599 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:07:53,599 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 54361 webServer.getConnectors()[0].getLocalPort() returned 54361
2011-08-09 20:07:53,599 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 54361
2011-08-09 20:07:53,599 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:07:53,656 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:54361
2011-08-09 20:07:53,657 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:54361
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2
2011-08-09 20:07:53,888 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 20:07:53,890 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 36093
2011-08-09 20:07:53,890 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 20:07:53,893 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:07:53,894 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:07:53,894 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 49909 webServer.getConnectors()[0].getLocalPort() returned 49909
2011-08-09 20:07:53,894 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 49909
2011-08-09 20:07:53,894 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:07:54,017 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:49909
2011-08-09 20:07:54,019 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 20:07:54,023 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:07:54,027 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=37957
2011-08-09 20:07:54,028 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:07:54,029 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 37957: starting
2011-08-09 20:07:54,031 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 37957: starting
2011-08-09 20:07:54,031 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 37957: starting
2011-08-09 20:07:54,032 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:36093, storageID=DS-773961589-10.0.62.238-47021-1312913260952, infoPort=49909, ipcPort=37957)
2011-08-09 20:07:54,034 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 37957: starting
2011-08-09 20:07:54,036 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:36093 storage DS-773961589-10.0.62.238-47021-1312913260952
2011-08-09 20:07:54,036 DEBUG hdfs.StateChange (FSNamesystem.java:unprotectedAddDatanode(3584)) - BLOCK* NameSystem.unprotectedAddDatanode: node 127.0.0.1:36093 is added to datanodeMap.
2011-08-09 20:07:54,037 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:36093
2011-08-09 20:07:54,038 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:36093, storageID=DS-773961589-10.0.62.238-47021-1312913260952, infoPort=49909, ipcPort=37957)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:07:54,040 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 3600000msec Initial delay: 0msec
2011-08-09 20:07:54,048 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:07:54,050 DEBUG hdfs.StateChange (NameNode.java:blockReport(981)) - *BLOCK* NameNode.blockReport: from 127.0.0.1:36093 6 blocks
2011-08-09 20:07:54,050 DEBUG hdfs.StateChange (FSNamesystem.java:processReport(3679)) - BLOCK* NameSystem.processReport: from 127.0.0.1:36093 6 blocks
2011-08-09 20:07:54,051 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:36093 6 blocks shortCircuit first report.
2011-08-09 20:07:54,052 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 20:07:54,057 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 6
2011-08-09 20:07:54,057 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 20:07:54,057 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 0
2011-08-09 20:07:54,058 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 20:07:54,058 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 20:07:54,058 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 20:07:54,058 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 20:07:54,058 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 0 blocks
2011-08-09 20:07:54,061 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 6 blocks got processed in 15 msecs
2011-08-09 20:07:54,064 INFO  datanode.DataNode (DataNode.java:offerService(864)) - Starting Periodic block scanner.
2011-08-09 20:07:54,066 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:07:54,068 INFO  datanode.DataBlockScanner (DataBlockScanner.java:verifyBlock(435)) - Verification succeeded for blk_3870909576548390506_1001
2011-08-09 20:07:54,084 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=open	src=/user/dir3/file1	dst=null	perm=null
127.0.0.1:36093  off 0 len 8192
127.0.0.1:36093  off 8192 len 8192
127.0.0.1:36093  off 16384 len 1
2011-08-09 20:07:54,085 INFO  hdfs.AppendTestUtil (AppendTestUtil.java:randomBytes(70)) - seed=3735928559, size=16385
2011-08-09 20:07:54,086 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=open	src=/user/dir3/file1	dst=null	perm=null
2011-08-09 20:07:54,098 INFO  DataNode.clienttrace (BlockSender.java:sendBlock(441)) - src: /127.0.0.1:36093, dest: /127.0.0.1:56660, bytes: 8256, op: HDFS_READ, cliID: DFSClient_252871945, offset: 0, srvID: DS-773961589-10.0.62.238-47021-1312913260952, blockid: blk_567328378994772816_1001, duration: 505890
2011-08-09 20:07:54,117 INFO  DataNode.clienttrace (BlockSender.java:sendBlock(441)) - src: /127.0.0.1:36093, dest: /127.0.0.1:56661, bytes: 8256, op: HDFS_READ, cliID: DFSClient_252871945, offset: 0, srvID: DS-773961589-10.0.62.238-47021-1312913260952, blockid: blk_-8951609952264897186_1001, duration: 372291
2011-08-09 20:07:54,122 INFO  DataNode.clienttrace (BlockSender.java:sendBlock(441)) - src: /127.0.0.1:36093, dest: /127.0.0.1:56662, bytes: 5, op: HDFS_READ, cliID: DFSClient_252871945, offset: 0, srvID: DS-773961589-10.0.62.238-47021-1312913260952, blockid: blk_3870909576548390506_1001, duration: 2610786
2011-08-09 20:07:54,131 ERROR hdfs.DFSClient (DFSClient.java:close(1511)) - Exception closing file /user/dir1/file1 : java.io.IOException: All datanodes 127.0.0.1:47021 are bad. Aborting...
java.io.IOException: All datanodes 127.0.0.1:47021 are bad. Aborting...
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.processDatanodeError(DFSClient.java:3202)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2400(DFSClient.java:2676)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2912)
2011-08-09 20:07:54,132 ERROR hdfs.DFSClient (DFSClient.java:close(1511)) - Exception closing file /user/dir2/file2 : java.io.IOException: All datanodes 127.0.0.1:47021 are bad. Aborting...
java.io.IOException: All datanodes 127.0.0.1:47021 are bad. Aborting...
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.processDatanodeError(DFSClient.java:3202)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2400(DFSClient.java:2676)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2912)
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 20:07:54,187 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:07:54,288 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 37957
2011-08-09 20:07:54,291 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 37957: exiting
2011-08-09 20:07:54,291 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 37957: exiting
2011-08-09 20:07:54,291 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 37957: exiting
2011-08-09 20:07:54,292 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 37957
2011-08-09 20:07:54,293 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:07:54,294 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 20:07:54,294 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:36093, storageID=DS-773961589-10.0.62.238-47021-1312913260952, infoPort=49909, ipcPort=37957):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 20:07:55,041 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:36093, storageID=DS-773961589-10.0.62.238-47021-1312913260952, infoPort=49909, ipcPort=37957):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:07:55,042 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 37957
2011-08-09 20:07:55,042 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:07:55,042 INFO  datanode.DataBlockScanner (DataBlockScanner.java:run(604)) - Exiting DataBlockScanner thread.
2011-08-09 20:07:55,044 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 20:07:55,045 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 20:07:55,294 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:07:55,295 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 20:07:55,459 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:07:55,560 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:run(188)) - PendingReplicationMonitor thread received exception. java.lang.InterruptedException: sleep interrupted
2011-08-09 20:07:55,560 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 20:07:55,561 DEBUG namenode.LeaseManager (LeaseManager.java:run(374)) - Monitor is interrupted
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.hdfs.server.namenode.LeaseManager$Monitor.run(LeaseManager.java:371)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:55,561 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:55,561 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits:0 
2011-08-09 20:07:55,561 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:07:55,562 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:07:55,562 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:07:55,566 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:07:55,566 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:07:55,566 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:07:55,569 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 53160
2011-08-09 20:07:55,570 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 53160: exiting
2011-08-09 20:07:55,570 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 53160: exiting
2011-08-09 20:07:55,570 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 53160: exiting
2011-08-09 20:07:55,570 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 53160: exiting
2011-08-09 20:07:55,570 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 53160: exiting
2011-08-09 20:07:55,570 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 53160: exiting
2011-08-09 20:07:55,570 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 53160: exiting
2011-08-09 20:07:55,571 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 53160: exiting
2011-08-09 20:07:55,571 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 53160: exiting
2011-08-09 20:07:55,571 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 53160: exiting
2011-08-09 20:07:55,572 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 53160
2011-08-09 20:07:55,573 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
Test 3************************************
2011-08-09 20:07:55,630 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 20:07:55,630 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 20:07:55,630 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 20:07:55,630 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 20:07:55,636 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 20:07:55,636 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 20:07:55,636 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 20:07:55,636 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 20:07:55,644 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 95 saved in 0 seconds.
2011-08-09 20:07:55,644 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:55,645 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:55,669 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:55,669 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:55,681 INFO  common.Storage (FSImage.java:format(1394)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1 has been successfully formatted.
2011-08-09 20:07:55,684 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 95 saved in 0 seconds.
2011-08-09 20:07:55,684 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:55,685 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:07:55,685 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:07:55,685 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:07:55,694 INFO  common.Storage (FSImage.java:format(1394)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2 has been successfully formatted.
2011-08-09 20:07:55,695 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 20:07:55,698 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:07:55,698 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 20:07:55,698 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 20:07:55,698 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 20:07:55,698 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 20:07:55,705 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 20:07:55,706 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 20:07:55,706 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 20:07:55,706 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 20:07:55,709 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:07:55,710 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 20:07:55,710 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 20:07:55,714 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 1
2011-08-09 20:07:55,714 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 20:07:55,714 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 95 loaded in 0 seconds.
2011-08-09 20:07:55,715 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits of size 4 edits # 0 loaded in 0 seconds.
2011-08-09 20:07:55,715 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:55,850 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:07:55,852 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 20:07:55,852 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 147 msecs
2011-08-09 20:07:55,852 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 20:07:55,856 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 0
2011-08-09 20:07:55,856 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 20:07:55,857 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 0
2011-08-09 20:07:55,857 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 20:07:55,857 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 20:07:55,858 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:07:55,861 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=58085
2011-08-09 20:07:55,861 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:58085
2011-08-09 20:07:55,862 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:07:55,862 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 58085: starting
2011-08-09 20:07:55,863 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 58085: starting
2011-08-09 20:07:55,863 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 58085: starting
2011-08-09 20:07:55,863 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 58085: starting
2011-08-09 20:07:55,864 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 58085: starting
2011-08-09 20:07:55,864 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 58085: starting
2011-08-09 20:07:55,864 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 58085: starting
2011-08-09 20:07:55,864 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 58085: starting
2011-08-09 20:07:55,865 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 58085: starting
2011-08-09 20:07:55,865 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 58085: starting
2011-08-09 20:07:55,865 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 58085: starting
2011-08-09 20:07:55,916 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 20:07:55,916 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 0 racks and 0 datanodes
2011-08-09 20:07:55,916 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 0 blocks
2011-08-09 20:07:55,917 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 20:07:55,917 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:pendingReplicationCheck(201)) - PendingReplicationMonitor checking Q
2011-08-09 20:07:55,918 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 20:07:55,920 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:07:55,921 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:07:55,921 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 45688 webServer.getConnectors()[0].getLocalPort() returned 45688
2011-08-09 20:07:55,921 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 45688
2011-08-09 20:07:55,921 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:07:56,066 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:45688
2011-08-09 20:07:56,067 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:45688
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2
2011-08-09 20:07:56,075 INFO  common.Storage (DataStorage.java:recoverTransitionRead(124)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1 is not formatted.
2011-08-09 20:07:56,075 INFO  common.Storage (DataStorage.java:recoverTransitionRead(125)) - Formatting ...
2011-08-09 20:07:56,091 INFO  common.Storage (DataStorage.java:recoverTransitionRead(124)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2 is not formatted.
2011-08-09 20:07:56,091 INFO  common.Storage (DataStorage.java:recoverTransitionRead(125)) - Formatting ...
2011-08-09 20:07:56,304 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 20:07:56,306 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 52507
2011-08-09 20:07:56,306 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 20:07:56,309 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:07:56,310 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:07:56,310 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 56728 webServer.getConnectors()[0].getLocalPort() returned 56728
2011-08-09 20:07:56,310 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 56728
2011-08-09 20:07:56,311 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:07:56,379 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:56728
2011-08-09 20:07:56,380 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 20:07:56,385 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:07:56,387 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=37599
2011-08-09 20:07:56,388 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:07:56,389 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 37599: starting
2011-08-09 20:07:56,390 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 37599: starting
2011-08-09 20:07:56,390 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 37599: starting
2011-08-09 20:07:56,391 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 37599: starting
2011-08-09 20:07:56,391 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:52507, storageID=, infoPort=56728, ipcPort=37599)
2011-08-09 20:07:56,397 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:52507 storage DS-996801395-10.0.62.238-52507-1312913276394
2011-08-09 20:07:56,398 DEBUG hdfs.StateChange (FSNamesystem.java:unprotectedAddDatanode(3584)) - BLOCK* NameSystem.unprotectedAddDatanode: node 127.0.0.1:52507 is added to datanodeMap.
2011-08-09 20:07:56,398 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:52507
2011-08-09 20:07:56,404 INFO  datanode.DataNode (DataNode.java:register(592)) - New storage id DS-996801395-10.0.62.238-52507-1312913276394 is assigned to data-node 127.0.0.1:52507
2011-08-09 20:07:56,405 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:52507, storageID=DS-996801395-10.0.62.238-52507-1312913276394, infoPort=56728, ipcPort=37599)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:07:56,406 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 3600000msec Initial delay: 0msec
2011-08-09 20:07:56,413 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:07:56,415 DEBUG hdfs.StateChange (NameNode.java:blockReport(981)) - *BLOCK* NameNode.blockReport: from 127.0.0.1:52507 0 blocks
2011-08-09 20:07:56,417 DEBUG hdfs.StateChange (FSNamesystem.java:processReport(3679)) - BLOCK* NameSystem.processReport: from 127.0.0.1:52507 0 blocks
2011-08-09 20:07:56,418 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:52507 0 blocks shortCircuit first report.
2011-08-09 20:07:56,427 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 0 blocks got processed in 15 msecs
2011-08-09 20:07:56,427 INFO  datanode.DataNode (DataNode.java:offerService(864)) - Starting Periodic block scanner.
2011-08-09 20:07:56,429 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
createFile: Created /user/dir1/file1 with 1 replica.
2011-08-09 20:07:56,438 DEBUG hdfs.StateChange (NameNode.java:create(502)) - *DIR* NameNode.create: file /user/dir1/file1 for DFSClient_-1357975041 at 127.0.0.1
2011-08-09 20:07:56,438 DEBUG hdfs.StateChange (FSNamesystem.java:startFileInternal(1449)) - DIR* NameSystem.startFile: src=/user/dir1/file1, holder=DFSClient_-1357975041, clientMachine=127.0.0.1, replication=1, overwrite=true, append=false
2011-08-09 20:07:56,440 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [10, 0, 0, 0, 0, 0, 0, 3, -23]
2011-08-09 20:07:56,440 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [10, 0, 0, 0, 0, 0, 0, 3, -23]
2011-08-09 20:07:56,440 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 5, 47, 117, 115, 101, 114, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 55, 54, 52, 52, 48, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:56,441 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 5, 47, 117, 115, 101, 114, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 55, 54, 52, 52, 48, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:56,441 DEBUG hdfs.StateChange (FSDirectory.java:mkdirs(1341)) - DIR* FSDirectory.mkdirs: created directory /user
2011-08-09 20:07:56,441 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 55, 54, 52, 52, 48, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:56,441 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 55, 54, 52, 52, 48, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:56,442 DEBUG hdfs.StateChange (FSDirectory.java:mkdirs(1341)) - DIR* FSDirectory.mkdirs: created directory /user/dir1
2011-08-09 20:07:56,442 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 55, 54, 52, 52, 48, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 55, 54, 52, 52, 48, 0, 4, 56, 49, 57, 50, 0, 0, 0, 0, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 21, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 45, 49, 51, 53, 55, 57, 55, 53, 48, 52, 49, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:56,442 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 55, 54, 52, 52, 48, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 55, 54, 52, 52, 48, 0, 4, 56, 49, 57, 50, 0, 0, 0, 0, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 21, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 45, 49, 51, 53, 55, 57, 55, 53, 48, 52, 49, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:56,443 DEBUG hdfs.StateChange (FSDirectory.java:addFile(243)) - DIR* FSDirectory.addFile: /user/dir1/file1 is added to the file system
2011-08-09 20:07:56,443 DEBUG hdfs.StateChange (FSNamesystem.java:startFileInternal(1585)) - DIR* NameSystem.startFile: add /user/dir1/file1 to namespace for DFSClient_-1357975041
2011-08-09 20:07:56,444 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:07:56,444 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:07:56,444 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 245
2011-08-09 20:07:56,450 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:07:56,450 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:07:56,450 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 245
2011-08-09 20:07:56,453 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=create	src=/user/dir1/file1	dst=null	perm=jeff:supergroup:rw-r--r--
testFileCreationDeleteParent: Created file /user/dir1/file1
2011-08-09 20:07:56,454 INFO  hdfs.AppendTestUtil (AppendTestUtil.java:randomBytes(70)) - seed=3735928559, size=16385
2011-08-09 20:07:56,458 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir1/file1 for DFSClient_-1357975041
2011-08-09 20:07:56,459 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir1/file1 for DFSClient_-1357975041
2011-08-09 20:07:56,459 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/dir1/file1 with blk_-1428110667760792078_1001 block is added to the in-memory file system
2011-08-09 20:07:56,459 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/dir1/file1. blk_-1428110667760792078_1001
2011-08-09 20:07:56,461 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-1428110667760792078_1001 src: /127.0.0.1:45025 dest: /127.0.0.1:52507
2011-08-09 20:07:56,465 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:45025, dest: /127.0.0.1:52507, bytes: 8192, op: HDFS_WRITE, cliID: DFSClient_-1357975041, offset: 0, srvID: DS-996801395-10.0.62.238-52507-1312913276394, blockid: blk_-1428110667760792078_1001, duration: 1745180
2011-08-09 20:07:56,465 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-1428110667760792078_1001 terminating
2011-08-09 20:07:56,505 DEBUG hdfs.StateChange (NameNode.java:blockReceived(995)) - *BLOCK* NameNode.blockReceived: from 127.0.0.1:52507 1 blocks.
2011-08-09 20:07:56,505 DEBUG hdfs.StateChange (FSNamesystem.java:blockReceived(4414)) - BLOCK* NameSystem.blockReceived: blk_-1428110667760792078_1001 is received from 127.0.0.1:52507
2011-08-09 20:07:56,506 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:52507 is added to blk_-1428110667760792078_1001 size 8192
2011-08-09 20:07:56,506 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir1/file1 for DFSClient_-1357975041
2011-08-09 20:07:56,506 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir1/file1 for DFSClient_-1357975041
2011-08-09 20:07:56,507 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/dir1/file1 with blk_9099114648092162342_1001 block is added to the in-memory file system
2011-08-09 20:07:56,507 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/dir1/file1. blk_9099114648092162342_1001
2011-08-09 20:07:56,509 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_9099114648092162342_1001 src: /127.0.0.1:45026 dest: /127.0.0.1:52507
2011-08-09 20:07:56,512 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:45026, dest: /127.0.0.1:52507, bytes: 8192, op: HDFS_WRITE, cliID: DFSClient_-1357975041, offset: 0, srvID: DS-996801395-10.0.62.238-52507-1312913276394, blockid: blk_9099114648092162342_1001, duration: 1701857
2011-08-09 20:07:56,513 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_9099114648092162342_1001 terminating
2011-08-09 20:07:56,513 DEBUG hdfs.StateChange (NameNode.java:blockReceived(995)) - *BLOCK* NameNode.blockReceived: from 127.0.0.1:52507 1 blocks.
2011-08-09 20:07:56,513 DEBUG hdfs.StateChange (FSNamesystem.java:blockReceived(4414)) - BLOCK* NameSystem.blockReceived: blk_9099114648092162342_1001 is received from 127.0.0.1:52507
2011-08-09 20:07:56,514 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:52507 is added to blk_9099114648092162342_1001 size 8192
2011-08-09 20:07:56,516 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir1/file1 for DFSClient_-1357975041
2011-08-09 20:07:56,516 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir1/file1 for DFSClient_-1357975041
2011-08-09 20:07:56,516 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/dir1/file1 with blk_-5042081534075870037_1001 block is added to the in-memory file system
2011-08-09 20:07:56,516 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/dir1/file1. blk_-5042081534075870037_1001
2011-08-09 20:07:56,517 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-5042081534075870037_1001 src: /127.0.0.1:45027 dest: /127.0.0.1:52507
2011-08-09 20:07:56,520 INFO  hdfs.StateChange (FSNamesystem.java:fsync(2430)) - BLOCK* NameSystem.fsync: file /user/dir1/file1 for DFSClient_-1357975041
2011-08-09 20:07:56,520 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 55, 54, 52, 52, 48, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 55, 54, 52, 52, 48, 0, 4, 56, 49, 57, 50, 0, 0, 0, 3, -20, 46, 84, -22, 4, 44, 13, -14, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -23, 126, 70, -116, -112, 50, 22, 57, 38, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -23, -70, 6, -19, -113, 16, -39, -28, -85, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, -23, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 21, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 45, 49, 51, 53, 55, 57, 55, 53, 48, 52, 49, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:56,521 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 55, 54, 52, 52, 48, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 55, 54, 52, 52, 48, 0, 4, 56, 49, 57, 50, 0, 0, 0, 3, -20, 46, 84, -22, 4, 44, 13, -14, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -23, 126, 70, -116, -112, 50, 22, 57, 38, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -23, -70, 6, -19, -113, 16, -39, -28, -85, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, -23, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 21, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 45, 49, 51, 53, 55, 57, 55, 53, 48, 52, 49, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:07:56,521 DEBUG hdfs.StateChange (FSDirectory.java:persistBlocks(376)) - DIR* FSDirectory.persistBlocks: /user/dir1/file1 with 3 blocks is persisted to the file system
2011-08-09 20:07:56,521 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 195
2011-08-09 20:07:56,522 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 195
2011-08-09 20:07:56,524 DEBUG hdfs.StateChange (NameNode.java:mkdirs(694)) - *DIR* NameNode.mkdirs: /user/dir2
2011-08-09 20:07:56,524 DEBUG hdfs.StateChange (FSNamesystem.java:mkdirsInternal(2348)) - DIR* NameSystem.mkdirs: /user/dir2
2011-08-09 20:07:56,525 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 55, 54, 53, 50, 53, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:56,526 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 55, 54, 53, 50, 53, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:07:56,526 DEBUG hdfs.StateChange (FSDirectory.java:mkdirs(1341)) - DIR* FSDirectory.mkdirs: created directory /user/dir2
2011-08-09 20:07:56,526 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 58
2011-08-09 20:07:56,527 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 58
2011-08-09 20:07:56,528 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=mkdirs	src=/user/dir2	dst=null	perm=jeff:supergroup:rwxr-xr-x
2011-08-09 20:07:56,528 DEBUG hdfs.StateChange (NameNode.java:rename(649)) - *DIR* NameNode.rename: /user/dir1/file1 to /user/dir2
2011-08-09 20:07:56,529 DEBUG hdfs.StateChange (FSNamesystem.java:renameToInternal(2161)) - DIR* NameSystem.renameTo: /user/dir1/file1 to /user/dir2
2011-08-09 20:07:56,529 DEBUG hdfs.StateChange (FSDirectory.java:renameTo(436)) - DIR* FSDirectory.renameTo: /user/dir1/file1 to /user/dir2
2011-08-09 20:07:56,529 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedRenameTo(529)) - DIR* FSDirectory.unprotectedRenameTo: /user/dir1/file1 is renamed to /user/dir2/file1
2011-08-09 20:07:56,530 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [1, 0, 0, 0, 3, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 55, 54, 53, 50, 57]
2011-08-09 20:07:56,530 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [1, 0, 0, 0, 3, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 55, 54, 53, 50, 57]
2011-08-09 20:07:56,530 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(294)) - LeaseManager.changelease:  src=/user/dir1/file1, dest=/user/dir2, overwrite=/user/dir1/, replaceBy=/user/dir2/
2011-08-09 20:07:56,531 DEBUG namenode.LeaseManager (LeaseManager.java:findLeaseWithPrefixPath(328)) - LeaseManager.findLease: prefix=/user/dir1/file1
2011-08-09 20:07:56,531 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(307)) - changeLease: replacing /user/dir1/file1 with /user/dir2/file1
2011-08-09 20:07:56,531 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 55
2011-08-09 20:07:56,532 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 55
2011-08-09 20:07:56,533 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=rename	src=/user/dir1/file1	dst=/user/dir2	perm=jeff:supergroup:rwxr-xr-x
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 20:07:56,649 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:07:56,650 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 37599
2011-08-09 20:07:56,650 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 37599: exiting
2011-08-09 20:07:56,650 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 37599: exiting
2011-08-09 20:07:56,650 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 37599: exiting
2011-08-09 20:07:56,650 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 37599
2011-08-09 20:07:56,651 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:07:56,652 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 3
2011-08-09 20:07:56,652 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(780)) - PacketResponder 0 for block blk_-5042081534075870037_1001 Interrupted.
2011-08-09 20:07:56,652 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-5042081534075870037_1001 terminating
2011-08-09 20:07:56,652 INFO  datanode.DataNode (BlockReceiver.java:receiveBlock(569)) - Exception in receiveBlock for block blk_-5042081534075870037_1001 java.io.InterruptedIOException: Interruped while waiting for IO on channel java.nio.channels.SocketChannel[closed]. 0 millis timeout left.
2011-08-09 20:07:56,652 INFO  datanode.DataNode (DataXceiver.java:writeBlock(404)) - writeBlock blk_-5042081534075870037_1001 received exception java.io.InterruptedIOException: Interruped while waiting for IO on channel java.nio.channels.SocketChannel[closed]. 0 millis timeout left.
2011-08-09 20:07:56,652 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:52507, storageID=DS-996801395-10.0.62.238-52507-1312913276394, infoPort=56728, ipcPort=37599):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 20:07:56,652 WARN  hdfs.DFSClient (DFSClient.java:run(3117)) - DFSOutputStream ResponseProcessor exception  for block blk_-5042081534075870037_1001java.io.EOFException
	at java.io.DataInputStream.readFully(DataInputStream.java:180)
	at java.io.DataInputStream.readLong(DataInputStream.java:399)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$ResponseProcessor.run(DFSClient.java:3071)

2011-08-09 20:07:56,652 ERROR datanode.DataNode (DataXceiver.java:run(154)) - DatanodeRegistration(127.0.0.1:52507, storageID=DS-996801395-10.0.62.238-52507-1312913276394, infoPort=56728, ipcPort=37599):DataXceiver
java.io.InterruptedIOException: Interruped while waiting for IO on channel java.nio.channels.SocketChannel[closed]. 0 millis timeout left.
	at org.apache.hadoop.net.SocketIOWithTimeout$SelectorPool.select(SocketIOWithTimeout.java:349)
	at org.apache.hadoop.net.SocketIOWithTimeout.doIO(SocketIOWithTimeout.java:157)
	at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:155)
	at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:128)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
	at java.io.BufferedInputStream.read1(BufferedInputStream.java:258)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:317)
	at java.io.DataInputStream.read(DataInputStream.java:132)
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.readToBuf(BlockReceiver.java:274)
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.readNextPacket(BlockReceiver.java:321)
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.receivePacket(BlockReceiver.java:385)
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.receiveBlock(BlockReceiver.java:537)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiver.writeBlock(DataXceiver.java:385)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiver.run(DataXceiver.java:120)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:56,653 WARN  hdfs.DFSClient (DFSClient.java:processDatanodeError(3153)) - Error Recovery for block blk_-5042081534075870037_1001 bad datanode[0] 127.0.0.1:52507
2011-08-09 20:07:57,406 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:52507, storageID=DS-996801395-10.0.62.238-52507-1312913276394, infoPort=56728, ipcPort=37599):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:07:57,407 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 37599
2011-08-09 20:07:57,407 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:07:57,407 INFO  datanode.DataBlockScanner (DataBlockScanner.java:run(604)) - Exiting DataBlockScanner thread.
2011-08-09 20:07:57,409 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 20:07:57,413 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 20:07:57,652 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:07:57,653 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 20:07:57,850 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:07:57,951 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:run(188)) - PendingReplicationMonitor thread received exception. java.lang.InterruptedException: sleep interrupted
2011-08-09 20:07:57,951 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:57,952 DEBUG namenode.LeaseManager (LeaseManager.java:run(374)) - Monitor is interrupted
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.hdfs.server.namenode.LeaseManager$Monitor.run(LeaseManager.java:371)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:07:57,952 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 7 Total time for transactions(ms): 7 Number of transactions batched in Syncs: 0 Number of syncs: 4 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits:10  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits:6 
2011-08-09 20:07:57,952 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 20:07:57,952 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:07:57,953 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:07:57,954 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 58085
2011-08-09 20:07:57,955 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 58085: exiting
2011-08-09 20:07:57,955 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 58085: exiting
2011-08-09 20:07:57,955 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 58085: exiting
2011-08-09 20:07:57,957 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 58085
2011-08-09 20:07:57,957 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 58085: exiting
2011-08-09 20:07:57,957 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 58085: exiting
2011-08-09 20:07:57,957 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 58085: exiting
2011-08-09 20:07:57,957 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 58085: exiting
2011-08-09 20:07:57,957 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 58085: exiting
2011-08-09 20:07:57,957 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 58085: exiting
2011-08-09 20:07:57,958 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 58085: exiting
2011-08-09 20:07:57,958 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:08:01,959 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 20:08:01,963 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:08:01,963 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 20:08:01,964 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 20:08:01,964 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 20:08:01,964 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 20:08:01,970 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 20:08:01,970 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 20:08:01,970 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 20:08:01,971 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 20:08:01,973 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:08:01,974 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 20:08:01,974 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 20:08:01,978 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 1
2011-08-09 20:08:01,978 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 20:08:01,978 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 95 loaded in 0 seconds.
2011-08-09 20:08:01,979 DEBUG namenode.FSNamesystem (FSEditLog.java:loadFSEdits(683)) - 0: /user/dir1/file1 numblocks : 0 clientHolder DFSClient_-1357975041 clientMachine 127.0.0.1
2011-08-09 20:08:01,979 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedDelete(826)) - DIR* FSDirectory.unprotectedDelete: failed to remove /user/dir1/file1 because it does not exist
2011-08-09 20:08:01,980 DEBUG namenode.FSNamesystem (FSEditLog.java:loadFSEdits(683)) - 0: /user/dir1/file1 numblocks : 3 clientHolder DFSClient_-1357975041 clientMachine 127.0.0.1
2011-08-09 20:08:01,980 DEBUG namenode.LeaseManager (LeaseManager.java:findLeaseWithPrefixPath(328)) - LeaseManager.findLease: prefix=/user/dir1/file1
2011-08-09 20:08:01,980 DEBUG namenode.LeaseManager (LeaseManager.java:removeLeaseWithPrefixPath(318)) - LeaseManager.removeLeaseWithPrefixPath: entry=/user/dir1/file1=[Lease.  Holder: DFSClient_-1357975041, pendingcreates: 1]
2011-08-09 20:08:01,980 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedDelete(856)) - DIR* FSDirectory.unprotectedDelete: /user/dir1/file1 is removed
2011-08-09 20:08:01,981 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedRenameTo(529)) - DIR* FSDirectory.unprotectedRenameTo: /user/dir1/file1 is renamed to /user/dir2/file1
2011-08-09 20:08:01,981 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(294)) - LeaseManager.changelease:  src=/user/dir1/file1, dest=/user/dir2, overwrite=/user/dir1/, replaceBy=/user/dir2/
2011-08-09 20:08:01,981 DEBUG namenode.LeaseManager (LeaseManager.java:findLeaseWithPrefixPath(328)) - LeaseManager.findLease: prefix=/user/dir1/file1
2011-08-09 20:08:02,005 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(307)) - changeLease: replacing /user/dir1/file1 with /user/dir2/file1
2011-08-09 20:08:02,005 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits of size 553 edits # 7 loaded in 0 seconds.
2011-08-09 20:08:02,006 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:02,006 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:08:02,007 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:08:02,007 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:08:02,010 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:02,010 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:08:02,010 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:08:02,010 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:08:02,013 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:02,014 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:08:02,056 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:08:02,056 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:08:02,065 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 624 saved in 0 seconds.
2011-08-09 20:08:02,065 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:02,066 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:08:02,066 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:08:02,066 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:08:02,071 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:02,072 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:08:02,072 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:08:02,072 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:08:02,081 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 624 saved in 0 seconds.
2011-08-09 20:08:02,081 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:02,082 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:08:02,082 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:08:02,082 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:08:02,085 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:02,085 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:02,105 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 20:08:02,105 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 135 msecs
2011-08-09 20:08:02,106 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 1.00000000. Safe blocks = 0, Total blocks = 3.Safe mode will be turned off automatically.
2011-08-09 20:08:02,106 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 20:08:02,106 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:pendingReplicationCheck(201)) - PendingReplicationMonitor checking Q
2011-08-09 20:08:02,148 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 20:08:02,150 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:08:02,153 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=58085
2011-08-09 20:08:02,153 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:58085
2011-08-09 20:08:02,153 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:08:02,153 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 58085: starting
2011-08-09 20:08:02,154 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 58085: starting
2011-08-09 20:08:02,154 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 58085: starting
2011-08-09 20:08:02,155 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 58085: starting
2011-08-09 20:08:02,155 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 58085: starting
2011-08-09 20:08:02,155 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 58085: starting
2011-08-09 20:08:02,155 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 58085: starting
2011-08-09 20:08:02,155 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 58085: starting
2011-08-09 20:08:02,156 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 58085: starting
2011-08-09 20:08:02,156 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 58085: starting
2011-08-09 20:08:02,156 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 20:08:02,157 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 58085: starting
2011-08-09 20:08:02,158 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:08:02,159 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:08:02,159 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 39689 webServer.getConnectors()[0].getLocalPort() returned 39689
2011-08-09 20:08:02,159 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 39689
2011-08-09 20:08:02,159 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:08:02,214 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:39689
2011-08-09 20:08:02,215 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:39689
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2
2011-08-09 20:08:02,360 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 20:08:02,361 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 33299
2011-08-09 20:08:02,362 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 20:08:02,365 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:08:02,365 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:08:02,366 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 48234 webServer.getConnectors()[0].getLocalPort() returned 48234
2011-08-09 20:08:02,366 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 48234
2011-08-09 20:08:02,366 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:08:02,446 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:48234
2011-08-09 20:08:02,447 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 20:08:02,451 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:08:02,453 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=46082
2011-08-09 20:08:02,454 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:08:02,455 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 46082: starting
2011-08-09 20:08:02,472 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 46082: starting
2011-08-09 20:08:02,473 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 46082: starting
2011-08-09 20:08:02,473 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:33299, storageID=DS-996801395-10.0.62.238-52507-1312913276394, infoPort=48234, ipcPort=46082)
2011-08-09 20:08:02,474 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 46082: starting
2011-08-09 20:08:02,476 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:33299 storage DS-996801395-10.0.62.238-52507-1312913276394
2011-08-09 20:08:02,477 DEBUG hdfs.StateChange (FSNamesystem.java:unprotectedAddDatanode(3584)) - BLOCK* NameSystem.unprotectedAddDatanode: node 127.0.0.1:33299 is added to datanodeMap.
2011-08-09 20:08:02,477 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:33299
2011-08-09 20:08:02,478 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:33299, storageID=DS-996801395-10.0.62.238-52507-1312913276394, infoPort=48234, ipcPort=46082)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:08:02,479 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 3600000msec Initial delay: 0msec
2011-08-09 20:08:02,486 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:08:02,487 DEBUG hdfs.StateChange (NameNode.java:blockReport(981)) - *BLOCK* NameNode.blockReport: from 127.0.0.1:33299 3 blocks
2011-08-09 20:08:02,487 DEBUG hdfs.StateChange (FSNamesystem.java:processReport(3679)) - BLOCK* NameSystem.processReport: from 127.0.0.1:33299 3 blocks
2011-08-09 20:08:02,487 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:33299 3 blocks shortCircuit first report.
2011-08-09 20:08:02,489 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 20:08:02,492 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 3
2011-08-09 20:08:02,492 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 20:08:02,492 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 0
2011-08-09 20:08:02,493 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 20:08:02,493 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 20:08:02,493 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 20:08:02,493 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 20:08:02,494 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 0 blocks
2011-08-09 20:08:02,495 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 3 blocks got processed in 10 msecs
2011-08-09 20:08:02,495 INFO  datanode.DataNode (DataNode.java:offerService(864)) - Starting Periodic block scanner.
2011-08-09 20:08:02,498 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:08:02,525 INFO  datanode.DataBlockScanner (DataBlockScanner.java:verifyBlock(435)) - Verification succeeded for blk_9099114648092162342_1001
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 20:08:02,591 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:08:02,691 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 46082
2011-08-09 20:08:02,692 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 46082: exiting
2011-08-09 20:08:02,692 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 46082: exiting
2011-08-09 20:08:02,693 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 46082
2011-08-09 20:08:02,694 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:08:02,693 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 46082: exiting
2011-08-09 20:08:02,694 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:33299, storageID=DS-996801395-10.0.62.238-52507-1312913276394, infoPort=48234, ipcPort=46082):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 20:08:02,694 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 20:08:02,695 INFO  datanode.DataBlockScanner (DataBlockScanner.java:run(604)) - Exiting DataBlockScanner thread.
2011-08-09 20:08:02,696 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:33299, storageID=DS-996801395-10.0.62.238-52507-1312913276394, infoPort=48234, ipcPort=46082):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:08:02,696 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 46082
2011-08-09 20:08:02,696 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:08:02,697 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 20:08:02,697 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 20:08:02,698 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 20:08:02,705 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:08:02,829 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:run(188)) - PendingReplicationMonitor thread received exception. java.lang.InterruptedException: sleep interrupted
2011-08-09 20:08:02,830 DEBUG namenode.LeaseManager (LeaseManager.java:run(374)) - Monitor is interrupted
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.hdfs.server.namenode.LeaseManager$Monitor.run(LeaseManager.java:371)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:08:02,830 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:08:02,831 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 20:08:02,831 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits:0 
2011-08-09 20:08:02,831 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:08:02,832 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:08:02,832 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:08:02,835 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:08:02,836 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:08:02,836 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:08:02,839 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 58085
2011-08-09 20:08:02,839 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 58085: exiting
2011-08-09 20:08:02,840 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 58085: exiting
2011-08-09 20:08:02,840 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 58085: exiting
2011-08-09 20:08:02,840 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 58085: exiting
2011-08-09 20:08:02,840 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 58085: exiting
2011-08-09 20:08:02,840 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 58085: exiting
2011-08-09 20:08:02,840 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 58085: exiting
2011-08-09 20:08:02,842 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:08:02,841 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 58085: exiting
2011-08-09 20:08:02,841 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 58085: exiting
2011-08-09 20:08:02,840 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 58085: exiting
2011-08-09 20:08:02,842 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 58085
2011-08-09 20:08:07,842 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 20:08:07,846 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:08:07,846 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 20:08:07,846 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 20:08:07,846 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 20:08:07,847 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 20:08:07,851 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 20:08:07,852 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 20:08:07,852 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 20:08:07,852 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 20:08:07,855 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:08:07,856 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 20:08:07,856 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 20:08:07,860 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 5
2011-08-09 20:08:07,860 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 20% of the image
2011-08-09 20:08:07,860 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 40% of the image
2011-08-09 20:08:07,861 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 60% of the image
2011-08-09 20:08:07,861 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 80% of the image
2011-08-09 20:08:07,861 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 1
2011-08-09 20:08:07,861 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 624 loaded in 0 seconds.
2011-08-09 20:08:07,862 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits of size 4 edits # 0 loaded in 0 seconds.
2011-08-09 20:08:07,862 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:07,884 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:07,885 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 20:08:07,885 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 34 msecs
2011-08-09 20:08:07,885 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 1.00000000. Safe blocks = 0, Total blocks = 3.Safe mode will be turned off automatically.
2011-08-09 20:08:07,886 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 20:08:07,886 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:pendingReplicationCheck(201)) - PendingReplicationMonitor checking Q
2011-08-09 20:08:07,887 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 20:08:07,888 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:08:07,891 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=58085
2011-08-09 20:08:07,891 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:58085
2011-08-09 20:08:07,892 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:08:07,892 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 58085: starting
2011-08-09 20:08:07,933 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 58085: starting
2011-08-09 20:08:07,934 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 58085: starting
2011-08-09 20:08:07,934 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 58085: starting
2011-08-09 20:08:07,934 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 58085: starting
2011-08-09 20:08:07,934 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 58085: starting
2011-08-09 20:08:07,934 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 58085: starting
2011-08-09 20:08:07,934 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 58085: starting
2011-08-09 20:08:07,935 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 58085: starting
2011-08-09 20:08:07,935 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 20:08:07,935 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 58085: starting
2011-08-09 20:08:07,936 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 58085: starting
2011-08-09 20:08:07,937 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:08:07,937 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:08:07,938 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 57514 webServer.getConnectors()[0].getLocalPort() returned 57514
2011-08-09 20:08:07,938 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 57514
2011-08-09 20:08:07,938 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:08:08,010 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:57514
2011-08-09 20:08:08,010 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:57514
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2
2011-08-09 20:08:08,160 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 20:08:08,162 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 36397
2011-08-09 20:08:08,162 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 20:08:08,165 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:08:08,166 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:08:08,166 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 50744 webServer.getConnectors()[0].getLocalPort() returned 50744
2011-08-09 20:08:08,166 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 50744
2011-08-09 20:08:08,167 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:08:08,252 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:50744
2011-08-09 20:08:08,253 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 20:08:08,258 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:08:08,260 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=34674
2011-08-09 20:08:08,262 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:08:08,262 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 34674: starting
2011-08-09 20:08:08,263 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 34674: starting
2011-08-09 20:08:08,264 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 34674: starting
2011-08-09 20:08:08,264 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:36397, storageID=DS-996801395-10.0.62.238-52507-1312913276394, infoPort=50744, ipcPort=34674)
2011-08-09 20:08:08,266 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 34674: starting
2011-08-09 20:08:08,269 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:36397 storage DS-996801395-10.0.62.238-52507-1312913276394
2011-08-09 20:08:08,269 DEBUG hdfs.StateChange (FSNamesystem.java:unprotectedAddDatanode(3584)) - BLOCK* NameSystem.unprotectedAddDatanode: node 127.0.0.1:36397 is added to datanodeMap.
2011-08-09 20:08:08,270 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:36397
2011-08-09 20:08:08,271 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:36397, storageID=DS-996801395-10.0.62.238-52507-1312913276394, infoPort=50744, ipcPort=34674)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:08:08,272 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 3600000msec Initial delay: 0msec
2011-08-09 20:08:08,279 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:08:08,280 DEBUG hdfs.StateChange (NameNode.java:blockReport(981)) - *BLOCK* NameNode.blockReport: from 127.0.0.1:36397 3 blocks
2011-08-09 20:08:08,280 DEBUG hdfs.StateChange (FSNamesystem.java:processReport(3679)) - BLOCK* NameSystem.processReport: from 127.0.0.1:36397 3 blocks
2011-08-09 20:08:08,280 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:36397 3 blocks shortCircuit first report.
2011-08-09 20:08:08,282 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 20:08:08,285 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 3
2011-08-09 20:08:08,285 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 20:08:08,286 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 0
2011-08-09 20:08:08,286 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 20:08:08,286 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 20:08:08,286 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 20:08:08,286 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 20:08:08,287 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 0 blocks
2011-08-09 20:08:08,289 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 3 blocks got processed in 11 msecs
2011-08-09 20:08:08,289 INFO  datanode.DataNode (DataNode.java:offerService(864)) - Starting Periodic block scanner.
2011-08-09 20:08:08,291 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:08:08,292 INFO  datanode.DataBlockScanner (DataBlockScanner.java:verifyBlock(435)) - Verification succeeded for blk_-1428110667760792078_1001
2011-08-09 20:08:08,311 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=open	src=/user/dir2/file1	dst=null	perm=null
127.0.0.1:36397  off 0 len 8192
127.0.0.1:36397  off 8192 len 8192
127.0.0.1:36397  off 16384 len 1
2011-08-09 20:08:08,312 INFO  hdfs.AppendTestUtil (AppendTestUtil.java:randomBytes(70)) - seed=3735928559, size=16385
2011-08-09 20:08:08,313 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=open	src=/user/dir2/file1	dst=null	perm=null
2011-08-09 20:08:08,454 INFO  DataNode.clienttrace (BlockSender.java:sendBlock(441)) - src: /127.0.0.1:36397, dest: /127.0.0.1:33081, bytes: 8256, op: HDFS_READ, cliID: DFSClient_-1357975041, offset: 0, srvID: DS-996801395-10.0.62.238-52507-1312913276394, blockid: blk_-1428110667760792078_1001, duration: 407224
2011-08-09 20:08:08,457 INFO  DataNode.clienttrace (BlockSender.java:sendBlock(441)) - src: /127.0.0.1:36397, dest: /127.0.0.1:33082, bytes: 8256, op: HDFS_READ, cliID: DFSClient_-1357975041, offset: 0, srvID: DS-996801395-10.0.62.238-52507-1312913276394, blockid: blk_9099114648092162342_1001, duration: 262446
2011-08-09 20:08:08,468 ERROR hdfs.DFSClient (DFSClient.java:close(1511)) - Exception closing file /user/dir1/file1 : java.io.IOException: All datanodes 127.0.0.1:52507 are bad. Aborting...
java.io.IOException: All datanodes 127.0.0.1:52507 are bad. Aborting...
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.processDatanodeError(DFSClient.java:3202)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2400(DFSClient.java:2676)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2912)
2011-08-09 20:08:08,469 INFO  DataNode.clienttrace (BlockSender.java:sendBlock(441)) - src: /127.0.0.1:36397, dest: /127.0.0.1:33083, bytes: 5, op: HDFS_READ, cliID: DFSClient_-1357975041, offset: 0, srvID: DS-996801395-10.0.62.238-52507-1312913276394, blockid: blk_-5042081534075870037_1001, duration: 6935958
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 20:08:08,552 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:08:08,554 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 34674
2011-08-09 20:08:08,554 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 34674: exiting
2011-08-09 20:08:08,554 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 34674: exiting
2011-08-09 20:08:08,556 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 34674: exiting
2011-08-09 20:08:08,557 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 34674
2011-08-09 20:08:08,557 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:08:08,558 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 20:08:08,558 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:36397, storageID=DS-996801395-10.0.62.238-52507-1312913276394, infoPort=50744, ipcPort=34674):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 20:08:09,273 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:36397, storageID=DS-996801395-10.0.62.238-52507-1312913276394, infoPort=50744, ipcPort=34674):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:08:09,274 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 34674
2011-08-09 20:08:09,274 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:08:09,275 INFO  datanode.DataBlockScanner (DataBlockScanner.java:run(604)) - Exiting DataBlockScanner thread.
2011-08-09 20:08:09,276 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 20:08:09,276 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 20:08:09,558 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:08:09,559 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 20:08:09,569 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:08:09,570 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:run(188)) - PendingReplicationMonitor thread received exception. java.lang.InterruptedException: sleep interrupted
2011-08-09 20:08:09,571 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 20:08:09,571 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:08:09,571 DEBUG namenode.LeaseManager (LeaseManager.java:run(374)) - Monitor is interrupted
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.hdfs.server.namenode.LeaseManager$Monitor.run(LeaseManager.java:371)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:08:09,572 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits:0 
2011-08-09 20:08:09,572 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:08:09,572 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:08:09,573 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:08:09,577 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:08:09,577 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:08:09,577 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:08:09,580 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 58085
2011-08-09 20:08:09,580 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 58085: exiting
2011-08-09 20:08:09,581 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 58085: exiting
2011-08-09 20:08:09,581 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 58085: exiting
2011-08-09 20:08:09,580 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 58085: exiting
2011-08-09 20:08:09,581 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 58085: exiting
2011-08-09 20:08:09,581 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 58085: exiting
2011-08-09 20:08:09,581 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 58085: exiting
2011-08-09 20:08:09,582 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 58085: exiting
2011-08-09 20:08:09,582 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 58085: exiting
2011-08-09 20:08:09,582 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 58085: exiting
2011-08-09 20:08:09,582 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 58085
2011-08-09 20:08:09,583 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
Test 4************************************
2011-08-09 20:08:09,610 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 20:08:09,610 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 20:08:09,610 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 20:08:09,610 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 20:08:09,616 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 20:08:09,616 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 20:08:09,616 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 20:08:09,616 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 20:08:09,636 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 95 saved in 0 seconds.
2011-08-09 20:08:09,636 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:09,637 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:08:09,681 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:08:09,681 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:08:09,696 INFO  common.Storage (FSImage.java:format(1394)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1 has been successfully formatted.
2011-08-09 20:08:09,699 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 95 saved in 0 seconds.
2011-08-09 20:08:09,699 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:09,700 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:08:09,700 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:08:09,701 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:08:09,712 INFO  common.Storage (FSImage.java:format(1394)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2 has been successfully formatted.
2011-08-09 20:08:09,713 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 20:08:09,715 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:08:09,716 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 20:08:09,716 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 20:08:09,716 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 20:08:09,716 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 20:08:09,721 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 20:08:09,721 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 20:08:09,721 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 20:08:09,722 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 20:08:09,745 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:08:09,745 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 20:08:09,745 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 20:08:09,749 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 1
2011-08-09 20:08:09,749 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 20:08:09,749 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 95 loaded in 0 seconds.
2011-08-09 20:08:09,750 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits of size 4 edits # 0 loaded in 0 seconds.
2011-08-09 20:08:09,750 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:09,865 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:09,866 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 20:08:09,866 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 145 msecs
2011-08-09 20:08:09,867 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 20:08:09,871 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 0
2011-08-09 20:08:09,871 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 20:08:09,871 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 0
2011-08-09 20:08:09,871 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 20:08:09,872 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 20:08:09,882 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:08:09,885 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=60541
2011-08-09 20:08:09,886 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:60541
2011-08-09 20:08:09,886 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:08:09,887 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 60541: starting
2011-08-09 20:08:09,888 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 60541: starting
2011-08-09 20:08:09,888 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 60541: starting
2011-08-09 20:08:09,888 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 60541: starting
2011-08-09 20:08:09,888 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 60541: starting
2011-08-09 20:08:09,889 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 60541: starting
2011-08-09 20:08:09,889 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 60541: starting
2011-08-09 20:08:09,889 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 60541: starting
2011-08-09 20:08:09,890 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 60541: starting
2011-08-09 20:08:09,890 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 60541: starting
2011-08-09 20:08:09,896 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 60541: starting
2011-08-09 20:08:09,900 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 20:08:09,900 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 0 racks and 0 datanodes
2011-08-09 20:08:09,900 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 0 blocks
2011-08-09 20:08:09,901 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 20:08:09,901 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:pendingReplicationCheck(201)) - PendingReplicationMonitor checking Q
2011-08-09 20:08:09,937 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 20:08:09,938 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:08:09,939 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:08:09,939 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 42742 webServer.getConnectors()[0].getLocalPort() returned 42742
2011-08-09 20:08:09,939 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 42742
2011-08-09 20:08:09,940 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:08:09,990 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:42742
2011-08-09 20:08:09,991 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:42742
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2
2011-08-09 20:08:09,998 INFO  common.Storage (DataStorage.java:recoverTransitionRead(124)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1 is not formatted.
2011-08-09 20:08:09,999 INFO  common.Storage (DataStorage.java:recoverTransitionRead(125)) - Formatting ...
2011-08-09 20:08:10,022 INFO  common.Storage (DataStorage.java:recoverTransitionRead(124)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2 is not formatted.
2011-08-09 20:08:10,022 INFO  common.Storage (DataStorage.java:recoverTransitionRead(125)) - Formatting ...
2011-08-09 20:08:10,214 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 20:08:10,215 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 52864
2011-08-09 20:08:10,216 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 20:08:10,219 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:08:10,219 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:08:10,220 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 45605 webServer.getConnectors()[0].getLocalPort() returned 45605
2011-08-09 20:08:10,220 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 45605
2011-08-09 20:08:10,220 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:08:10,286 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:45605
2011-08-09 20:08:10,286 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 20:08:10,291 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:08:10,293 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=52760
2011-08-09 20:08:10,294 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:08:10,295 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 52760: starting
2011-08-09 20:08:10,295 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 52760: starting
2011-08-09 20:08:10,310 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 52760: starting
2011-08-09 20:08:10,311 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 52760: starting
2011-08-09 20:08:10,311 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:52864, storageID=, infoPort=45605, ipcPort=52760)
2011-08-09 20:08:10,317 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:52864 storage DS-1091476733-10.0.62.238-52864-1312913290314
2011-08-09 20:08:10,317 DEBUG hdfs.StateChange (FSNamesystem.java:unprotectedAddDatanode(3584)) - BLOCK* NameSystem.unprotectedAddDatanode: node 127.0.0.1:52864 is added to datanodeMap.
2011-08-09 20:08:10,318 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:52864
2011-08-09 20:08:10,324 INFO  datanode.DataNode (DataNode.java:register(592)) - New storage id DS-1091476733-10.0.62.238-52864-1312913290314 is assigned to data-node 127.0.0.1:52864
2011-08-09 20:08:10,324 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:52864, storageID=DS-1091476733-10.0.62.238-52864-1312913290314, infoPort=45605, ipcPort=52760)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:08:10,326 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 3600000msec Initial delay: 0msec
2011-08-09 20:08:10,336 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:08:10,338 DEBUG hdfs.StateChange (NameNode.java:blockReport(981)) - *BLOCK* NameNode.blockReport: from 127.0.0.1:52864 0 blocks
2011-08-09 20:08:10,338 DEBUG hdfs.StateChange (FSNamesystem.java:processReport(3679)) - BLOCK* NameSystem.processReport: from 127.0.0.1:52864 0 blocks
2011-08-09 20:08:10,338 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:52864 0 blocks shortCircuit first report.
2011-08-09 20:08:10,349 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 0 blocks got processed in 14 msecs
2011-08-09 20:08:10,349 INFO  datanode.DataNode (DataNode.java:offerService(864)) - Starting Periodic block scanner.
2011-08-09 20:08:10,351 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
createFile: Created /user/dir1/file1 with 1 replica.
2011-08-09 20:08:10,355 DEBUG hdfs.StateChange (NameNode.java:create(502)) - *DIR* NameNode.create: file /user/dir1/file1 for DFSClient_-584475858 at 127.0.0.1
2011-08-09 20:08:10,356 DEBUG hdfs.StateChange (FSNamesystem.java:startFileInternal(1449)) - DIR* NameSystem.startFile: src=/user/dir1/file1, holder=DFSClient_-584475858, clientMachine=127.0.0.1, replication=1, overwrite=true, append=false
2011-08-09 20:08:10,357 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [10, 0, 0, 0, 0, 0, 0, 3, -23]
2011-08-09 20:08:10,357 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [10, 0, 0, 0, 0, 0, 0, 3, -23]
2011-08-09 20:08:10,358 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 5, 47, 117, 115, 101, 114, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 57, 48, 51, 53, 55, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:08:10,358 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 5, 47, 117, 115, 101, 114, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 57, 48, 51, 53, 55, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:08:10,358 DEBUG hdfs.StateChange (FSDirectory.java:mkdirs(1341)) - DIR* FSDirectory.mkdirs: created directory /user
2011-08-09 20:08:10,359 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 57, 48, 51, 53, 55, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:08:10,359 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [3, 0, 0, 0, 3, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 57, 48, 51, 53, 55, 0, 1, 48, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -19]
2011-08-09 20:08:10,359 DEBUG hdfs.StateChange (FSDirectory.java:mkdirs(1341)) - DIR* FSDirectory.mkdirs: created directory /user/dir1
2011-08-09 20:08:10,360 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 57, 48, 51, 53, 55, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 57, 48, 51, 53, 55, 0, 4, 56, 49, 57, 50, 0, 0, 0, 0, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 20, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 45, 53, 56, 52, 52, 55, 53, 56, 53, 56, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:08:10,360 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 57, 48, 51, 53, 55, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 57, 48, 51, 53, 55, 0, 4, 56, 49, 57, 50, 0, 0, 0, 0, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 20, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 45, 53, 56, 52, 52, 55, 53, 56, 53, 56, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:08:10,361 DEBUG hdfs.StateChange (FSDirectory.java:addFile(243)) - DIR* FSDirectory.addFile: /user/dir1/file1 is added to the file system
2011-08-09 20:08:10,361 DEBUG hdfs.StateChange (FSNamesystem.java:startFileInternal(1585)) - DIR* NameSystem.startFile: add /user/dir1/file1 to namespace for DFSClient_-584475858
2011-08-09 20:08:10,362 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:08:10,362 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:08:10,362 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 244
2011-08-09 20:08:10,366 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:08:10,366 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:08:10,366 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 244
2011-08-09 20:08:10,369 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=create	src=/user/dir1/file1	dst=null	perm=jeff:supergroup:rw-r--r--
testFileCreationDeleteParent: Created file /user/dir1/file1
2011-08-09 20:08:10,406 INFO  hdfs.AppendTestUtil (AppendTestUtil.java:randomBytes(70)) - seed=3735928559, size=16385
2011-08-09 20:08:10,409 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir1/file1 for DFSClient_-584475858
2011-08-09 20:08:10,410 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir1/file1 for DFSClient_-584475858
2011-08-09 20:08:10,410 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/dir1/file1 with blk_230608833756816320_1001 block is added to the in-memory file system
2011-08-09 20:08:10,411 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/dir1/file1. blk_230608833756816320_1001
2011-08-09 20:08:10,423 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_230608833756816320_1001 src: /127.0.0.1:52057 dest: /127.0.0.1:52864
2011-08-09 20:08:10,427 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:52057, dest: /127.0.0.1:52864, bytes: 8192, op: HDFS_WRITE, cliID: DFSClient_-584475858, offset: 0, srvID: DS-1091476733-10.0.62.238-52864-1312913290314, blockid: blk_230608833756816320_1001, duration: 1530795
2011-08-09 20:08:10,427 DEBUG hdfs.StateChange (NameNode.java:blockReceived(995)) - *BLOCK* NameNode.blockReceived: from 127.0.0.1:52864 1 blocks.
2011-08-09 20:08:10,428 DEBUG hdfs.StateChange (FSNamesystem.java:blockReceived(4414)) - BLOCK* NameSystem.blockReceived: blk_230608833756816320_1001 is received from 127.0.0.1:52864
2011-08-09 20:08:10,429 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:52864 is added to blk_230608833756816320_1001 size 8192
2011-08-09 20:08:10,430 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_230608833756816320_1001 terminating
2011-08-09 20:08:10,434 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir1/file1 for DFSClient_-584475858
2011-08-09 20:08:10,434 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir1/file1 for DFSClient_-584475858
2011-08-09 20:08:10,435 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/dir1/file1 with blk_-2213774401939241146_1001 block is added to the in-memory file system
2011-08-09 20:08:10,435 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/dir1/file1. blk_-2213774401939241146_1001
2011-08-09 20:08:10,437 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-2213774401939241146_1001 src: /127.0.0.1:52058 dest: /127.0.0.1:52864
2011-08-09 20:08:10,440 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:52058, dest: /127.0.0.1:52864, bytes: 8192, op: HDFS_WRITE, cliID: DFSClient_-584475858, offset: 0, srvID: DS-1091476733-10.0.62.238-52864-1312913290314, blockid: blk_-2213774401939241146_1001, duration: 989413
2011-08-09 20:08:10,440 DEBUG hdfs.StateChange (NameNode.java:blockReceived(995)) - *BLOCK* NameNode.blockReceived: from 127.0.0.1:52864 1 blocks.
2011-08-09 20:08:10,440 DEBUG hdfs.StateChange (FSNamesystem.java:blockReceived(4414)) - BLOCK* NameSystem.blockReceived: blk_-2213774401939241146_1001 is received from 127.0.0.1:52864
2011-08-09 20:08:10,441 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-2213774401939241146_1001 terminating
2011-08-09 20:08:10,441 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:52864 is added to blk_-2213774401939241146_1001 size 8192
2011-08-09 20:08:10,442 DEBUG hdfs.StateChange (NameNode.java:addBlock(558)) - *BLOCK* NameNode.addBlock: file /user/dir1/file1 for DFSClient_-584475858
2011-08-09 20:08:10,442 DEBUG hdfs.StateChange (FSNamesystem.java:getAdditionalBlock(1700)) - BLOCK* NameSystem.getAdditionalBlock: file /user/dir1/file1 for DFSClient_-584475858
2011-08-09 20:08:10,442 DEBUG hdfs.StateChange (FSDirectory.java:addBlock(356)) - DIR* FSDirectory.addFile: /user/dir1/file1 with blk_7253380793982383249_1001 block is added to the in-memory file system
2011-08-09 20:08:10,443 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /user/dir1/file1. blk_7253380793982383249_1001
2011-08-09 20:08:10,444 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_7253380793982383249_1001 src: /127.0.0.1:52059 dest: /127.0.0.1:52864
2011-08-09 20:08:10,446 INFO  hdfs.StateChange (FSNamesystem.java:fsync(2430)) - BLOCK* NameSystem.fsync: file /user/dir1/file1 for DFSClient_-584475858
2011-08-09 20:08:10,446 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 57, 48, 51, 53, 55, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 57, 48, 51, 53, 55, 0, 4, 56, 49, 57, 50, 0, 0, 0, 3, 3, 51, 73, -125, 50, 36, 99, -64, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -23, -31, 71, 23, -23, 23, -113, 7, 70, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -23, 100, -87, 47, 102, -19, -11, -12, -111, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, -23, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 20, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 45, 53, 56, 52, 52, 55, 53, 56, 53, 56, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:08:10,447 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [0, 0, 0, 0, 5, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 1, 49, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 57, 48, 51, 53, 55, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 57, 48, 51, 53, 55, 0, 4, 56, 49, 57, 50, 0, 0, 0, 3, 3, 51, 73, -125, 50, 36, 99, -64, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -23, -31, 71, 23, -23, 23, -113, 7, 70, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 0, 0, 0, 0, 3, -23, 100, -87, 47, 102, -19, -11, -12, -111, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, -23, 4, 106, 101, 102, 102, 10, 115, 117, 112, 101, 114, 103, 114, 111, 117, 112, 1, -92, 0, 20, 68, 70, 83, 67, 108, 105, 101, 110, 116, 95, 45, 53, 56, 52, 52, 55, 53, 56, 53, 56, 0, 9, 49, 50, 55, 46, 48, 46, 48, 46, 49]
2011-08-09 20:08:10,447 DEBUG hdfs.StateChange (FSDirectory.java:persistBlocks(376)) - DIR* FSDirectory.persistBlocks: /user/dir1/file1 with 3 blocks is persisted to the file system
2011-08-09 20:08:10,447 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 194
2011-08-09 20:08:10,448 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 194
2011-08-09 20:08:10,450 DEBUG hdfs.StateChange (NameNode.java:rename(649)) - *DIR* NameNode.rename: /user/dir1/file1 to /user/dir2
2011-08-09 20:08:10,450 DEBUG hdfs.StateChange (FSNamesystem.java:renameToInternal(2161)) - DIR* NameSystem.renameTo: /user/dir1/file1 to /user/dir2
2011-08-09 20:08:10,450 DEBUG hdfs.StateChange (FSDirectory.java:renameTo(436)) - DIR* FSDirectory.renameTo: /user/dir1/file1 to /user/dir2
2011-08-09 20:08:10,451 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedRenameTo(529)) - DIR* FSDirectory.unprotectedRenameTo: /user/dir1/file1 is renamed to /user/dir2
2011-08-09 20:08:10,452 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [1, 0, 0, 0, 3, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 57, 48, 52, 53, 49]
2011-08-09 20:08:10,452 DEBUG namenode.FSNamesystem (FSEditLog.java:write(200)) - Transaction written: [1, 0, 0, 0, 3, 0, 16, 47, 117, 115, 101, 114, 47, 100, 105, 114, 49, 47, 102, 105, 108, 101, 49, 0, 10, 47, 117, 115, 101, 114, 47, 100, 105, 114, 50, 0, 13, 49, 51, 49, 50, 57, 49, 51, 50, 57, 48, 52, 53, 49]
2011-08-09 20:08:10,452 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(294)) - LeaseManager.changelease:  src=/user/dir1/file1, dest=/user/dir2, overwrite=/user/dir1/file1, replaceBy=/user/dir2
2011-08-09 20:08:10,453 DEBUG namenode.LeaseManager (LeaseManager.java:findLeaseWithPrefixPath(328)) - LeaseManager.findLease: prefix=/user/dir1/file1
2011-08-09 20:08:10,453 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(307)) - changeLease: replacing /user/dir1/file1 with /user/dir2
2011-08-09 20:08:10,453 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 55
2011-08-09 20:08:10,454 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 55
2011-08-09 20:08:10,455 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=rename	src=/user/dir1/file1	dst=/user/dir2	perm=jeff:supergroup:rw-r--r--
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 20:08:10,517 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:08:10,518 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 52760
2011-08-09 20:08:10,518 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 52760
2011-08-09 20:08:10,518 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 52760: exiting
2011-08-09 20:08:10,519 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 52760: exiting
2011-08-09 20:08:10,519 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 52760: exiting
2011-08-09 20:08:10,520 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:08:10,520 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 3
2011-08-09 20:08:10,520 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:52864, storageID=DS-1091476733-10.0.62.238-52864-1312913290314, infoPort=45605, ipcPort=52760):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 20:08:10,520 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(780)) - PacketResponder 0 for block blk_7253380793982383249_1001 Interrupted.
2011-08-09 20:08:10,521 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_7253380793982383249_1001 terminating
2011-08-09 20:08:10,521 WARN  hdfs.DFSClient (DFSClient.java:run(3117)) - DFSOutputStream ResponseProcessor exception  for block blk_7253380793982383249_1001java.io.EOFException
	at java.io.DataInputStream.readFully(DataInputStream.java:180)
	at java.io.DataInputStream.readLong(DataInputStream.java:399)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$ResponseProcessor.run(DFSClient.java:3071)

2011-08-09 20:08:10,521 INFO  datanode.DataNode (BlockReceiver.java:receiveBlock(569)) - Exception in receiveBlock for block blk_7253380793982383249_1001 java.io.InterruptedIOException: Interruped while waiting for IO on channel java.nio.channels.SocketChannel[closed]. 0 millis timeout left.
2011-08-09 20:08:10,522 WARN  hdfs.DFSClient (DFSClient.java:processDatanodeError(3153)) - Error Recovery for block blk_7253380793982383249_1001 bad datanode[0] 127.0.0.1:52864
2011-08-09 20:08:10,522 INFO  datanode.DataNode (DataXceiver.java:writeBlock(404)) - writeBlock blk_7253380793982383249_1001 received exception java.io.InterruptedIOException: Interruped while waiting for IO on channel java.nio.channels.SocketChannel[closed]. 0 millis timeout left.
2011-08-09 20:08:10,522 ERROR datanode.DataNode (DataXceiver.java:run(154)) - DatanodeRegistration(127.0.0.1:52864, storageID=DS-1091476733-10.0.62.238-52864-1312913290314, infoPort=45605, ipcPort=52760):DataXceiver
java.io.InterruptedIOException: Interruped while waiting for IO on channel java.nio.channels.SocketChannel[closed]. 0 millis timeout left.
	at org.apache.hadoop.net.SocketIOWithTimeout$SelectorPool.select(SocketIOWithTimeout.java:349)
	at org.apache.hadoop.net.SocketIOWithTimeout.doIO(SocketIOWithTimeout.java:157)
	at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:155)
	at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:128)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)
	at java.io.BufferedInputStream.read1(BufferedInputStream.java:258)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:317)
	at java.io.DataInputStream.read(DataInputStream.java:132)
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.readToBuf(BlockReceiver.java:274)
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.readNextPacket(BlockReceiver.java:321)
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.receivePacket(BlockReceiver.java:385)
	at org.apache.hadoop.hdfs.server.datanode.BlockReceiver.receiveBlock(BlockReceiver.java:537)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiver.writeBlock(DataXceiver.java:385)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiver.run(DataXceiver.java:120)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:08:11,326 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:52864, storageID=DS-1091476733-10.0.62.238-52864-1312913290314, infoPort=45605, ipcPort=52760):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:08:11,327 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 52760
2011-08-09 20:08:11,328 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:08:11,328 INFO  datanode.DataBlockScanner (DataBlockScanner.java:run(604)) - Exiting DataBlockScanner thread.
2011-08-09 20:08:11,329 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 20:08:11,329 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 20:08:11,520 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:08:11,522 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 20:08:11,537 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:08:11,538 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:run(188)) - PendingReplicationMonitor thread received exception. java.lang.InterruptedException: sleep interrupted
2011-08-09 20:08:11,540 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 20:08:11,540 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:08:11,541 DEBUG namenode.LeaseManager (LeaseManager.java:run(374)) - Monitor is interrupted
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.hdfs.server.namenode.LeaseManager$Monitor.run(LeaseManager.java:371)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:08:11,541 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 6 Total time for transactions(ms): 3 Number of transactions batched in Syncs: 0 Number of syncs: 3 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits:7  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits:4 
2011-08-09 20:08:11,541 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:08:11,543 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:08:11,544 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 60541
2011-08-09 20:08:11,544 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 60541: exiting
2011-08-09 20:08:11,544 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 60541: exiting
2011-08-09 20:08:11,545 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 60541: exiting
2011-08-09 20:08:11,545 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 60541: exiting
2011-08-09 20:08:11,545 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 60541: exiting
2011-08-09 20:08:11,545 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 60541: exiting
2011-08-09 20:08:11,545 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 60541: exiting
2011-08-09 20:08:11,545 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 60541: exiting
2011-08-09 20:08:11,545 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 60541: exiting
2011-08-09 20:08:11,545 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 60541: exiting
2011-08-09 20:08:11,547 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:08:11,548 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 60541
2011-08-09 20:08:15,548 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 20:08:15,553 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:08:15,554 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 20:08:15,554 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 20:08:15,554 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 20:08:15,555 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 20:08:15,563 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 20:08:15,563 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 20:08:15,563 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 20:08:15,563 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 20:08:15,567 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:08:15,567 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 20:08:15,568 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 20:08:15,572 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 1
2011-08-09 20:08:15,572 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 20:08:15,572 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 95 loaded in 0 seconds.
2011-08-09 20:08:15,573 DEBUG namenode.FSNamesystem (FSEditLog.java:loadFSEdits(683)) - 0: /user/dir1/file1 numblocks : 0 clientHolder DFSClient_-584475858 clientMachine 127.0.0.1
2011-08-09 20:08:15,573 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedDelete(826)) - DIR* FSDirectory.unprotectedDelete: failed to remove /user/dir1/file1 because it does not exist
2011-08-09 20:08:15,573 DEBUG namenode.FSNamesystem (FSEditLog.java:loadFSEdits(683)) - 0: /user/dir1/file1 numblocks : 3 clientHolder DFSClient_-584475858 clientMachine 127.0.0.1
2011-08-09 20:08:15,573 DEBUG namenode.LeaseManager (LeaseManager.java:findLeaseWithPrefixPath(328)) - LeaseManager.findLease: prefix=/user/dir1/file1
2011-08-09 20:08:15,574 DEBUG namenode.LeaseManager (LeaseManager.java:removeLeaseWithPrefixPath(318)) - LeaseManager.removeLeaseWithPrefixPath: entry=/user/dir1/file1=[Lease.  Holder: DFSClient_-584475858, pendingcreates: 1]
2011-08-09 20:08:15,574 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedDelete(856)) - DIR* FSDirectory.unprotectedDelete: /user/dir1/file1 is removed
2011-08-09 20:08:15,574 DEBUG hdfs.StateChange (FSDirectory.java:unprotectedRenameTo(529)) - DIR* FSDirectory.unprotectedRenameTo: /user/dir1/file1 is renamed to /user/dir2
2011-08-09 20:08:15,575 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(294)) - LeaseManager.changelease:  src=/user/dir1/file1, dest=/user/dir2, overwrite=/user/dir1/file1, replaceBy=/user/dir2
2011-08-09 20:08:15,575 DEBUG namenode.LeaseManager (LeaseManager.java:findLeaseWithPrefixPath(328)) - LeaseManager.findLease: prefix=/user/dir1/file1
2011-08-09 20:08:15,599 DEBUG namenode.LeaseManager (LeaseManager.java:changeLease(307)) - changeLease: replacing /user/dir1/file1 with /user/dir2
2011-08-09 20:08:15,599 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits of size 494 edits # 6 loaded in 0 seconds.
2011-08-09 20:08:15,600 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:15,600 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:08:15,601 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:08:15,601 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:08:15,606 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:15,607 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:08:15,607 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:08:15,607 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:08:15,610 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:15,611 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:08:15,612 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:08:15,612 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:08:15,616 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:15,617 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:08:15,617 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:08:15,617 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:08:15,617 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 535 saved in 0 seconds.
2011-08-09 20:08:15,622 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:15,622 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:08:15,623 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:08:15,623 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:08:15,629 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 535 saved in 0 seconds.
2011-08-09 20:08:15,629 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:15,630 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 0
2011-08-09 20:08:15,630 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049088 written 512 bytes  at offset 1048576
2011-08-09 20:08:15,630 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 5
2011-08-09 20:08:15,633 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:15,633 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:15,652 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 20:08:15,652 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 89 msecs
2011-08-09 20:08:15,653 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 1.00000000. Safe blocks = 0, Total blocks = 3.Safe mode will be turned off automatically.
2011-08-09 20:08:15,653 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 20:08:15,654 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:pendingReplicationCheck(201)) - PendingReplicationMonitor checking Q
2011-08-09 20:08:15,654 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 20:08:15,656 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:08:15,659 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=60541
2011-08-09 20:08:15,660 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:60541
2011-08-09 20:08:15,660 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:08:15,660 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 60541: starting
2011-08-09 20:08:15,702 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 60541: starting
2011-08-09 20:08:15,702 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 60541: starting
2011-08-09 20:08:15,702 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 60541: starting
2011-08-09 20:08:15,703 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 60541: starting
2011-08-09 20:08:15,703 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 60541: starting
2011-08-09 20:08:15,703 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 60541: starting
2011-08-09 20:08:15,703 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 60541: starting
2011-08-09 20:08:15,703 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 60541: starting
2011-08-09 20:08:15,704 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 20:08:15,705 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 60541: starting
2011-08-09 20:08:15,705 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 60541: starting
2011-08-09 20:08:15,706 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:08:15,707 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:08:15,707 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 38809 webServer.getConnectors()[0].getLocalPort() returned 38809
2011-08-09 20:08:15,707 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 38809
2011-08-09 20:08:15,707 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:08:15,752 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:38809
2011-08-09 20:08:15,752 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:38809
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2
2011-08-09 20:08:16,015 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 20:08:16,017 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 51765
2011-08-09 20:08:16,017 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 20:08:16,021 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:08:16,022 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:08:16,023 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 41021 webServer.getConnectors()[0].getLocalPort() returned 41021
2011-08-09 20:08:16,023 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 41021
2011-08-09 20:08:16,023 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:08:16,093 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:41021
2011-08-09 20:08:16,095 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 20:08:16,100 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:08:16,102 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=49686
2011-08-09 20:08:16,103 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:08:16,104 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 49686: starting
2011-08-09 20:08:16,104 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 49686: starting
2011-08-09 20:08:16,105 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:51765, storageID=DS-1091476733-10.0.62.238-52864-1312913290314, infoPort=41021, ipcPort=49686)
2011-08-09 20:08:16,106 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 49686: starting
2011-08-09 20:08:16,107 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 49686: starting
2011-08-09 20:08:16,109 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:51765 storage DS-1091476733-10.0.62.238-52864-1312913290314
2011-08-09 20:08:16,109 DEBUG hdfs.StateChange (FSNamesystem.java:unprotectedAddDatanode(3584)) - BLOCK* NameSystem.unprotectedAddDatanode: node 127.0.0.1:51765 is added to datanodeMap.
2011-08-09 20:08:16,109 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:51765
2011-08-09 20:08:16,111 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:51765, storageID=DS-1091476733-10.0.62.238-52864-1312913290314, infoPort=41021, ipcPort=49686)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:08:16,112 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 3600000msec Initial delay: 0msec
2011-08-09 20:08:16,122 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:08:16,123 DEBUG hdfs.StateChange (NameNode.java:blockReport(981)) - *BLOCK* NameNode.blockReport: from 127.0.0.1:51765 3 blocks
2011-08-09 20:08:16,125 DEBUG hdfs.StateChange (FSNamesystem.java:processReport(3679)) - BLOCK* NameSystem.processReport: from 127.0.0.1:51765 3 blocks
2011-08-09 20:08:16,125 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:51765 3 blocks shortCircuit first report.
2011-08-09 20:08:16,126 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 20:08:16,130 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 3
2011-08-09 20:08:16,130 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 20:08:16,130 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 0
2011-08-09 20:08:16,130 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 20:08:16,131 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 20:08:16,131 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 20:08:16,131 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 20:08:16,131 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 0 blocks
2011-08-09 20:08:16,132 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 3 blocks got processed in 11 msecs
2011-08-09 20:08:16,133 INFO  datanode.DataNode (DataNode.java:offerService(864)) - Starting Periodic block scanner.
2011-08-09 20:08:16,133 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:08:16,134 INFO  datanode.DataBlockScanner (DataBlockScanner.java:verifyBlock(435)) - Verification succeeded for blk_7253380793982383249_1001
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 20:08:17,150 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:08:17,251 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 49686
2011-08-09 20:08:17,251 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 49686: exiting
2011-08-09 20:08:17,253 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 49686
2011-08-09 20:08:17,253 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:51765, storageID=DS-1091476733-10.0.62.238-52864-1312913290314, infoPort=41021, ipcPort=49686):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 20:08:17,253 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:08:17,252 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 20:08:17,252 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 49686: exiting
2011-08-09 20:08:17,251 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 49686: exiting
2011-08-09 20:08:17,255 INFO  datanode.DataBlockScanner (DataBlockScanner.java:run(604)) - Exiting DataBlockScanner thread.
2011-08-09 20:08:17,256 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:51765, storageID=DS-1091476733-10.0.62.238-52864-1312913290314, infoPort=41021, ipcPort=49686):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:08:17,256 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 49686
2011-08-09 20:08:17,257 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:08:17,258 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 20:08:17,258 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 20:08:17,259 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 20:08:17,313 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:08:17,414 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:run(188)) - PendingReplicationMonitor thread received exception. java.lang.InterruptedException: sleep interrupted
2011-08-09 20:08:17,414 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 20:08:17,543 DEBUG namenode.LeaseManager (LeaseManager.java:run(374)) - Monitor is interrupted
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.hdfs.server.namenode.LeaseManager$Monitor.run(LeaseManager.java:371)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:08:17,544 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:08:17,545 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits:0 
2011-08-09 20:08:17,545 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:08:17,545 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:08:17,545 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:08:17,549 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:08:17,549 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:08:17,549 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:08:17,552 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 60541
2011-08-09 20:08:17,553 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 60541: exiting
2011-08-09 20:08:17,553 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 60541: exiting
2011-08-09 20:08:17,553 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 60541: exiting
2011-08-09 20:08:17,553 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 60541: exiting
2011-08-09 20:08:17,554 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 60541: exiting
2011-08-09 20:08:17,554 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 60541: exiting
2011-08-09 20:08:17,554 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 60541: exiting
2011-08-09 20:08:17,554 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 60541: exiting
2011-08-09 20:08:17,554 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 60541: exiting
2011-08-09 20:08:17,554 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 60541: exiting
2011-08-09 20:08:17,554 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 60541
2011-08-09 20:08:17,556 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:08:22,556 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 20:08:22,560 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:08:22,561 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 20:08:22,561 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 20:08:22,561 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 20:08:22,561 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 20:08:22,566 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 20:08:22,567 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 20:08:22,567 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 20:08:22,567 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 20:08:22,571 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 20:08:22,571 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 20:08:22,572 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 20:08:22,575 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 20:08:22,576 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 20:08:22,576 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 20:08:22,576 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 20:08:22,576 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 1
2011-08-09 20:08:22,577 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 535 loaded in 0 seconds.
2011-08-09 20:08:22,577 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits of size 4 edits # 0 loaded in 0 seconds.
2011-08-09 20:08:22,577 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:22,600 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 20:08:22,601 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 20:08:22,601 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 35 msecs
2011-08-09 20:08:22,602 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 1.00000000. Safe blocks = 0, Total blocks = 3.Safe mode will be turned off automatically.
2011-08-09 20:08:22,602 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 20:08:22,606 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:pendingReplicationCheck(201)) - PendingReplicationMonitor checking Q
2011-08-09 20:08:22,613 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 20:08:22,614 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:08:22,617 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=60541
2011-08-09 20:08:22,617 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:60541
2011-08-09 20:08:22,618 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:08:22,618 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 60541: starting
2011-08-09 20:08:22,619 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 60541: starting
2011-08-09 20:08:22,619 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 60541: starting
2011-08-09 20:08:22,619 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 60541: starting
2011-08-09 20:08:22,619 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 60541: starting
2011-08-09 20:08:22,620 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 60541: starting
2011-08-09 20:08:22,620 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 60541: starting
2011-08-09 20:08:22,620 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 60541: starting
2011-08-09 20:08:22,621 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 60541: starting
2011-08-09 20:08:22,621 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 60541: starting
2011-08-09 20:08:22,621 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 60541: starting
2011-08-09 20:08:22,622 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 20:08:22,624 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:08:22,624 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:08:22,625 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 53583 webServer.getConnectors()[0].getLocalPort() returned 53583
2011-08-09 20:08:22,625 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 53583
2011-08-09 20:08:22,625 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:08:22,785 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:53583
2011-08-09 20:08:22,786 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:53583
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2
2011-08-09 20:08:22,913 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 20:08:22,915 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 36420
2011-08-09 20:08:22,915 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 20:08:22,918 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 20:08:22,919 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 20:08:22,919 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 39691 webServer.getConnectors()[0].getLocalPort() returned 39691
2011-08-09 20:08:22,919 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 39691
2011-08-09 20:08:22,920 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 20:08:22,994 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:39691
2011-08-09 20:08:22,995 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 20:08:22,999 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 20:08:23,001 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=45614
2011-08-09 20:08:23,010 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 20:08:23,010 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 45614: starting
2011-08-09 20:08:23,012 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 45614: starting
2011-08-09 20:08:23,012 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 45614: starting
2011-08-09 20:08:23,013 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:36420, storageID=DS-1091476733-10.0.62.238-52864-1312913290314, infoPort=39691, ipcPort=45614)
2011-08-09 20:08:23,015 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 45614: starting
2011-08-09 20:08:23,016 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:36420 storage DS-1091476733-10.0.62.238-52864-1312913290314
2011-08-09 20:08:23,017 DEBUG hdfs.StateChange (FSNamesystem.java:unprotectedAddDatanode(3584)) - BLOCK* NameSystem.unprotectedAddDatanode: node 127.0.0.1:36420 is added to datanodeMap.
2011-08-09 20:08:23,017 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:36420
2011-08-09 20:08:23,019 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:36420, storageID=DS-1091476733-10.0.62.238-52864-1312913290314, infoPort=39691, ipcPort=45614)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:08:23,020 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 3600000msec Initial delay: 0msec
2011-08-09 20:08:23,027 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:08:23,072 DEBUG hdfs.StateChange (NameNode.java:blockReport(981)) - *BLOCK* NameNode.blockReport: from 127.0.0.1:36420 3 blocks
2011-08-09 20:08:23,072 DEBUG hdfs.StateChange (FSNamesystem.java:processReport(3679)) - BLOCK* NameSystem.processReport: from 127.0.0.1:36420 3 blocks
2011-08-09 20:08:23,073 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:36420 3 blocks shortCircuit first report.
2011-08-09 20:08:23,074 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 20:08:23,077 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 3
2011-08-09 20:08:23,078 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 20:08:23,078 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 0
2011-08-09 20:08:23,078 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 20:08:23,078 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 20:08:23,078 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 20:08:23,079 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 20:08:23,079 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 0 blocks
2011-08-09 20:08:23,080 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 3 blocks got processed in 54 msecs
2011-08-09 20:08:23,081 INFO  datanode.DataNode (DataNode.java:offerService(864)) - Starting Periodic block scanner.
2011-08-09 20:08:23,085 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 20:08:23,086 INFO  datanode.DataBlockScanner (DataBlockScanner.java:verifyBlock(435)) - Verification succeeded for blk_-2213774401939241146_1001
2011-08-09 20:08:23,100 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=open	src=/user/dir2	dst=null	perm=null
127.0.0.1:36420  off 0 len 8192
127.0.0.1:36420  off 8192 len 8192
127.0.0.1:36420  off 16384 len 1
2011-08-09 20:08:23,101 INFO  hdfs.AppendTestUtil (AppendTestUtil.java:randomBytes(70)) - seed=3735928559, size=16385
2011-08-09 20:08:23,104 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=open	src=/user/dir2	dst=null	perm=null
2011-08-09 20:08:23,112 INFO  DataNode.clienttrace (BlockSender.java:sendBlock(441)) - src: /127.0.0.1:36420, dest: /127.0.0.1:57915, bytes: 8256, op: HDFS_READ, cliID: DFSClient_-584475858, offset: 0, srvID: DS-1091476733-10.0.62.238-52864-1312913290314, blockid: blk_230608833756816320_1001, duration: 508678
2011-08-09 20:08:23,117 INFO  DataNode.clienttrace (BlockSender.java:sendBlock(441)) - src: /127.0.0.1:36420, dest: /127.0.0.1:57916, bytes: 8256, op: HDFS_READ, cliID: DFSClient_-584475858, offset: 0, srvID: DS-1091476733-10.0.62.238-52864-1312913290314, blockid: blk_-2213774401939241146_1001, duration: 263563
2011-08-09 20:08:23,120 INFO  DataNode.clienttrace (BlockSender.java:sendBlock(441)) - src: /127.0.0.1:36420, dest: /127.0.0.1:57917, bytes: 5, op: HDFS_READ, cliID: DFSClient_-584475858, offset: 0, srvID: DS-1091476733-10.0.62.238-52864-1312913290314, blockid: blk_7253380793982383249_1001, duration: 597277
2011-08-09 20:08:23,129 ERROR hdfs.DFSClient (DFSClient.java:close(1511)) - Exception closing file /user/dir1/file1 : java.io.IOException: All datanodes 127.0.0.1:52864 are bad. Aborting...
java.io.IOException: All datanodes 127.0.0.1:52864 are bad. Aborting...
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.processDatanodeError(DFSClient.java:3202)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2400(DFSClient.java:2676)
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2912)
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 20:08:23,308 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:08:23,409 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 45614
2011-08-09 20:08:23,409 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 45614: exiting
2011-08-09 20:08:23,409 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 45614: exiting
2011-08-09 20:08:23,410 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 45614: exiting
2011-08-09 20:08:23,413 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 45614
2011-08-09 20:08:23,414 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 20:08:23,414 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 20:08:23,415 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:36420, storageID=DS-1091476733-10.0.62.238-52864-1312913290314, infoPort=39691, ipcPort=45614):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 20:08:24,020 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:36420, storageID=DS-1091476733-10.0.62.238-52864-1312913290314, infoPort=39691, ipcPort=45614):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/dfs/data/data2/current'}
2011-08-09 20:08:24,021 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 45614
2011-08-09 20:08:24,021 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:08:24,022 INFO  datanode.DataBlockScanner (DataBlockScanner.java:run(604)) - Exiting DataBlockScanner thread.
2011-08-09 20:08:24,024 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 20:08:24,024 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 20:08:24,415 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 20:08:24,416 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 20:08:24,569 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 20:08:24,670 DEBUG namenode.FSNamesystem (PendingReplicationBlocks.java:run(188)) - PendingReplicationMonitor thread received exception. java.lang.InterruptedException: sleep interrupted
2011-08-09 20:08:24,670 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 20:08:24,671 DEBUG namenode.LeaseManager (LeaseManager.java:run(374)) - Monitor is interrupted
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.hdfs.server.namenode.LeaseManager$Monitor.run(LeaseManager.java:371)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:08:24,671 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/dfs/name2/current/edits:0 
2011-08-09 20:08:24,671 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:08:24,672 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:08:24,672 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:08:24,672 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 20:08:24,676 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(284)) - Preallocating Edit log, current size 4
2011-08-09 20:08:24,676 DEBUG namenode.FSNamesystem (FSEditLog.java:preallocate(289)) - Edit log size is now 1049092 written 512 bytes  at offset 1048580
2011-08-09 20:08:24,676 DEBUG namenode.FSNamesystem (FSEditLog.java:flushAndSync(261)) - Flushing buffer of size: 1
2011-08-09 20:08:24,679 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 60541
2011-08-09 20:08:24,680 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 60541: exiting
2011-08-09 20:08:24,680 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 60541: exiting
2011-08-09 20:08:24,680 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 60541: exiting
2011-08-09 20:08:24,680 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 60541: exiting
2011-08-09 20:08:24,681 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 60541: exiting
2011-08-09 20:08:24,681 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 60541: exiting
2011-08-09 20:08:24,681 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 60541: exiting
2011-08-09 20:08:24,681 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 60541: exiting
2011-08-09 20:08:24,681 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 60541: exiting
2011-08-09 20:08:24,682 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 60541
2011-08-09 20:08:24,681 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 60541: exiting
2011-08-09 20:08:24,683 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
------------- ---------------- ---------------
------------- Standard Error -----------------
Waiting for the Mini HDFS Cluster to start...
Waiting for the Mini HDFS Cluster to start...
------------- ---------------- ---------------

Testcase: testWhileOpenRenameParent took 17.455 sec
Testcase: testWhileOpenRenameParentToNonexistentDir took 15.439 sec
Testcase: testWhileOpenRenameToExistentDirectory took 14.009 sec
Testcase: testWhileOpenRenameToNonExistentDirectory took 15.1 sec
