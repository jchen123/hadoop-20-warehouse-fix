Testsuite: org.apache.hadoop.hdfs.TestDFSStorageStateRecovery
Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 109.178 sec
------------- Standard Output ---------------
2011-08-09 18:58:40,625 WARN  conf.Configuration (Configuration.java:<clinit>(191)) - DEPRECATED: hadoop-site.xml found in the classpath. Usage of hadoop-site.xml is deprecated. Instead use core-site.xml, mapred-site.xml and hdfs-site.xml to override properties of core-default.xml, mapred-default.xml and hdfs-default.xml respectively
2011-08-09 18:58:40,833 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:58:40,835 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:58:40,835 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:58:40,835 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:58:40,972 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:58:40,973 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:58:40,973 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:58:41,099 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:58:41,212 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 95 saved in 0 seconds.
2011-08-09 18:58:41,216 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/namenodeMaster/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:58:41,250 INFO  common.Storage (FSImage.java:format(1394)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/namenodeMaster has been successfully formatted.
2011-08-09 18:58:41,291 INFO  jvm.JvmMetrics (JvmMetrics.java:init(71)) - Initializing JVM Metrics with processName=NameNode, sessionId=null
2011-08-09 18:58:41,363 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:58:41,364 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:58:41,364 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:58:41,364 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:58:41,365 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:58:41,442 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:58:41,443 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:58:41,443 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:58:41,443 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:58:41,470 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:58:41,471 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:58:41,480 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:58:41,486 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 1
2011-08-09 18:58:41,487 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:58:41,487 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 95 loaded in 0 seconds.
2011-08-09 18:58:41,490 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/namenodeMaster/current/edits of size 4 edits # 0 loaded in 0 seconds.
2011-08-09 18:58:41,491 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/namenodeMaster/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:58:41,497 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:58:41,497 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 56 msecs
2011-08-09 18:58:41,499 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 18:58:41,509 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 0
2011-08-09 18:58:41,509 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 18:58:41,510 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 0
2011-08-09 18:58:41,510 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 18:58:41,510 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 18:58:41,536 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:58:41,541 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=48241
2011-08-09 18:58:41,545 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:48241
2011-08-09 18:58:41,545 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:58:41,547 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 48241: starting
2011-08-09 18:58:41,547 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 48241: starting
2011-08-09 18:58:41,548 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 48241: starting
2011-08-09 18:58:41,548 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 48241: starting
2011-08-09 18:58:41,549 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 48241: starting
2011-08-09 18:58:41,550 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 48241: starting
2011-08-09 18:58:41,550 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 48241: starting
2011-08-09 18:58:41,551 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 48241: starting
2011-08-09 18:58:41,552 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 48241: starting
2011-08-09 18:58:41,552 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 48241: starting
2011-08-09 18:58:41,553 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 48241: starting
2011-08-09 18:58:41,666 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:58:41,667 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 0 racks and 0 datanodes
2011-08-09 18:58:41,667 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 0 blocks
2011-08-09 18:58:41,668 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:58:41,675 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:58:41,763 INFO  mortbay.log (Slf4jLog.java:info(67)) - Logging to org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via org.mortbay.log.Slf4jLog
2011-08-09 18:58:41,843 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:58:41,895 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:58:41,896 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 36083 webServer.getConnectors()[0].getLocalPort() returned 36083
2011-08-09 18:58:41,896 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 36083
2011-08-09 18:58:41,896 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:58:42,437 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:36083
2011-08-09 18:58:42,437 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:36083
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/datanodeMaster
2011-08-09 18:58:42,480 INFO  common.Storage (DataStorage.java:recoverTransitionRead(124)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/datanodeMaster is not formatted.
2011-08-09 18:58:42,480 INFO  common.Storage (DataStorage.java:recoverTransitionRead(125)) - Formatting ...
2011-08-09 18:58:42,609 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 18:58:42,612 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 35102
2011-08-09 18:58:42,621 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 18:58:42,638 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:58:42,641 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:58:42,642 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 38976 webServer.getConnectors()[0].getLocalPort() returned 38976
2011-08-09 18:58:42,642 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 38976
2011-08-09 18:58:42,643 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:58:42,828 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:38976
2011-08-09 18:58:42,830 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 18:58:42,841 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:58:42,844 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=52610
2011-08-09 18:58:42,846 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:58:42,846 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 52610: starting
2011-08-09 18:58:42,847 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 52610: starting
2011-08-09 18:58:42,848 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 52610: starting
2011-08-09 18:58:42,849 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:35102, storageID=, infoPort=38976, ipcPort=52610)
2011-08-09 18:58:42,852 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 52610: starting
2011-08-09 18:59:40,956 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:35102 storage DS-1061207207-10.0.62.238-35102-1312909180951
2011-08-09 18:59:40,960 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:35102
2011-08-09 18:59:40,964 INFO  datanode.DataNode (DataNode.java:register(592)) - New storage id DS-1061207207-10.0.62.238-35102-1312909180951 is assigned to data-node 127.0.0.1:35102
2011-08-09 18:59:40,965 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:35102, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=38976, ipcPort=52610)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/datanodeMaster/current'}
2011-08-09 18:59:40,965 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 3600000msec Initial delay: 0msec
2011-08-09 18:59:40,994 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 1 volumes in 0 seconds
2011-08-09 18:59:40,997 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:35102 0 blocks shortCircuit first report.
2011-08-09 18:59:41,000 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 0 blocks got processed in 6 msecs
2011-08-09 18:59:41,000 INFO  datanode.DataNode (DataNode.java:offerService(864)) - Starting Periodic block scanner.
2011-08-09 18:59:41,002 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 1 volumes in 0 seconds
2011-08-09 18:59:41,037 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=mkdirs	src=/TestUpgrade	dst=null	perm=jeff:supergroup:rwxr-xr-x
2011-08-09 18:59:41,050 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=create	src=/TestUpgrade/file1	dst=null	perm=jeff:supergroup:rw-r--r--
2011-08-09 18:59:41,059 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /TestUpgrade/file1. blk_2236987839032431686_1001
2011-08-09 18:59:41,108 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_2236987839032431686_1001 src: /127.0.0.1:59558 dest: /127.0.0.1:35102
2011-08-09 18:59:41,179 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:59558, dest: /127.0.0.1:35102, bytes: 1024, op: HDFS_WRITE, cliID: DFSClient_-548888315, offset: 0, srvID: DS-1061207207-10.0.62.238-35102-1312909180951, blockid: blk_2236987839032431686_1001, duration: 48460999
2011-08-09 18:59:41,180 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_2236987839032431686_1001 terminating
2011-08-09 18:59:41,181 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:35102 is added to blk_2236987839032431686_1001 size 1024
2011-08-09 18:59:41,187 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /TestUpgrade/file1. blk_6740590897437466955_1001
2011-08-09 18:59:41,189 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_6740590897437466955_1001 src: /127.0.0.1:59559 dest: /127.0.0.1:35102
2011-08-09 18:59:41,193 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:59559, dest: /127.0.0.1:35102, bytes: 1024, op: HDFS_WRITE, cliID: DFSClient_-548888315, offset: 0, srvID: DS-1061207207-10.0.62.238-35102-1312909180951, blockid: blk_6740590897437466955_1001, duration: 1748505
2011-08-09 18:59:41,194 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_6740590897437466955_1001 terminating
2011-08-09 18:59:41,224 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:35102 is added to blk_6740590897437466955_1001 size 1024
2011-08-09 18:59:41,230 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /TestUpgrade/file1. blk_3809068421052566248_1001
2011-08-09 18:59:41,231 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_3809068421052566248_1001 src: /127.0.0.1:59560 dest: /127.0.0.1:35102
2011-08-09 18:59:41,235 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:59560, dest: /127.0.0.1:35102, bytes: 1024, op: HDFS_WRITE, cliID: DFSClient_-548888315, offset: 0, srvID: DS-1061207207-10.0.62.238-35102-1312909180951, blockid: blk_3809068421052566248_1001, duration: 2075179
2011-08-09 18:59:41,235 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:35102 is added to blk_3809068421052566248_1001 size 1024
2011-08-09 18:59:41,238 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_3809068421052566248_1001 terminating
2011-08-09 18:59:41,239 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /TestUpgrade/file1. blk_-2644041751134561566_1001
2011-08-09 18:59:41,241 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-2644041751134561566_1001 src: /127.0.0.1:59561 dest: /127.0.0.1:35102
2011-08-09 18:59:41,245 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:59561, dest: /127.0.0.1:35102, bytes: 1024, op: HDFS_WRITE, cliID: DFSClient_-548888315, offset: 0, srvID: DS-1061207207-10.0.62.238-35102-1312909180951, blockid: blk_-2644041751134561566_1001, duration: 1837369
2011-08-09 18:59:41,245 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:35102 is added to blk_-2644041751134561566_1001 size 1024
2011-08-09 18:59:41,246 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-2644041751134561566_1001 terminating
2011-08-09 18:59:41,291 INFO  hdfs.StateChange (FSNamesystem.java:completeFileInternal(1886)) - DIR* NameSystem.completeFile: file /TestUpgrade/file1 is closed by DFSClient_-548888315
2011-08-09 18:59:41,296 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=create	src=/TestUpgrade/file2	dst=null	perm=jeff:supergroup:rw-r--r--
2011-08-09 18:59:41,304 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /TestUpgrade/file2. blk_-6033478024469481312_1002
2011-08-09 18:59:41,305 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-6033478024469481312_1002 src: /127.0.0.1:59562 dest: /127.0.0.1:35102
2011-08-09 18:59:41,308 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:59562, dest: /127.0.0.1:35102, bytes: 1024, op: HDFS_WRITE, cliID: DFSClient_-548888315, offset: 0, srvID: DS-1061207207-10.0.62.238-35102-1312909180951, blockid: blk_-6033478024469481312_1002, duration: 1231806
2011-08-09 18:59:41,308 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-6033478024469481312_1002 terminating
2011-08-09 18:59:41,341 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:35102 is added to blk_-6033478024469481312_1002 size 1024
2011-08-09 18:59:41,342 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /TestUpgrade/file2. blk_-2781845956762190829_1002
2011-08-09 18:59:41,344 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-2781845956762190829_1002 src: /127.0.0.1:59563 dest: /127.0.0.1:35102
2011-08-09 18:59:41,347 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:59563, dest: /127.0.0.1:35102, bytes: 1024, op: HDFS_WRITE, cliID: DFSClient_-548888315, offset: 0, srvID: DS-1061207207-10.0.62.238-35102-1312909180951, blockid: blk_-2781845956762190829_1002, duration: 1213921
2011-08-09 18:59:41,347 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-2781845956762190829_1002 terminating
2011-08-09 18:59:41,348 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:35102 is added to blk_-2781845956762190829_1002 size 1024
2011-08-09 18:59:41,371 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /TestUpgrade/file2. blk_-4847633136424198293_1002
2011-08-09 18:59:41,372 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-4847633136424198293_1002 src: /127.0.0.1:59564 dest: /127.0.0.1:35102
2011-08-09 18:59:41,386 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:59564, dest: /127.0.0.1:35102, bytes: 1024, op: HDFS_WRITE, cliID: DFSClient_-548888315, offset: 0, srvID: DS-1061207207-10.0.62.238-35102-1312909180951, blockid: blk_-4847633136424198293_1002, duration: 1213362
2011-08-09 18:59:41,386 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:35102 is added to blk_-4847633136424198293_1002 size 1024
2011-08-09 18:59:41,387 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-4847633136424198293_1002 terminating
2011-08-09 18:59:41,390 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /TestUpgrade/file2. blk_-2304407620664262257_1002
2011-08-09 18:59:41,393 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-2304407620664262257_1002 src: /127.0.0.1:59565 dest: /127.0.0.1:35102
2011-08-09 18:59:41,395 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:59565, dest: /127.0.0.1:35102, bytes: 1024, op: HDFS_WRITE, cliID: DFSClient_-548888315, offset: 0, srvID: DS-1061207207-10.0.62.238-35102-1312909180951, blockid: blk_-2304407620664262257_1002, duration: 989245
2011-08-09 18:59:41,396 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-2304407620664262257_1002 terminating
2011-08-09 18:59:41,397 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:35102 is added to blk_-2304407620664262257_1002 size 1024
2011-08-09 18:59:41,415 INFO  hdfs.StateChange (FSNamesystem.java:completeFileInternal(1886)) - DIR* NameSystem.completeFile: file /TestUpgrade/file2 is closed by DFSClient_-548888315
2011-08-09 18:59:41,417 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/namenodeMaster/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:41,440 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 7 Total time for transactions(ms): 1 Number of transactions batched in Syncs: 0 Number of syncs: 5 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/namenodeMaster/current/edits:28 
2011-08-09 18:59:41,442 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/namenodeMaster/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:41,454 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 501 saved in 0 seconds.
2011-08-09 18:59:41,454 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/namenodeMaster/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:41,462 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/namenodeMaster/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:41,470 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/namenodeMaster/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:41,477 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=create	src=/TestUpgrade/file3	dst=null	perm=jeff:supergroup:rw-r--r--
2011-08-09 18:59:41,479 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /TestUpgrade/file3. blk_5092812353729957555_1003
2011-08-09 18:59:41,480 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_5092812353729957555_1003 src: /127.0.0.1:59566 dest: /127.0.0.1:35102
2011-08-09 18:59:41,484 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:35102 is added to blk_5092812353729957555_1003 size 1024
2011-08-09 18:59:41,484 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:59566, dest: /127.0.0.1:35102, bytes: 1024, op: HDFS_WRITE, cliID: DFSClient_-548888315, offset: 0, srvID: DS-1061207207-10.0.62.238-35102-1312909180951, blockid: blk_5092812353729957555_1003, duration: 1309492
2011-08-09 18:59:41,485 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_5092812353729957555_1003 terminating
2011-08-09 18:59:41,487 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /TestUpgrade/file3. blk_8394385845754534277_1003
2011-08-09 18:59:41,492 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_8394385845754534277_1003 src: /127.0.0.1:59567 dest: /127.0.0.1:35102
2011-08-09 18:59:41,495 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:59567, dest: /127.0.0.1:35102, bytes: 1024, op: HDFS_WRITE, cliID: DFSClient_-548888315, offset: 0, srvID: DS-1061207207-10.0.62.238-35102-1312909180951, blockid: blk_8394385845754534277_1003, duration: 1028088
2011-08-09 18:59:41,495 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_8394385845754534277_1003 terminating
2011-08-09 18:59:41,496 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:35102 is added to blk_8394385845754534277_1003 size 1024
2011-08-09 18:59:41,504 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /TestUpgrade/file3. blk_8935612704047875776_1003
2011-08-09 18:59:41,505 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_8935612704047875776_1003 src: /127.0.0.1:59568 dest: /127.0.0.1:35102
2011-08-09 18:59:41,508 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:59568, dest: /127.0.0.1:35102, bytes: 1024, op: HDFS_WRITE, cliID: DFSClient_-548888315, offset: 0, srvID: DS-1061207207-10.0.62.238-35102-1312909180951, blockid: blk_8935612704047875776_1003, duration: 994275
2011-08-09 18:59:41,508 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_8935612704047875776_1003 terminating
2011-08-09 18:59:41,509 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /TestUpgrade/file3. blk_-3219778143263640013_1003
2011-08-09 18:59:41,511 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:35102 is added to blk_8935612704047875776_1003 size 1024
2011-08-09 18:59:41,513 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-3219778143263640013_1003 src: /127.0.0.1:59569 dest: /127.0.0.1:35102
2011-08-09 18:59:41,527 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:35102 is added to blk_-3219778143263640013_1003 size 1024
2011-08-09 18:59:41,527 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:59569, dest: /127.0.0.1:35102, bytes: 1024, op: HDFS_WRITE, cliID: DFSClient_-548888315, offset: 0, srvID: DS-1061207207-10.0.62.238-35102-1312909180951, blockid: blk_-3219778143263640013_1003, duration: 1093479
2011-08-09 18:59:41,529 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-3219778143263640013_1003 terminating
2011-08-09 18:59:41,531 INFO  hdfs.StateChange (FSNamesystem.java:completeFileInternal(1886)) - DIR* NameSystem.completeFile: file /TestUpgrade/file3 is closed by DFSClient_-548888315
2011-08-09 18:59:41,536 INFO  FSNamesystem.audit (FSNamesystem.java:logAuditEvent(136)) - ugi=jeff,jeff	ip=/127.0.0.1	cmd=create	src=/TestUpgrade/file4	dst=null	perm=jeff:supergroup:rw-r--r--
2011-08-09 18:59:41,538 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /TestUpgrade/file4. blk_-9034274664947310738_1004
2011-08-09 18:59:41,539 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-9034274664947310738_1004 src: /127.0.0.1:59570 dest: /127.0.0.1:35102
2011-08-09 18:59:41,542 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:59570, dest: /127.0.0.1:35102, bytes: 1024, op: HDFS_WRITE, cliID: DFSClient_-548888315, offset: 0, srvID: DS-1061207207-10.0.62.238-35102-1312909180951, blockid: blk_-9034274664947310738_1004, duration: 1296079
2011-08-09 18:59:41,542 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-9034274664947310738_1004 terminating
2011-08-09 18:59:41,543 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:35102 is added to blk_-9034274664947310738_1004 size 1024
2011-08-09 18:59:41,544 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /TestUpgrade/file4. blk_-5683067857943972417_1004
2011-08-09 18:59:41,546 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-5683067857943972417_1004 src: /127.0.0.1:59571 dest: /127.0.0.1:35102
2011-08-09 18:59:41,548 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:35102 is added to blk_-5683067857943972417_1004 size 1024
2011-08-09 18:59:41,549 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:59571, dest: /127.0.0.1:35102, bytes: 1024, op: HDFS_WRITE, cliID: DFSClient_-548888315, offset: 0, srvID: DS-1061207207-10.0.62.238-35102-1312909180951, blockid: blk_-5683067857943972417_1004, duration: 863214
2011-08-09 18:59:41,549 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-5683067857943972417_1004 terminating
2011-08-09 18:59:41,551 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /TestUpgrade/file4. blk_-7555824175990102496_1004
2011-08-09 18:59:41,552 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-7555824175990102496_1004 src: /127.0.0.1:59572 dest: /127.0.0.1:35102
2011-08-09 18:59:41,555 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:59572, dest: /127.0.0.1:35102, bytes: 1024, op: HDFS_WRITE, cliID: DFSClient_-548888315, offset: 0, srvID: DS-1061207207-10.0.62.238-35102-1312909180951, blockid: blk_-7555824175990102496_1004, duration: 1109407
2011-08-09 18:59:41,555 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-7555824175990102496_1004 terminating
2011-08-09 18:59:41,556 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:35102 is added to blk_-7555824175990102496_1004 size 1024
2011-08-09 18:59:41,571 INFO  hdfs.StateChange (FSNamesystem.java:allocateBlock(1930)) - BLOCK* NameSystem.allocateBlock: /TestUpgrade/file4. blk_-112646092812750010_1004
2011-08-09 18:59:41,572 INFO  datanode.DataNode (DataXceiver.java:writeBlock(254)) - Receiving block blk_-112646092812750010_1004 src: /127.0.0.1:59573 dest: /127.0.0.1:35102
2011-08-09 18:59:41,587 INFO  hdfs.StateChange (FSNamesystem.java:addStoredBlock(3893)) - BLOCK* NameSystem.addStoredBlock: blockMap updated: 127.0.0.1:35102 is added to blk_-112646092812750010_1004 size 1024
2011-08-09 18:59:41,588 INFO  DataNode.clienttrace (BlockReceiver.java:lastDataNodeRun(820)) - src: /127.0.0.1:59573, dest: /127.0.0.1:35102, bytes: 1024, op: HDFS_WRITE, cliID: DFSClient_-548888315, offset: 0, srvID: DS-1061207207-10.0.62.238-35102-1312909180951, blockid: blk_-112646092812750010_1004, duration: 1162782
2011-08-09 18:59:41,588 INFO  datanode.DataNode (BlockReceiver.java:lastDataNodeRun(851)) - PacketResponder 0 for block blk_-112646092812750010_1004 terminating
2011-08-09 18:59:41,591 INFO  hdfs.StateChange (FSNamesystem.java:completeFileInternal(1886)) - DIR* NameSystem.completeFile: file /TestUpgrade/file4 is closed by DFSClient_-548888315
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 18:59:41,599 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:41,600 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 52610
2011-08-09 18:59:41,600 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 52610
2011-08-09 18:59:41,601 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 18:59:41,600 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 52610: exiting
2011-08-09 18:59:41,601 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 52610: exiting
2011-08-09 18:59:41,601 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:41,602 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 52610: exiting
2011-08-09 18:59:41,602 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:35102, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=38976, ipcPort=52610):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 18:59:42,008 INFO  datanode.DataBlockScanner (DataBlockScanner.java:run(604)) - Exiting DataBlockScanner thread.
2011-08-09 18:59:42,601 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 18:59:42,603 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:35102, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=38976, ipcPort=52610):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/datanodeMaster/current'}
2011-08-09 18:59:42,603 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 52610
2011-08-09 18:59:42,603 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 18:59:42,604 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 18:59:42,604 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 18:59:42,604 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 18:59:42,631 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:42,632 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:42,634 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:42,635 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 6 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 4 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/namenodeMaster/current/edits:5  /home/jeff/hadoop-20-warehouse/build/test/data/namenodeMaster/current/edits:4 
2011-08-09 18:59:42,663 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 48241
2011-08-09 18:59:42,663 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 48241: exiting
2011-08-09 18:59:42,663 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 48241: exiting
2011-08-09 18:59:42,664 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 48241: exiting
2011-08-09 18:59:42,664 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 48241: exiting
2011-08-09 18:59:42,664 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 48241: exiting
2011-08-09 18:59:42,664 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 48241: exiting
2011-08-09 18:59:42,664 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 48241: exiting
2011-08-09 18:59:42,664 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 48241: exiting
2011-08-09 18:59:42,665 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 48241: exiting
2011-08-09 18:59:42,665 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 48241: exiting
2011-08-09 18:59:42,666 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:42,665 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 48241
2011-08-09 18:59:42,735 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:42,736 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 0*** NAME_NODE recovery: numDirs=1 testCase=0 current=true previous=false previous.tmp=false removed.tmp=false
2011-08-09 18:59:42,910 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:42,913 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:42,914 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:42,914 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:42,914 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:42,914 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:43,000 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:43,001 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:43,002 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:43,002 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:43,006 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:43,007 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:43,008 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:43,012 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:43,013 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:43,013 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:43,015 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:43,015 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:43,016 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:43,020 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:43,021 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:43,053 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:43,063 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:43,067 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:43,071 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:43,081 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:43,081 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 81 msecs
2011-08-09 18:59:43,090 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:43,090 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:43,122 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:43,124 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:43,127 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=50737
2011-08-09 18:59:43,127 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:50737
2011-08-09 18:59:43,128 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:43,129 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 50737: starting
2011-08-09 18:59:43,129 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 50737: starting
2011-08-09 18:59:43,129 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 50737: starting
2011-08-09 18:59:43,129 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 50737: starting
2011-08-09 18:59:43,130 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 50737: starting
2011-08-09 18:59:43,174 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 50737: starting
2011-08-09 18:59:43,174 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 50737: starting
2011-08-09 18:59:43,174 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 50737: starting
2011-08-09 18:59:43,174 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 50737: starting
2011-08-09 18:59:43,175 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 50737: starting
2011-08-09 18:59:43,175 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 50737: starting
2011-08-09 18:59:43,183 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:43,185 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:43,186 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:43,187 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 35488 webServer.getConnectors()[0].getLocalPort() returned 35488
2011-08-09 18:59:43,187 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 35488
2011-08-09 18:59:43,187 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:43,392 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:35488
2011-08-09 18:59:43,392 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:35488
Shutting down the Mini HDFS Cluster
2011-08-09 18:59:43,394 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:43,495 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:43,495 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:43,496 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 18:59:43,500 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 50737
2011-08-09 18:59:43,500 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 50737: exiting
2011-08-09 18:59:43,501 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 50737: exiting
2011-08-09 18:59:43,501 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 50737: exiting
2011-08-09 18:59:43,502 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 50737: exiting
2011-08-09 18:59:43,502 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 50737
2011-08-09 18:59:43,501 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 50737: exiting
2011-08-09 18:59:43,502 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 50737: exiting
2011-08-09 18:59:43,501 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 50737: exiting
2011-08-09 18:59:43,501 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 50737: exiting
2011-08-09 18:59:43,501 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 50737: exiting
2011-08-09 18:59:43,501 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 50737: exiting
2011-08-09 18:59:43,506 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:43,507 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:43,507 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 1*** DATA_NODE recovery: numDirs=1 testCase=0 current=true previous=false previous.tmp=false removed.tmp=false
2011-08-09 18:59:43,603 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:43,616 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:43,616 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:43,617 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:43,617 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:43,617 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:43,627 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:43,628 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:43,628 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:43,628 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:43,646 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:43,647 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:43,647 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:43,651 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:43,651 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:43,652 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:43,652 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:43,652 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:43,652 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:43,654 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:43,654 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:43,691 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:43,700 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:43,700 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:43,705 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:43,715 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:43,715 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 88 msecs
2011-08-09 18:59:43,716 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:43,716 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:43,724 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:43,740 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:43,765 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=49719
2011-08-09 18:59:43,766 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:49719
2011-08-09 18:59:43,767 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:43,767 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 49719: starting
2011-08-09 18:59:43,789 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 49719: starting
2011-08-09 18:59:43,789 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 49719: starting
2011-08-09 18:59:43,790 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 49719: starting
2011-08-09 18:59:43,790 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 49719: starting
2011-08-09 18:59:43,790 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 49719: starting
2011-08-09 18:59:43,791 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 49719: starting
2011-08-09 18:59:43,791 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 49719: starting
2011-08-09 18:59:43,791 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 49719: starting
2011-08-09 18:59:43,792 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 49719: starting
2011-08-09 18:59:43,795 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 49719: starting
2011-08-09 18:59:43,801 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:43,802 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:43,808 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:43,808 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 59102 webServer.getConnectors()[0].getLocalPort() returned 59102
2011-08-09 18:59:43,808 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 59102
2011-08-09 18:59:43,809 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:43,957 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:59102
2011-08-09 18:59:43,958 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:59102
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 18:59:44,274 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 18:59:44,276 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 60785
2011-08-09 18:59:44,276 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 18:59:44,276 INFO  datanode.DataNode (DataNode.java:startDataNode(359)) - Periodic Block Verification is disabled because verification is turned off by configuration.
2011-08-09 18:59:44,279 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:44,280 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:44,280 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 59667 webServer.getConnectors()[0].getLocalPort() returned 59667
2011-08-09 18:59:44,281 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 59667
2011-08-09 18:59:44,281 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:44,396 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:59667
2011-08-09 18:59:44,397 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 18:59:44,401 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:44,404 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=56134
2011-08-09 18:59:44,405 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:44,446 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 56134: starting
2011-08-09 18:59:44,447 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 56134: starting
2011-08-09 18:59:44,462 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 56134: starting
2011-08-09 18:59:44,510 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 56134: starting
2011-08-09 18:59:44,511 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:60785, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=59667, ipcPort=56134)
2011-08-09 18:59:44,529 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:60785 storage DS-1061207207-10.0.62.238-35102-1312909180951
2011-08-09 18:59:44,530 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:60785
2011-08-09 18:59:44,531 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:60785, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=59667, ipcPort=56134)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current'}
2011-08-09 18:59:44,532 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 10000msec Initial delay: 0msec
2011-08-09 18:59:44,539 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 1 volumes in 0 seconds
2011-08-09 18:59:44,541 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:60785 16 blocks shortCircuit first report.
2011-08-09 18:59:44,542 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 18:59:44,548 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 16
2011-08-09 18:59:44,548 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 18:59:44,548 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 1
2011-08-09 18:59:44,549 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 18:59:44,550 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 18:59:44,551 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 18:59:44,551 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 18:59:44,551 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 1 blocks
2011-08-09 18:59:44,552 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 16 blocks got processed in 15 msecs
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 18:59:44,599 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:44,700 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 56134
2011-08-09 18:59:44,701 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 56134: exiting
2011-08-09 18:59:44,701 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 56134: exiting
2011-08-09 18:59:44,701 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 56134
2011-08-09 18:59:44,701 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 56134: exiting
2011-08-09 18:59:44,704 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:44,705 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:60785, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=59667, ipcPort=56134):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 18:59:44,705 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 18:59:44,706 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:60785, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=59667, ipcPort=56134):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current'}
2011-08-09 18:59:44,706 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 56134
2011-08-09 18:59:44,707 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 18:59:44,708 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 18:59:44,708 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 18:59:44,708 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 18:59:44,770 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:44,896 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 18:59:44,896 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:44,897 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:44,900 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 49719
2011-08-09 18:59:44,901 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 49719: exiting
2011-08-09 18:59:44,901 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 49719: exiting
2011-08-09 18:59:44,902 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 49719: exiting
2011-08-09 18:59:44,902 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 49719: exiting
2011-08-09 18:59:44,902 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 49719: exiting
2011-08-09 18:59:44,902 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 49719: exiting
2011-08-09 18:59:44,902 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 49719: exiting
2011-08-09 18:59:44,904 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 49719: exiting
2011-08-09 18:59:44,904 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 49719: exiting
2011-08-09 18:59:44,905 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:44,905 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 2*** NAME_NODE recovery: numDirs=1 testCase=1 current=true previous=true previous.tmp=false removed.tmp=false
2011-08-09 18:59:44,904 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 49719: exiting
2011-08-09 18:59:44,903 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 49719
2011-08-09 18:59:44,905 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:44,956 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:44,959 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:44,959 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:44,960 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:44,960 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:44,960 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:44,967 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:44,967 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:44,968 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:44,968 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:44,971 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:44,971 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:44,972 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:44,975 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:44,975 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:44,976 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:44,976 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:44,976 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:44,976 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:44,978 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:44,978 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:45,129 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:45,139 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:45,140 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:45,144 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:45,153 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:45,153 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 186 msecs
2011-08-09 18:59:45,154 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:45,154 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:45,196 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:45,198 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:45,200 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=33126
2011-08-09 18:59:45,200 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:33126
2011-08-09 18:59:45,201 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:45,242 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 33126: starting
2011-08-09 18:59:45,242 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 33126: starting
2011-08-09 18:59:45,242 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 33126: starting
2011-08-09 18:59:45,242 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 33126: starting
2011-08-09 18:59:45,242 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 33126: starting
2011-08-09 18:59:45,243 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 33126: starting
2011-08-09 18:59:45,243 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 33126: starting
2011-08-09 18:59:45,243 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 33126: starting
2011-08-09 18:59:45,243 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 33126: starting
2011-08-09 18:59:45,244 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 33126: starting
2011-08-09 18:59:45,244 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 33126: starting
2011-08-09 18:59:45,253 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:45,255 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:45,256 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:45,256 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 33122 webServer.getConnectors()[0].getLocalPort() returned 33122
2011-08-09 18:59:45,256 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 33122
2011-08-09 18:59:45,256 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:45,335 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:33122
2011-08-09 18:59:45,336 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:33122
Shutting down the Mini HDFS Cluster
2011-08-09 18:59:45,337 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:45,439 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:45,439 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:45,440 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 18:59:45,443 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 33126
2011-08-09 18:59:45,443 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 33126: exiting
2011-08-09 18:59:45,466 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 33126: exiting
2011-08-09 18:59:45,466 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 33126: exiting
2011-08-09 18:59:45,466 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 33126: exiting
2011-08-09 18:59:45,466 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 33126: exiting
2011-08-09 18:59:45,466 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 33126: exiting
2011-08-09 18:59:45,467 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 33126: exiting
2011-08-09 18:59:45,467 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 33126: exiting
2011-08-09 18:59:45,467 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 33126: exiting
2011-08-09 18:59:45,467 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 33126: exiting
2011-08-09 18:59:45,468 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 33126
2011-08-09 18:59:45,470 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:45,470 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:45,470 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 3*** DATA_NODE recovery: numDirs=1 testCase=1 current=true previous=true previous.tmp=false removed.tmp=false
2011-08-09 18:59:45,518 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:45,538 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:45,539 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:45,539 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:45,539 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:45,539 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:45,565 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:45,566 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:45,567 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:45,567 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:45,570 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:45,570 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:45,571 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:45,574 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:45,574 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:45,574 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:45,574 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:45,575 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:45,575 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:45,576 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:45,576 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:45,610 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:45,615 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:45,623 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:45,623 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:45,634 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:45,634 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 69 msecs
2011-08-09 18:59:45,634 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:45,634 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:45,635 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:45,637 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:45,639 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=34740
2011-08-09 18:59:45,640 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:34740
2011-08-09 18:59:45,640 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:45,641 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 34740: starting
2011-08-09 18:59:45,641 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 34740: starting
2011-08-09 18:59:45,642 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 34740: starting
2011-08-09 18:59:45,642 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 34740: starting
2011-08-09 18:59:45,642 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 34740: starting
2011-08-09 18:59:45,642 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 34740: starting
2011-08-09 18:59:45,643 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 34740: starting
2011-08-09 18:59:45,643 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 34740: starting
2011-08-09 18:59:45,643 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 34740: starting
2011-08-09 18:59:45,644 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 34740: starting
2011-08-09 18:59:45,644 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 34740: starting
2011-08-09 18:59:45,668 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:45,670 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:45,671 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:45,671 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 57508 webServer.getConnectors()[0].getLocalPort() returned 57508
2011-08-09 18:59:45,672 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 57508
2011-08-09 18:59:45,672 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:45,724 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:57508
2011-08-09 18:59:45,724 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:57508
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 18:59:46,108 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 18:59:46,110 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 35052
2011-08-09 18:59:46,110 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 18:59:46,111 INFO  datanode.DataNode (DataNode.java:startDataNode(359)) - Periodic Block Verification is disabled because verification is turned off by configuration.
2011-08-09 18:59:46,115 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:46,116 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:46,116 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 34721 webServer.getConnectors()[0].getLocalPort() returned 34721
2011-08-09 18:59:46,117 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 34721
2011-08-09 18:59:46,117 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:46,227 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:34721
2011-08-09 18:59:46,228 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 18:59:46,233 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:46,235 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=45260
2011-08-09 18:59:46,236 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:46,236 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 45260: starting
2011-08-09 18:59:46,237 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 45260: starting
2011-08-09 18:59:46,239 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 45260: starting
2011-08-09 18:59:46,239 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:35052, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=34721, ipcPort=45260)
2011-08-09 18:59:46,239 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 45260: starting
2011-08-09 18:59:46,243 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:35052 storage DS-1061207207-10.0.62.238-35102-1312909180951
2011-08-09 18:59:46,243 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:35052
2011-08-09 18:59:46,245 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:35052, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=34721, ipcPort=45260)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current'}
2011-08-09 18:59:46,246 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 10000msec Initial delay: 0msec
2011-08-09 18:59:46,252 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 1 volumes in 0 seconds
2011-08-09 18:59:46,305 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:35052 16 blocks shortCircuit first report.
2011-08-09 18:59:46,305 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 18:59:46,309 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 16
2011-08-09 18:59:46,309 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 18:59:46,309 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 1
2011-08-09 18:59:46,310 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 18:59:46,312 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 18:59:46,312 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 18:59:46,312 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 18:59:46,313 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 1 blocks
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 18:59:46,315 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 16 blocks got processed in 65 msecs
2011-08-09 18:59:46,349 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:46,350 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 45260
2011-08-09 18:59:46,350 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 45260: exiting
2011-08-09 18:59:46,351 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 45260: exiting
2011-08-09 18:59:46,351 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 45260: exiting
2011-08-09 18:59:46,352 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 45260
2011-08-09 18:59:46,353 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:46,353 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:35052, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=34721, ipcPort=45260):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 18:59:46,354 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 18:59:46,354 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:35052, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=34721, ipcPort=45260):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current'}
2011-08-09 18:59:46,355 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 45260
2011-08-09 18:59:46,355 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 18:59:46,356 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 18:59:46,356 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 18:59:46,357 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 18:59:46,457 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:46,559 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:46,560 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 18:59:46,560 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:46,564 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 34740
2011-08-09 18:59:46,564 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 34740: exiting
2011-08-09 18:59:46,565 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 34740: exiting
2011-08-09 18:59:46,565 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 34740: exiting
2011-08-09 18:59:46,565 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 34740: exiting
2011-08-09 18:59:46,565 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 34740: exiting
2011-08-09 18:59:46,566 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 34740: exiting
2011-08-09 18:59:46,566 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 34740: exiting
2011-08-09 18:59:46,566 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 34740: exiting
2011-08-09 18:59:46,566 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 34740: exiting
2011-08-09 18:59:46,567 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 34740: exiting
2011-08-09 18:59:46,568 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 34740
2011-08-09 18:59:46,570 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:46,570 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:46,571 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 4*** NAME_NODE recovery: numDirs=1 testCase=2 current=true previous=false previous.tmp=true removed.tmp=false
2011-08-09 18:59:46,624 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:46,628 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:46,628 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:46,628 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:46,628 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:46,628 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:46,635 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:46,635 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:46,635 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:46,635 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:46,639 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:46,639 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:46,639 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:46,644 INFO  common.Storage (Storage.java:doRecover(458)) - Completing previous upgrade for storage directory /home/jeff/hadoop-20-warehouse/build/test/data/name1.
2011-08-09 18:59:46,645 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:46,646 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:46,646 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:46,646 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:46,647 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:46,647 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:46,648 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:46,649 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:46,820 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:46,831 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:46,831 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:46,835 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:46,845 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:46,845 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 210 msecs
2011-08-09 18:59:46,846 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:46,846 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:46,847 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:46,848 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:46,851 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=59164
2011-08-09 18:59:46,852 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:59164
2011-08-09 18:59:46,852 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:46,852 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 59164: starting
2011-08-09 18:59:46,893 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 59164: starting
2011-08-09 18:59:46,894 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 59164: starting
2011-08-09 18:59:46,894 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 59164: starting
2011-08-09 18:59:46,895 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 59164: starting
2011-08-09 18:59:46,895 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 59164: starting
2011-08-09 18:59:46,895 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 59164: starting
2011-08-09 18:59:46,895 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 59164: starting
2011-08-09 18:59:46,895 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 59164: starting
2011-08-09 18:59:46,895 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 59164: starting
2011-08-09 18:59:46,895 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 59164: starting
2011-08-09 18:59:46,945 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:46,947 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:46,948 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:46,948 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 39877 webServer.getConnectors()[0].getLocalPort() returned 39877
2011-08-09 18:59:46,948 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 39877
2011-08-09 18:59:46,948 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:46,999 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:39877
2011-08-09 18:59:47,043 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:39877
Shutting down the Mini HDFS Cluster
2011-08-09 18:59:47,046 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:47,148 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:47,148 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:47,149 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 18:59:47,153 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 59164
2011-08-09 18:59:47,153 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 59164: exiting
2011-08-09 18:59:47,154 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 59164
2011-08-09 18:59:47,155 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 59164: exiting
2011-08-09 18:59:47,155 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 59164: exiting
2011-08-09 18:59:47,155 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 59164: exiting
2011-08-09 18:59:47,155 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 59164: exiting
2011-08-09 18:59:47,155 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 59164: exiting
2011-08-09 18:59:47,156 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 59164: exiting
2011-08-09 18:59:47,156 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 59164: exiting
2011-08-09 18:59:47,156 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 59164: exiting
2011-08-09 18:59:47,154 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:47,155 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 59164: exiting
2011-08-09 18:59:47,154 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:47,157 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 5*** DATA_NODE recovery: numDirs=1 testCase=2 current=true previous=false previous.tmp=true removed.tmp=false
2011-08-09 18:59:47,192 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:47,229 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:47,230 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:47,230 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:47,230 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:47,230 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:47,237 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:47,237 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:47,237 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:47,237 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:47,241 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:47,241 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:47,241 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:47,244 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:47,245 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:47,245 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:47,245 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:47,246 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:47,246 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:47,247 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:47,247 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:47,280 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:47,285 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:47,295 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:47,296 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:47,306 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:47,307 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 69 msecs
2011-08-09 18:59:47,307 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:47,307 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:47,338 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:47,339 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:47,341 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=51251
2011-08-09 18:59:47,342 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:51251
2011-08-09 18:59:47,342 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:47,342 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 51251: starting
2011-08-09 18:59:47,367 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 51251: starting
2011-08-09 18:59:47,367 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 51251: starting
2011-08-09 18:59:47,367 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 51251: starting
2011-08-09 18:59:47,367 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 51251: starting
2011-08-09 18:59:47,368 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 51251: starting
2011-08-09 18:59:47,368 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 51251: starting
2011-08-09 18:59:47,368 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 51251: starting
2011-08-09 18:59:47,368 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 51251: starting
2011-08-09 18:59:47,369 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 51251: starting
2011-08-09 18:59:47,369 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 51251: starting
2011-08-09 18:59:47,418 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:47,419 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:47,435 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:47,436 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 42966 webServer.getConnectors()[0].getLocalPort() returned 42966
2011-08-09 18:59:47,436 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 42966
2011-08-09 18:59:47,436 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:47,487 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:42966
2011-08-09 18:59:47,488 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:42966
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 18:59:47,788 INFO  common.Storage (Storage.java:doRecover(458)) - Completing previous upgrade for storage directory /home/jeff/hadoop-20-warehouse/build/test/data/data1.
2011-08-09 18:59:47,909 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 18:59:47,911 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 54528
2011-08-09 18:59:47,911 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 18:59:47,912 INFO  datanode.DataNode (DataNode.java:startDataNode(359)) - Periodic Block Verification is disabled because verification is turned off by configuration.
2011-08-09 18:59:47,914 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:47,915 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:47,915 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 56489 webServer.getConnectors()[0].getLocalPort() returned 56489
2011-08-09 18:59:47,916 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 56489
2011-08-09 18:59:47,916 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:47,989 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:56489
2011-08-09 18:59:47,990 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 18:59:48,045 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:48,046 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=33547
2011-08-09 18:59:48,048 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:48,048 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 33547: starting
2011-08-09 18:59:48,048 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 33547: starting
2011-08-09 18:59:48,091 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 33547: starting
2011-08-09 18:59:48,092 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 33547: starting
2011-08-09 18:59:48,092 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:54528, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=56489, ipcPort=33547)
2011-08-09 18:59:48,096 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:54528 storage DS-1061207207-10.0.62.238-35102-1312909180951
2011-08-09 18:59:48,096 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:54528
2011-08-09 18:59:48,098 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:54528, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=56489, ipcPort=33547)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current'}
2011-08-09 18:59:48,099 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 10000msec Initial delay: 0msec
2011-08-09 18:59:48,154 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 1 volumes in 0 seconds
2011-08-09 18:59:48,156 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:54528 16 blocks shortCircuit first report.
2011-08-09 18:59:48,156 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 18:59:48,160 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 16
2011-08-09 18:59:48,160 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 18:59:48,160 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 1
2011-08-09 18:59:48,161 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 18:59:48,164 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 18:59:48,166 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 18:59:48,168 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 18:59:48,169 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 1 blocks
2011-08-09 18:59:48,170 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 16 blocks got processed in 24 msecs
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 18:59:48,178 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:48,279 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 33547
2011-08-09 18:59:48,279 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 33547: exiting
2011-08-09 18:59:48,279 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 33547: exiting
2011-08-09 18:59:48,279 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 33547: exiting
2011-08-09 18:59:48,280 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 33547
2011-08-09 18:59:48,281 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:48,281 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 18:59:48,282 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:54528, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=56489, ipcPort=33547):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 18:59:49,282 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 18:59:49,283 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:54528, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=56489, ipcPort=33547):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current'}
2011-08-09 18:59:49,284 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 33547
2011-08-09 18:59:49,285 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 18:59:49,285 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 18:59:49,286 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 18:59:49,287 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 18:59:49,459 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:49,561 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:49,561 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:49,562 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 18:59:49,565 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 51251
2011-08-09 18:59:49,566 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 51251: exiting
2011-08-09 18:59:49,566 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 51251: exiting
2011-08-09 18:59:49,566 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 51251: exiting
2011-08-09 18:59:49,567 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 51251: exiting
2011-08-09 18:59:49,567 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 51251: exiting
2011-08-09 18:59:49,567 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 51251: exiting
2011-08-09 18:59:49,567 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 51251: exiting
2011-08-09 18:59:49,567 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 51251: exiting
2011-08-09 18:59:49,568 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 51251: exiting
2011-08-09 18:59:49,568 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 51251: exiting
2011-08-09 18:59:49,568 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 51251
2011-08-09 18:59:49,571 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:49,571 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 6*** NAME_NODE recovery: numDirs=1 testCase=3 current=true previous=true previous.tmp=true removed.tmp=true
2011-08-09 18:59:49,571 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:49,712 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:49,716 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:49,716 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:49,716 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:49,716 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:49,716 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:49,723 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:49,723 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:49,723 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:49,723 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:49,726 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:49,727 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:49,727 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:49,731 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 18:59:49,731 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:49,731 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 7*** DATA_NODE recovery: numDirs=1 testCase=3 current=true previous=true previous.tmp=true removed.tmp=true
2011-08-09 18:59:49,763 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:49,766 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:49,766 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:49,766 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:49,767 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:49,767 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:49,772 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:49,772 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:49,772 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:49,772 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:49,776 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:49,776 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:49,776 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:49,780 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:49,780 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:49,780 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:49,781 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:49,781 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:49,781 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:49,783 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:49,783 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:49,934 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:49,943 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:49,943 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:49,947 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:49,957 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:49,957 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 185 msecs
2011-08-09 18:59:49,958 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:49,958 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:50,000 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:50,001 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:50,004 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=34213
2011-08-09 18:59:50,005 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:34213
2011-08-09 18:59:50,005 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:50,005 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 34213: starting
2011-08-09 18:59:50,016 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 34213: starting
2011-08-09 18:59:50,016 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 34213: starting
2011-08-09 18:59:50,016 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 34213: starting
2011-08-09 18:59:50,016 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 34213: starting
2011-08-09 18:59:50,016 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 34213: starting
2011-08-09 18:59:50,017 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 34213: starting
2011-08-09 18:59:50,017 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 34213: starting
2011-08-09 18:59:50,017 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 34213: starting
2011-08-09 18:59:50,015 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 34213: starting
2011-08-09 18:59:50,018 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 34213: starting
2011-08-09 18:59:50,048 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:50,051 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:50,052 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:50,052 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 35329 webServer.getConnectors()[0].getLocalPort() returned 35329
2011-08-09 18:59:50,052 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 35329
2011-08-09 18:59:50,052 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:50,149 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:35329
2011-08-09 18:59:50,149 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:35329
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 18:59:50,404 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 18:59:50,472 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:50,572 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:50,573 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 18:59:50,572 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:50,675 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 34213
2011-08-09 18:59:50,676 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 34213: exiting
2011-08-09 18:59:50,676 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 34213: exiting
2011-08-09 18:59:50,676 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 34213: exiting
2011-08-09 18:59:50,676 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 34213: exiting
2011-08-09 18:59:50,676 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 34213: exiting
2011-08-09 18:59:50,677 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 34213: exiting
2011-08-09 18:59:50,677 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 34213: exiting
2011-08-09 18:59:50,677 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 34213: exiting
2011-08-09 18:59:50,677 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 34213: exiting
2011-08-09 18:59:50,677 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 34213: exiting
2011-08-09 18:59:50,678 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 34213
2011-08-09 18:59:50,679 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:50,680 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:50,680 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 8*** NAME_NODE recovery: numDirs=1 testCase=4 current=true previous=true previous.tmp=true removed.tmp=false
2011-08-09 18:59:50,722 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:50,725 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:50,725 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:50,726 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:50,726 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:50,726 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:50,729 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:50,730 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:50,730 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:50,730 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:50,733 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:50,734 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:50,734 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:50,737 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: previous and previous.tmp cannot exist together.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:427)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 18:59:50,738 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:50,738 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 9*** DATA_NODE recovery: numDirs=1 testCase=4 current=true previous=true previous.tmp=true removed.tmp=false
2011-08-09 18:59:50,781 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:50,785 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:50,785 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:50,785 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:50,785 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:50,785 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:50,790 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:50,790 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:50,791 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:50,791 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:50,794 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:50,794 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:50,794 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:50,797 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:50,798 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:50,798 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:50,798 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:50,798 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:50,799 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:50,800 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:50,800 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:50,839 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:50,843 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:50,851 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:50,852 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:50,862 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:50,862 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 72 msecs
2011-08-09 18:59:50,862 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:50,863 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:50,897 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:50,898 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:50,901 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=34866
2011-08-09 18:59:50,901 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:34866
2011-08-09 18:59:50,902 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:50,902 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 34866: starting
2011-08-09 18:59:50,943 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 34866: starting
2011-08-09 18:59:50,943 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 34866: starting
2011-08-09 18:59:50,943 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 34866: starting
2011-08-09 18:59:50,944 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 34866: starting
2011-08-09 18:59:50,944 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 34866: starting
2011-08-09 18:59:50,944 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 34866: starting
2011-08-09 18:59:50,944 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 34866: starting
2011-08-09 18:59:50,944 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 34866: starting
2011-08-09 18:59:50,945 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 34866: starting
2011-08-09 18:59:50,945 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 34866: starting
2011-08-09 18:59:50,961 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:50,963 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:50,963 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:50,964 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 60648 webServer.getConnectors()[0].getLocalPort() returned 60648
2011-08-09 18:59:50,964 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 60648
2011-08-09 18:59:50,964 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:51,036 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:60648
2011-08-09 18:59:51,037 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:60648
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 18:59:51,196 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: previous and previous.tmp cannot exist together.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:427)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 18:59:51,343 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:51,445 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:51,445 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:51,445 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 18:59:51,511 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 34866
2011-08-09 18:59:51,511 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 34866: exiting
2011-08-09 18:59:51,512 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 34866: exiting
2011-08-09 18:59:51,512 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 34866: exiting
2011-08-09 18:59:51,512 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 34866: exiting
2011-08-09 18:59:51,512 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 34866: exiting
2011-08-09 18:59:51,512 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 34866: exiting
2011-08-09 18:59:51,513 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 34866: exiting
2011-08-09 18:59:51,513 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 34866: exiting
2011-08-09 18:59:51,513 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 34866: exiting
2011-08-09 18:59:51,513 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 34866: exiting
2011-08-09 18:59:51,513 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 34866
2011-08-09 18:59:51,515 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:51,515 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:51,515 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 10*** NAME_NODE recovery: numDirs=1 testCase=5 current=false previous=true previous.tmp=true removed.tmp=true
2011-08-09 18:59:51,557 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:51,578 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:51,578 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:51,579 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:51,579 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:51,579 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:51,594 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:51,594 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:51,594 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:51,594 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:51,603 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:51,603 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:51,604 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:51,607 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 18:59:51,607 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:51,607 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 11*** DATA_NODE recovery: numDirs=1 testCase=5 current=false previous=true previous.tmp=true removed.tmp=true
2011-08-09 18:59:51,636 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:51,639 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:51,639 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:51,639 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:51,640 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:51,640 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:51,644 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:51,645 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:51,645 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:51,645 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:51,648 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:51,649 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:51,649 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:51,652 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:51,653 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:51,653 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:51,653 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:51,653 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:51,654 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:51,655 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:51,655 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:51,763 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:51,771 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:51,772 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:51,776 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:51,785 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:51,786 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 141 msecs
2011-08-09 18:59:51,786 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:51,786 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:51,819 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:51,821 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:51,824 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=38525
2011-08-09 18:59:51,824 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:38525
2011-08-09 18:59:51,825 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:51,858 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 38525: starting
2011-08-09 18:59:51,858 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 38525: starting
2011-08-09 18:59:51,858 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 38525: starting
2011-08-09 18:59:51,859 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 38525: starting
2011-08-09 18:59:51,859 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 38525: starting
2011-08-09 18:59:51,859 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 38525: starting
2011-08-09 18:59:51,859 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 38525: starting
2011-08-09 18:59:51,859 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 38525: starting
2011-08-09 18:59:51,859 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 38525: starting
2011-08-09 18:59:51,860 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 38525: starting
2011-08-09 18:59:51,860 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 38525: starting
2011-08-09 18:59:51,868 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:51,870 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:51,871 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:51,871 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 50172 webServer.getConnectors()[0].getLocalPort() returned 50172
2011-08-09 18:59:51,871 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 50172
2011-08-09 18:59:51,871 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:51,918 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:50172
2011-08-09 18:59:51,918 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:50172
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 18:59:52,078 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 18:59:52,214 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:52,314 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:52,314 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:52,315 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 18:59:52,379 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 38525
2011-08-09 18:59:52,379 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 38525: exiting
2011-08-09 18:59:52,380 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 38525: exiting
2011-08-09 18:59:52,380 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 38525: exiting
2011-08-09 18:59:52,380 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 38525: exiting
2011-08-09 18:59:52,380 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 38525: exiting
2011-08-09 18:59:52,380 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 38525: exiting
2011-08-09 18:59:52,380 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 38525: exiting
2011-08-09 18:59:52,381 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 38525: exiting
2011-08-09 18:59:52,381 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 38525: exiting
2011-08-09 18:59:52,381 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 38525: exiting
2011-08-09 18:59:52,381 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 38525
2011-08-09 18:59:52,382 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:52,382 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:52,382 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 12*** NAME_NODE recovery: numDirs=1 testCase=6 current=false previous=true previous.tmp=true removed.tmp=false
2011-08-09 18:59:52,411 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:52,414 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:52,414 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:52,414 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:52,414 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:52,414 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:52,419 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:52,419 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:52,419 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:52,419 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:52,422 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:52,423 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:52,423 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:52,426 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: previous and previous.tmp cannot exist together.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:427)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 18:59:52,426 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:52,426 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 13*** DATA_NODE recovery: numDirs=1 testCase=6 current=false previous=true previous.tmp=true removed.tmp=false
2011-08-09 18:59:52,454 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:52,457 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:52,457 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:52,457 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:52,457 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:52,457 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:52,462 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:52,462 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:52,462 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:52,463 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:52,466 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:52,467 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:52,467 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:52,470 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:52,470 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:52,470 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:52,471 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:52,471 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:52,471 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:52,472 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:52,472 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:52,491 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:52,495 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:52,507 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:52,507 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:52,517 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:52,517 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 55 msecs
2011-08-09 18:59:52,517 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:52,518 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:52,557 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:52,559 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:52,561 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=53324
2011-08-09 18:59:52,561 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:53324
2011-08-09 18:59:52,562 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:52,562 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 53324: starting
2011-08-09 18:59:52,602 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 53324: starting
2011-08-09 18:59:52,602 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 53324: starting
2011-08-09 18:59:52,602 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 53324: starting
2011-08-09 18:59:52,602 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 53324: starting
2011-08-09 18:59:52,603 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 53324: starting
2011-08-09 18:59:52,603 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 53324: starting
2011-08-09 18:59:52,603 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 53324: starting
2011-08-09 18:59:52,603 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 53324: starting
2011-08-09 18:59:52,603 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 53324: starting
2011-08-09 18:59:52,604 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 53324: starting
2011-08-09 18:59:52,611 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:52,612 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:52,613 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:52,614 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 39879 webServer.getConnectors()[0].getLocalPort() returned 39879
2011-08-09 18:59:52,614 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 39879
2011-08-09 18:59:52,614 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:52,667 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:39879
2011-08-09 18:59:52,668 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:39879
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 18:59:52,771 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: previous and previous.tmp cannot exist together.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:427)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 18:59:52,814 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:52,914 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:52,915 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:52,915 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 18:59:52,959 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 53324
2011-08-09 18:59:52,960 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 53324
2011-08-09 18:59:52,960 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:52,960 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 53324: exiting
2011-08-09 18:59:52,960 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 53324: exiting
2011-08-09 18:59:52,960 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:52,960 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 53324: exiting
2011-08-09 18:59:52,961 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 14*** NAME_NODE recovery: numDirs=1 testCase=7 current=false previous=false previous.tmp=false removed.tmp=false
2011-08-09 18:59:52,961 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 53324: exiting
2011-08-09 18:59:52,961 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 53324: exiting
2011-08-09 18:59:52,961 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 53324: exiting
2011-08-09 18:59:52,961 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 53324: exiting
2011-08-09 18:59:52,961 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 53324: exiting
2011-08-09 18:59:52,961 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 53324: exiting
2011-08-09 18:59:52,962 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 53324: exiting
2011-08-09 18:59:52,962 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:52,965 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:52,965 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:52,965 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:52,965 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:52,965 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:52,970 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:52,971 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:52,971 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:52,971 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:52,975 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:52,975 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:52,977 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:52,980 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
java.io.IOException: NameNode is not formatted.
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:410)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 18:59:52,980 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:52,980 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 15*** DATA_NODE recovery: numDirs=1 testCase=7 current=false previous=false previous.tmp=false removed.tmp=false
2011-08-09 18:59:53,009 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:53,012 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:53,012 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:53,012 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:53,012 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:53,013 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:53,018 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:53,018 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:53,018 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:53,019 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:53,022 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:53,022 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:53,022 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:53,025 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:53,026 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:53,026 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:53,026 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:53,026 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:53,027 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:53,028 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:53,028 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:53,137 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:53,143 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:53,143 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:53,148 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:53,157 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:53,158 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 140 msecs
2011-08-09 18:59:53,158 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:53,158 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:53,159 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:53,161 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:53,163 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=35354
2011-08-09 18:59:53,164 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:35354
2011-08-09 18:59:53,164 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:53,165 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 35354: starting
2011-08-09 18:59:53,166 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 35354: starting
2011-08-09 18:59:53,166 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 35354: starting
2011-08-09 18:59:53,166 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 35354: starting
2011-08-09 18:59:53,166 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 35354: starting
2011-08-09 18:59:53,166 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 35354: starting
2011-08-09 18:59:53,167 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 35354: starting
2011-08-09 18:59:53,167 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 35354: starting
2011-08-09 18:59:53,167 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 35354: starting
2011-08-09 18:59:53,167 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 35354: starting
2011-08-09 18:59:53,167 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 35354: starting
2011-08-09 18:59:53,176 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:53,178 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:53,178 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:53,178 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 37360 webServer.getConnectors()[0].getLocalPort() returned 37360
2011-08-09 18:59:53,179 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 37360
2011-08-09 18:59:53,179 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:53,227 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:37360
2011-08-09 18:59:53,228 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:37360
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 18:59:53,238 INFO  common.Storage (DataStorage.java:recoverTransitionRead(124)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is not formatted.
2011-08-09 18:59:53,238 INFO  common.Storage (DataStorage.java:recoverTransitionRead(125)) - Formatting ...
2011-08-09 18:59:53,369 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 18:59:53,370 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 44441
2011-08-09 18:59:53,370 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 18:59:53,371 INFO  datanode.DataNode (DataNode.java:startDataNode(359)) - Periodic Block Verification is disabled because verification is turned off by configuration.
2011-08-09 18:59:53,373 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:53,374 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:53,374 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 35574 webServer.getConnectors()[0].getLocalPort() returned 35574
2011-08-09 18:59:53,375 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 35574
2011-08-09 18:59:53,375 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:53,457 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:35574
2011-08-09 18:59:53,458 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 18:59:53,467 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:53,478 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=43194
2011-08-09 18:59:53,480 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:53,481 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 43194: starting
2011-08-09 18:59:53,495 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 43194: starting
2011-08-09 18:59:53,495 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 43194: starting
2011-08-09 18:59:53,496 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:44441, storageID=, infoPort=35574, ipcPort=43194)
2011-08-09 18:59:53,496 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 43194: starting
2011-08-09 18:59:53,501 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:44441 storage DS-1655219207-10.0.62.238-44441-1312909193499
2011-08-09 18:59:53,502 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:44441
2011-08-09 18:59:53,506 INFO  datanode.DataNode (DataNode.java:register(592)) - New storage id DS-1655219207-10.0.62.238-44441-1312909193499 is assigned to data-node 127.0.0.1:44441
2011-08-09 18:59:53,507 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:44441, storageID=DS-1655219207-10.0.62.238-44441-1312909193499, infoPort=35574, ipcPort=43194)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current'}
2011-08-09 18:59:53,508 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 10000msec Initial delay: 0msec
2011-08-09 18:59:53,514 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 1 volumes in 0 seconds
2011-08-09 18:59:53,516 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:44441 0 blocks shortCircuit first report.
2011-08-09 18:59:53,517 INFO  namenode.FSNamesystem (FSNamesystem.java:processReport(3715)) - BLOCK* NameSystem.processReport:1 data nodes reporting, 0/16 blocks safe (0.0)
2011-08-09 18:59:53,517 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 0 blocks got processed in 3 msecs
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 18:59:53,574 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:53,575 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 43194
2011-08-09 18:59:53,575 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 43194: exiting
2011-08-09 18:59:53,575 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 43194: exiting
2011-08-09 18:59:53,576 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 43194: exiting
2011-08-09 18:59:53,576 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 43194
2011-08-09 18:59:53,578 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:53,578 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 18:59:53,578 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:44441, storageID=DS-1655219207-10.0.62.238-44441-1312909193499, infoPort=35574, ipcPort=43194):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 18:59:54,578 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 18:59:54,579 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:44441, storageID=DS-1655219207-10.0.62.238-44441-1312909193499, infoPort=35574, ipcPort=43194):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current'}
2011-08-09 18:59:54,581 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 43194
2011-08-09 18:59:54,581 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 18:59:54,582 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 18:59:54,582 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 18:59:54,583 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 18:59:54,625 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:54,727 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:54,728 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 18:59:54,728 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:54,732 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 35354
2011-08-09 18:59:54,732 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 35354: exiting
2011-08-09 18:59:54,733 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 35354: exiting
2011-08-09 18:59:54,733 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 35354: exiting
2011-08-09 18:59:54,733 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 35354: exiting
2011-08-09 18:59:54,734 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 35354: exiting
2011-08-09 18:59:54,734 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 35354: exiting
2011-08-09 18:59:54,735 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 35354: exiting
2011-08-09 18:59:54,735 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 35354: exiting
2011-08-09 18:59:54,735 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 35354: exiting
2011-08-09 18:59:54,736 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 35354: exiting
2011-08-09 18:59:54,736 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 35354
2011-08-09 18:59:54,738 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:54,738 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:54,738 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 16*** NAME_NODE recovery: numDirs=1 testCase=8 current=false previous=true previous.tmp=false removed.tmp=false
2011-08-09 18:59:54,754 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:54,758 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:54,758 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:54,759 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:54,759 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:54,759 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:54,767 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:54,768 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:54,768 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:54,768 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:54,771 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:54,772 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:54,772 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:54,775 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: version file in current directory is missing.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:400)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 18:59:54,775 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:54,775 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 17*** DATA_NODE recovery: numDirs=1 testCase=8 current=false previous=true previous.tmp=false removed.tmp=false
2011-08-09 18:59:54,803 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:54,806 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:54,806 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:54,806 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:54,807 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:54,807 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:54,811 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:54,812 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:54,812 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:54,812 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:54,815 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:54,815 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:54,816 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:54,819 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:54,820 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:54,820 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:54,820 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:54,821 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:54,821 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:54,822 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:54,822 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:54,856 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:54,860 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:54,867 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:54,867 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:54,877 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:54,877 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 66 msecs
2011-08-09 18:59:54,877 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:54,877 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:54,879 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:54,880 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:54,882 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=46439
2011-08-09 18:59:54,883 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:46439
2011-08-09 18:59:54,883 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:54,883 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 46439: starting
2011-08-09 18:59:54,924 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 46439: starting
2011-08-09 18:59:54,925 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 46439: starting
2011-08-09 18:59:54,925 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 46439: starting
2011-08-09 18:59:54,925 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 46439: starting
2011-08-09 18:59:54,925 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 46439: starting
2011-08-09 18:59:54,925 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 46439: starting
2011-08-09 18:59:54,926 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 46439: starting
2011-08-09 18:59:54,926 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 46439: starting
2011-08-09 18:59:54,927 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 46439: starting
2011-08-09 18:59:54,927 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 46439: starting
2011-08-09 18:59:54,935 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:54,937 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:54,938 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:54,938 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 52495 webServer.getConnectors()[0].getLocalPort() returned 52495
2011-08-09 18:59:54,938 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 52495
2011-08-09 18:59:54,938 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:54,989 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:52495
2011-08-09 18:59:54,990 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:52495
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 18:59:55,130 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: version file in current directory is missing.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:400)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 18:59:55,132 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:55,133 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:55,134 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 18:59:55,133 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:55,157 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 46439
2011-08-09 18:59:55,157 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 46439: exiting
2011-08-09 18:59:55,158 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 46439: exiting
2011-08-09 18:59:55,158 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 46439: exiting
2011-08-09 18:59:55,158 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 46439: exiting
2011-08-09 18:59:55,158 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 46439: exiting
2011-08-09 18:59:55,158 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 46439: exiting
2011-08-09 18:59:55,158 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 46439: exiting
2011-08-09 18:59:55,158 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 46439: exiting
2011-08-09 18:59:55,159 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 46439
2011-08-09 18:59:55,158 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 46439: exiting
2011-08-09 18:59:55,158 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 46439: exiting
2011-08-09 18:59:55,160 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:55,160 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:55,161 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 18*** NAME_NODE recovery: numDirs=1 testCase=9 current=false previous=false previous.tmp=true removed.tmp=false
2011-08-09 18:59:55,175 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:55,178 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:55,178 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:55,178 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:55,179 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:55,179 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:55,185 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:55,185 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:55,185 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:55,185 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:55,188 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:55,189 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:55,189 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:55,192 INFO  common.Storage (Storage.java:doRecover(463)) - Recovering storage directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 from previous upgrade.
2011-08-09 18:59:55,192 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:55,192 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:55,193 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:55,193 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:55,193 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:55,193 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:55,194 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:55,195 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:55,345 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:55,355 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:55,355 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:55,359 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:55,369 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:55,369 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 184 msecs
2011-08-09 18:59:55,369 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:55,369 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:55,370 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:55,372 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:55,375 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=59589
2011-08-09 18:59:55,375 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:59589
2011-08-09 18:59:55,376 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:55,376 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 59589: starting
2011-08-09 18:59:55,376 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 59589: starting
2011-08-09 18:59:55,377 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 59589: starting
2011-08-09 18:59:55,377 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 59589: starting
2011-08-09 18:59:55,377 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 59589: starting
2011-08-09 18:59:55,378 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 59589: starting
2011-08-09 18:59:55,378 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 59589: starting
2011-08-09 18:59:55,378 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 59589: starting
2011-08-09 18:59:55,378 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 59589: starting
2011-08-09 18:59:55,378 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 59589: starting
2011-08-09 18:59:55,379 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 59589: starting
2011-08-09 18:59:55,386 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:55,387 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:55,388 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:55,388 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 39288 webServer.getConnectors()[0].getLocalPort() returned 39288
2011-08-09 18:59:55,388 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 39288
2011-08-09 18:59:55,389 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:55,437 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:39288
2011-08-09 18:59:55,438 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:39288
Shutting down the Mini HDFS Cluster
2011-08-09 18:59:55,562 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:55,663 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:55,663 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 18:59:55,663 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:55,667 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 59589
2011-08-09 18:59:55,667 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 59589: exiting
2011-08-09 18:59:55,667 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 59589: exiting
2011-08-09 18:59:55,667 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 59589: exiting
2011-08-09 18:59:55,668 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 59589: exiting
2011-08-09 18:59:55,668 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 59589: exiting
2011-08-09 18:59:55,668 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 59589: exiting
2011-08-09 18:59:55,668 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 59589: exiting
2011-08-09 18:59:55,668 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 59589: exiting
2011-08-09 18:59:55,668 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 59589: exiting
2011-08-09 18:59:55,668 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 59589: exiting
2011-08-09 18:59:55,669 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 59589
2011-08-09 18:59:55,670 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:55,670 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:55,670 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 19*** DATA_NODE recovery: numDirs=1 testCase=9 current=false previous=false previous.tmp=true removed.tmp=false
2011-08-09 18:59:55,708 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:55,710 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:55,718 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:55,718 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:55,718 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:55,718 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:55,723 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:55,723 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:55,723 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:55,723 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:55,727 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:55,727 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:55,728 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:55,732 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:55,732 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:55,732 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:55,732 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:55,733 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:55,733 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:55,734 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:55,734 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:55,754 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:55,759 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:55,759 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:55,764 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:55,774 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:55,774 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 51 msecs
2011-08-09 18:59:55,774 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:55,775 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:55,816 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:55,817 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:55,820 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=45271
2011-08-09 18:59:55,821 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:45271
2011-08-09 18:59:55,821 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:55,822 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 45271: starting
2011-08-09 18:59:55,822 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 45271: starting
2011-08-09 18:59:55,822 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 45271: starting
2011-08-09 18:59:55,822 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 45271: starting
2011-08-09 18:59:55,822 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 45271: starting
2011-08-09 18:59:55,822 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 45271: starting
2011-08-09 18:59:55,823 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 45271: starting
2011-08-09 18:59:55,823 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 45271: starting
2011-08-09 18:59:55,823 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 45271: starting
2011-08-09 18:59:55,823 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 45271: starting
2011-08-09 18:59:55,824 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 45271: starting
2011-08-09 18:59:55,872 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:55,873 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:55,874 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:55,874 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 36094 webServer.getConnectors()[0].getLocalPort() returned 36094
2011-08-09 18:59:55,874 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 36094
2011-08-09 18:59:55,874 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:55,936 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:36094
2011-08-09 18:59:55,937 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:36094
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 18:59:55,992 INFO  common.Storage (Storage.java:doRecover(463)) - Recovering storage directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 from previous upgrade.
2011-08-09 18:59:56,132 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 18:59:56,133 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 40266
2011-08-09 18:59:56,133 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 18:59:56,134 INFO  datanode.DataNode (DataNode.java:startDataNode(359)) - Periodic Block Verification is disabled because verification is turned off by configuration.
2011-08-09 18:59:56,136 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:56,137 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:56,137 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 37121 webServer.getConnectors()[0].getLocalPort() returned 37121
2011-08-09 18:59:56,138 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 37121
2011-08-09 18:59:56,138 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:56,223 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:37121
2011-08-09 18:59:56,225 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 18:59:56,229 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:56,231 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=60882
2011-08-09 18:59:56,238 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:56,239 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 60882: starting
2011-08-09 18:59:56,240 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 60882: starting
2011-08-09 18:59:56,240 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 60882: starting
2011-08-09 18:59:56,240 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:40266, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=37121, ipcPort=60882)
2011-08-09 18:59:56,241 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 60882: starting
2011-08-09 18:59:56,243 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:40266 storage DS-1061207207-10.0.62.238-35102-1312909180951
2011-08-09 18:59:56,244 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:40266
2011-08-09 18:59:56,245 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:40266, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=37121, ipcPort=60882)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current'}
2011-08-09 18:59:56,247 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 10000msec Initial delay: 0msec
2011-08-09 18:59:56,299 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 1 volumes in 0 seconds
2011-08-09 18:59:56,300 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:40266 16 blocks shortCircuit first report.
2011-08-09 18:59:56,301 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 18:59:56,304 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 16
2011-08-09 18:59:56,304 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 18:59:56,305 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 1
2011-08-09 18:59:56,305 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 18:59:56,307 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 18:59:56,307 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 18:59:56,308 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 18:59:56,308 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 1 blocks
2011-08-09 18:59:56,309 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 16 blocks got processed in 57 msecs
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 18:59:56,367 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:56,367 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 60882
2011-08-09 18:59:56,368 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 60882: exiting
2011-08-09 18:59:56,368 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 60882: exiting
2011-08-09 18:59:56,368 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 60882: exiting
2011-08-09 18:59:56,369 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 60882
2011-08-09 18:59:56,370 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:56,371 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 18:59:56,371 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:40266, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=37121, ipcPort=60882):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 18:59:57,371 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 18:59:57,372 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:40266, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=37121, ipcPort=60882):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current'}
2011-08-09 18:59:57,373 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 60882
2011-08-09 18:59:57,374 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 18:59:57,374 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 18:59:57,375 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 18:59:57,375 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 18:59:57,412 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:57,514 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 18:59:57,515 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:57,514 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:57,518 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 45271
2011-08-09 18:59:57,519 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 45271: exiting
2011-08-09 18:59:57,519 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 45271: exiting
2011-08-09 18:59:57,519 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 45271: exiting
2011-08-09 18:59:57,520 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 45271: exiting
2011-08-09 18:59:57,520 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 45271: exiting
2011-08-09 18:59:57,520 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 45271: exiting
2011-08-09 18:59:57,520 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 45271: exiting
2011-08-09 18:59:57,520 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 45271: exiting
2011-08-09 18:59:57,521 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 45271: exiting
2011-08-09 18:59:57,521 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 45271: exiting
2011-08-09 18:59:57,522 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:57,522 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:57,523 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 20*** NAME_NODE recovery: numDirs=1 testCase=10 current=true previous=false previous.tmp=false removed.tmp=true
2011-08-09 18:59:57,523 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 45271
2011-08-09 18:59:57,574 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:57,578 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:57,578 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:57,578 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:57,578 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:57,578 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:57,586 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:57,586 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:57,586 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:57,587 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:57,590 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:57,590 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:57,591 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:57,594 INFO  common.Storage (Storage.java:doRecover(470)) - Completing previous rollback for storage directory /home/jeff/hadoop-20-warehouse/build/test/data/name1.
2011-08-09 18:59:57,595 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:57,596 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:57,596 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:57,596 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:57,597 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:57,597 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:57,598 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:57,598 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:57,747 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:57,755 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:57,755 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:57,759 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:57,768 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:57,768 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 182 msecs
2011-08-09 18:59:57,769 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:57,769 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:57,770 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:57,772 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:57,775 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=49366
2011-08-09 18:59:57,776 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:49366
2011-08-09 18:59:57,777 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:57,777 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 49366: starting
2011-08-09 18:59:57,777 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 49366: starting
2011-08-09 18:59:57,778 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 49366: starting
2011-08-09 18:59:57,778 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 49366: starting
2011-08-09 18:59:57,778 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 49366: starting
2011-08-09 18:59:57,778 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 49366: starting
2011-08-09 18:59:57,778 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 49366: starting
2011-08-09 18:59:57,779 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 49366: starting
2011-08-09 18:59:57,779 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 49366: starting
2011-08-09 18:59:57,779 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 49366: starting
2011-08-09 18:59:57,779 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 49366: starting
2011-08-09 18:59:57,830 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:57,831 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:57,832 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:57,832 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 34753 webServer.getConnectors()[0].getLocalPort() returned 34753
2011-08-09 18:59:57,832 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 34753
2011-08-09 18:59:57,833 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:57,888 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:34753
2011-08-09 18:59:57,889 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:34753
Shutting down the Mini HDFS Cluster
2011-08-09 18:59:58,000 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:58,009 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:58,009 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:58,009 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 18:59:58,013 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 49366
2011-08-09 18:59:58,013 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 49366: exiting
2011-08-09 18:59:58,014 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 49366: exiting
2011-08-09 18:59:58,014 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 49366: exiting
2011-08-09 18:59:58,014 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 49366: exiting
2011-08-09 18:59:58,014 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 49366: exiting
2011-08-09 18:59:58,014 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 49366: exiting
2011-08-09 18:59:58,014 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 49366: exiting
2011-08-09 18:59:58,015 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 49366: exiting
2011-08-09 18:59:58,015 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 49366: exiting
2011-08-09 18:59:58,015 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 49366: exiting
2011-08-09 18:59:58,015 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 49366
2011-08-09 18:59:58,016 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:58,016 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:58,016 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 21*** DATA_NODE recovery: numDirs=1 testCase=10 current=true previous=false previous.tmp=false removed.tmp=true
2011-08-09 18:59:58,043 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:58,046 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:58,046 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:58,046 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:58,046 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:58,047 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:58,053 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:58,053 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:58,054 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:58,054 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:58,057 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:58,057 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:58,058 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:58,061 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:58,061 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:58,062 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:58,062 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:58,062 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:58,062 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:58,063 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:58,064 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:58,095 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:58,099 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:58,107 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:58,107 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:58,119 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:58,119 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 66 msecs
2011-08-09 18:59:58,119 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:58,120 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:58,145 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:58,146 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:58,149 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=57691
2011-08-09 18:59:58,149 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:57691
2011-08-09 18:59:58,150 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:58,150 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 57691: starting
2011-08-09 18:59:58,150 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 57691: starting
2011-08-09 18:59:58,151 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 57691: starting
2011-08-09 18:59:58,151 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 57691: starting
2011-08-09 18:59:58,151 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 57691: starting
2011-08-09 18:59:58,151 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 57691: starting
2011-08-09 18:59:58,151 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 57691: starting
2011-08-09 18:59:58,152 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 57691: starting
2011-08-09 18:59:58,152 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 57691: starting
2011-08-09 18:59:58,152 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 57691: starting
2011-08-09 18:59:58,152 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 57691: starting
2011-08-09 18:59:58,160 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:58,162 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:58,162 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:58,163 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 41558 webServer.getConnectors()[0].getLocalPort() returned 41558
2011-08-09 18:59:58,163 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 41558
2011-08-09 18:59:58,163 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:58,209 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:41558
2011-08-09 18:59:58,209 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:41558
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 18:59:58,311 INFO  common.Storage (Storage.java:doRecover(470)) - Completing previous rollback for storage directory /home/jeff/hadoop-20-warehouse/build/test/data/data1.
2011-08-09 18:59:58,448 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 18:59:58,450 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 39572
2011-08-09 18:59:58,450 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 18:59:58,450 INFO  datanode.DataNode (DataNode.java:startDataNode(359)) - Periodic Block Verification is disabled because verification is turned off by configuration.
2011-08-09 18:59:58,453 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:58,454 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:58,454 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 42759 webServer.getConnectors()[0].getLocalPort() returned 42759
2011-08-09 18:59:58,454 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 42759
2011-08-09 18:59:58,455 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:58,524 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:42759
2011-08-09 18:59:58,524 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 18:59:58,529 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:58,531 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=58538
2011-08-09 18:59:58,532 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:58,532 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 58538: starting
2011-08-09 18:59:58,581 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 58538: starting
2011-08-09 18:59:58,581 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:39572, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=42759, ipcPort=58538)
2011-08-09 18:59:58,582 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 58538: starting
2011-08-09 18:59:58,583 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 58538: starting
2011-08-09 18:59:58,585 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:39572 storage DS-1061207207-10.0.62.238-35102-1312909180951
2011-08-09 18:59:58,586 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:39572
2011-08-09 18:59:58,588 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:39572, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=42759, ipcPort=58538)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current'}
2011-08-09 18:59:58,589 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 10000msec Initial delay: 0msec
2011-08-09 18:59:58,604 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 1 volumes in 0 seconds
2011-08-09 18:59:58,606 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:39572 16 blocks shortCircuit first report.
2011-08-09 18:59:58,607 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 18:59:58,611 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 16
2011-08-09 18:59:58,611 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 18:59:58,612 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 1
2011-08-09 18:59:58,612 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 18:59:58,627 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 18:59:58,627 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 18:59:58,628 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 18:59:58,628 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 1 blocks
2011-08-09 18:59:58,631 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:58,632 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 58538
2011-08-09 18:59:58,633 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 58538: exiting
2011-08-09 18:59:58,633 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 58538: exiting
2011-08-09 18:59:58,633 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 58538: exiting
2011-08-09 18:59:58,634 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 58538
2011-08-09 18:59:58,635 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 16 blocks got processed in 39 msecs
2011-08-09 18:59:58,635 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:39572, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=42759, ipcPort=58538):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 18:59:58,635 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 18:59:58,635 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:58,649 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:39572, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=42759, ipcPort=58538):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current'}
2011-08-09 18:59:58,650 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 58538
2011-08-09 18:59:58,650 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 18:59:58,651 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 18:59:58,651 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 18:59:58,652 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 18:59:58,655 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:58,656 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:58,656 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:58,657 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 18:59:58,661 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 57691
2011-08-09 18:59:58,661 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 57691: exiting
2011-08-09 18:59:58,662 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 57691: exiting
2011-08-09 18:59:58,662 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 57691: exiting
2011-08-09 18:59:58,662 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 57691: exiting
2011-08-09 18:59:58,663 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 57691: exiting
2011-08-09 18:59:58,663 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 57691: exiting
2011-08-09 18:59:58,663 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 57691: exiting
2011-08-09 18:59:58,663 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 57691: exiting
2011-08-09 18:59:58,663 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 57691: exiting
2011-08-09 18:59:58,663 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 57691: exiting
2011-08-09 18:59:58,664 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 57691
2011-08-09 18:59:58,666 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:58,666 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:58,666 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 22*** NAME_NODE recovery: numDirs=1 testCase=11 current=true previous=true previous.tmp=false removed.tmp=true
2011-08-09 18:59:58,731 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:58,734 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:58,735 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:58,735 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:58,735 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:58,735 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:58,739 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:58,739 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:58,740 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:58,740 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:58,743 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:58,886 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:58,887 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:58,890 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: one and only one directory current or previous must be present when removed.tmp exists.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:437)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 18:59:58,890 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:58,891 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 23*** DATA_NODE recovery: numDirs=1 testCase=11 current=true previous=true previous.tmp=false removed.tmp=true
2011-08-09 18:59:58,917 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:58,919 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:58,919 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:58,920 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:58,920 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:58,920 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:58,925 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:58,925 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:58,926 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:58,926 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:58,929 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:58,929 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:58,930 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:58,933 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:58,933 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:58,933 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:58,933 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:58,934 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:58,934 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:58,935 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:58,935 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:58,971 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:58,983 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:58,983 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:58,987 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:58,997 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:58,997 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 72 msecs
2011-08-09 18:59:58,998 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:58,998 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:59,040 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:59,041 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:59,043 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=45496
2011-08-09 18:59:59,044 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:45496
2011-08-09 18:59:59,044 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:59,045 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 45496: starting
2011-08-09 18:59:59,045 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 45496: starting
2011-08-09 18:59:59,046 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 45496: starting
2011-08-09 18:59:59,046 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 45496: starting
2011-08-09 18:59:59,046 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 45496: starting
2011-08-09 18:59:59,046 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 45496: starting
2011-08-09 18:59:59,047 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 45496: starting
2011-08-09 18:59:59,047 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 45496: starting
2011-08-09 18:59:59,047 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 45496: starting
2011-08-09 18:59:59,048 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 45496: starting
2011-08-09 18:59:59,094 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 45496: starting
2011-08-09 18:59:59,096 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:59,097 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:59,098 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:59,098 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 50392 webServer.getConnectors()[0].getLocalPort() returned 50392
2011-08-09 18:59:59,098 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 50392
2011-08-09 18:59:59,098 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:59,145 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:50392
2011-08-09 18:59:59,146 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:50392
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 18:59:59,293 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: one and only one directory current or previous must be present when removed.tmp exists.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:437)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 18:59:59,296 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 18:59:59,297 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 18:59:59,297 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 18:59:59,297 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 18:59:59,355 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 45496
2011-08-09 18:59:59,379 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 45496: exiting
2011-08-09 18:59:59,379 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 45496: exiting
2011-08-09 18:59:59,380 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 18:59:59,380 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 45496: exiting
2011-08-09 18:59:59,380 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 45496: exiting
2011-08-09 18:59:59,380 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:59,380 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 45496: exiting
2011-08-09 18:59:59,380 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 24*** NAME_NODE recovery: numDirs=1 testCase=12 current=true previous=true previous.tmp=true removed.tmp=true
2011-08-09 18:59:59,381 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 45496: exiting
2011-08-09 18:59:59,381 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 45496: exiting
2011-08-09 18:59:59,380 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 45496: exiting
2011-08-09 18:59:59,381 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 45496: exiting
2011-08-09 18:59:59,381 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 45496: exiting
2011-08-09 18:59:59,381 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 45496
2011-08-09 18:59:59,433 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:59,436 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:59,436 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:59,437 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:59,437 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:59,437 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:59,441 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:59,442 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:59,442 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:59,442 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:59,447 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:59,447 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:59,447 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:59,450 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 18:59:59,451 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 18:59:59,451 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 25*** DATA_NODE recovery: numDirs=1 testCase=12 current=true previous=true previous.tmp=true removed.tmp=true
2011-08-09 18:59:59,479 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 18:59:59,481 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:59,482 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 18:59:59,482 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 18:59:59,482 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 18:59:59,482 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 18:59:59,487 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 18:59:59,487 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 18:59:59,487 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 18:59:59,487 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 18:59:59,490 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 18:59:59,491 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 18:59:59,491 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 18:59:59,494 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 18:59:59,494 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 18:59:59,495 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 18:59:59,495 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 18:59:59,495 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 18:59:59,495 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 18:59:59,496 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 18:59:59,497 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:59,606 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:59,615 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 18:59:59,615 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:59,619 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 18:59:59,629 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 18:59:59,629 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 142 msecs
2011-08-09 18:59:59,630 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 18:59:59,630 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 18:59:59,672 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 18:59:59,673 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 18:59:59,675 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=45480
2011-08-09 18:59:59,675 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:45480
2011-08-09 18:59:59,676 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 18:59:59,676 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 45480: starting
2011-08-09 18:59:59,698 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 45480: starting
2011-08-09 18:59:59,698 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 45480: starting
2011-08-09 18:59:59,698 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 45480: starting
2011-08-09 18:59:59,698 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 45480: starting
2011-08-09 18:59:59,698 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 45480: starting
2011-08-09 18:59:59,698 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 45480: starting
2011-08-09 18:59:59,699 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 45480: starting
2011-08-09 18:59:59,699 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 45480: starting
2011-08-09 18:59:59,699 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 45480: starting
2011-08-09 18:59:59,699 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 45480: starting
2011-08-09 18:59:59,707 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 18:59:59,708 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 18:59:59,708 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 18:59:59,709 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 48939 webServer.getConnectors()[0].getLocalPort() returned 48939
2011-08-09 18:59:59,710 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 48939
2011-08-09 18:59:59,710 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 18:59:59,767 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:48939
2011-08-09 18:59:59,767 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:48939
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 18:59:59,989 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 19:00:00,026 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:00,126 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:00,127 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:00,127 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 19:00:00,213 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 45480
2011-08-09 19:00:00,213 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 45480: exiting
2011-08-09 19:00:00,214 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 45480: exiting
2011-08-09 19:00:00,214 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 45480: exiting
2011-08-09 19:00:00,214 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 45480: exiting
2011-08-09 19:00:00,214 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 45480: exiting
2011-08-09 19:00:00,214 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 45480: exiting
2011-08-09 19:00:00,214 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 45480: exiting
2011-08-09 19:00:00,214 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 45480: exiting
2011-08-09 19:00:00,215 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 45480: exiting
2011-08-09 19:00:00,215 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 45480: exiting
2011-08-09 19:00:00,215 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 45480
2011-08-09 19:00:00,216 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:00,216 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:00,216 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 26*** NAME_NODE recovery: numDirs=1 testCase=13 current=true previous=false previous.tmp=true removed.tmp=true
2011-08-09 19:00:00,254 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:00,257 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:00,257 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:00,257 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:00,258 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:00,258 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:00,262 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:00,263 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:00,263 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:00,263 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:00,267 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:00,267 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:00,268 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:00,271 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 19:00:00,271 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:00,271 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 27*** DATA_NODE recovery: numDirs=1 testCase=13 current=true previous=false previous.tmp=true removed.tmp=true
2011-08-09 19:00:00,299 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:00,302 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:00,302 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:00,302 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:00,303 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:00,303 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:00,308 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:00,308 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:00,308 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:00,309 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:00,312 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:00,312 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:00,312 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:00,316 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:00,316 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:00,316 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:00,316 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:00,317 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:00,317 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:00,318 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:00,318 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:00,337 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:00,342 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:00,343 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:00,347 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:00,357 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:00,358 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 50 msecs
2011-08-09 19:00:00,358 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:00,358 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:00,359 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:00,361 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:00,363 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=46546
2011-08-09 19:00:00,364 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:46546
2011-08-09 19:00:00,364 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:00,406 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 46546: starting
2011-08-09 19:00:00,406 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 46546: starting
2011-08-09 19:00:00,406 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 46546: starting
2011-08-09 19:00:00,406 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 46546: starting
2011-08-09 19:00:00,406 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 46546: starting
2011-08-09 19:00:00,406 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 46546: starting
2011-08-09 19:00:00,407 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 46546: starting
2011-08-09 19:00:00,407 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 46546: starting
2011-08-09 19:00:00,407 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 46546: starting
2011-08-09 19:00:00,407 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 46546: starting
2011-08-09 19:00:00,408 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 46546: starting
2011-08-09 19:00:00,416 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:00,417 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:00,417 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:00,418 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 37119 webServer.getConnectors()[0].getLocalPort() returned 37119
2011-08-09 19:00:00,418 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 37119
2011-08-09 19:00:00,418 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:00,472 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:37119
2011-08-09 19:00:00,473 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:37119
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 19:00:00,630 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 19:00:00,681 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:00,682 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:00,682 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:00,682 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 19:00:00,748 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 46546
2011-08-09 19:00:00,749 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 46546: exiting
2011-08-09 19:00:00,749 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 46546: exiting
2011-08-09 19:00:00,749 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 46546: exiting
2011-08-09 19:00:00,749 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 46546: exiting
2011-08-09 19:00:00,750 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 46546: exiting
2011-08-09 19:00:00,750 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 46546: exiting
2011-08-09 19:00:00,750 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 46546: exiting
2011-08-09 19:00:00,750 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 46546: exiting
2011-08-09 19:00:00,750 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 46546: exiting
2011-08-09 19:00:00,750 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 46546: exiting
2011-08-09 19:00:00,751 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 46546
2011-08-09 19:00:00,752 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:00,752 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:00,752 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 28*** NAME_NODE recovery: numDirs=1 testCase=14 current=false previous=true previous.tmp=true removed.tmp=true
2011-08-09 19:00:00,791 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:00,794 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:00,794 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:00,794 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:00,795 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:00,795 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:00,869 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:00,870 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:00,870 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:00,870 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:00,873 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:00,873 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:00,874 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:00,877 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 19:00:00,877 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:00,877 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 29*** DATA_NODE recovery: numDirs=1 testCase=14 current=false previous=true previous.tmp=true removed.tmp=true
2011-08-09 19:00:00,914 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:00,917 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:00,917 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:00,917 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:00,917 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:00,917 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:00,922 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:00,922 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:00,922 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:00,923 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:00,926 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:00,926 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:00,926 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:00,929 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:00,930 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:00,930 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:00,930 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:00,930 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:00,930 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:00,931 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:00,932 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:00,951 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:00,956 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:00,957 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:00,961 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:00,972 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:00,972 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 50 msecs
2011-08-09 19:00:00,972 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:00,973 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:00,974 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:00,976 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:00,978 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=58251
2011-08-09 19:00:00,979 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:58251
2011-08-09 19:00:00,979 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:00,979 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 58251: starting
2011-08-09 19:00:01,010 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 58251: starting
2011-08-09 19:00:01,010 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 58251: starting
2011-08-09 19:00:01,010 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 58251: starting
2011-08-09 19:00:01,010 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 58251: starting
2011-08-09 19:00:01,011 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 58251: starting
2011-08-09 19:00:01,011 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 58251: starting
2011-08-09 19:00:01,011 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 58251: starting
2011-08-09 19:00:01,011 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 58251: starting
2011-08-09 19:00:01,011 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 58251: starting
2011-08-09 19:00:01,012 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 58251: starting
2011-08-09 19:00:01,020 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:01,021 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:01,021 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:01,022 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 55316 webServer.getConnectors()[0].getLocalPort() returned 55316
2011-08-09 19:00:01,022 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 55316
2011-08-09 19:00:01,022 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:01,066 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:55316
2011-08-09 19:00:01,082 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:55316
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 19:00:01,225 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 19:00:01,283 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:01,398 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:01,398 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:01,398 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 19:00:01,457 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 58251
2011-08-09 19:00:01,458 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 58251: exiting
2011-08-09 19:00:01,458 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 58251: exiting
2011-08-09 19:00:01,458 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 58251: exiting
2011-08-09 19:00:01,458 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 58251: exiting
2011-08-09 19:00:01,458 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 58251: exiting
2011-08-09 19:00:01,458 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 58251: exiting
2011-08-09 19:00:01,458 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 58251: exiting
2011-08-09 19:00:01,458 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 58251: exiting
2011-08-09 19:00:01,459 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 58251: exiting
2011-08-09 19:00:01,459 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 58251: exiting
2011-08-09 19:00:01,459 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 58251
2011-08-09 19:00:01,461 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:01,461 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:01,461 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 30*** NAME_NODE recovery: numDirs=1 testCase=15 current=false previous=false previous.tmp=true removed.tmp=true
2011-08-09 19:00:01,488 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:01,491 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:01,491 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:01,491 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:01,492 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:01,492 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:01,498 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:01,499 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:01,499 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:01,499 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:01,502 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:01,503 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:01,503 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:01,506 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 19:00:01,507 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:01,507 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 31*** DATA_NODE recovery: numDirs=1 testCase=15 current=false previous=false previous.tmp=true removed.tmp=true
2011-08-09 19:00:01,537 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:01,540 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:01,540 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:01,541 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:01,541 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:01,541 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:01,548 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:01,548 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:01,548 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:01,548 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:01,552 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:01,552 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:01,552 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:01,555 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:01,555 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:01,556 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:01,556 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:01,556 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:01,556 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:01,557 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:01,558 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:01,666 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:01,670 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:01,671 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:01,675 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:01,685 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:01,685 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 137 msecs
2011-08-09 19:00:01,685 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:01,686 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:01,686 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:01,688 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:01,690 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=42013
2011-08-09 19:00:01,690 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:42013
2011-08-09 19:00:01,691 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:01,691 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 42013: starting
2011-08-09 19:00:01,734 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 42013: starting
2011-08-09 19:00:01,734 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 42013: starting
2011-08-09 19:00:01,734 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 42013: starting
2011-08-09 19:00:01,734 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 42013: starting
2011-08-09 19:00:01,734 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 42013: starting
2011-08-09 19:00:01,735 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 42013: starting
2011-08-09 19:00:01,734 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 42013: starting
2011-08-09 19:00:01,735 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 42013: starting
2011-08-09 19:00:01,736 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 42013: starting
2011-08-09 19:00:01,736 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 42013: starting
2011-08-09 19:00:01,743 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:01,744 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:01,745 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:01,745 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 32913 webServer.getConnectors()[0].getLocalPort() returned 32913
2011-08-09 19:00:01,745 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 32913
2011-08-09 19:00:01,746 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:01,830 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:32913
2011-08-09 19:00:01,831 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:32913
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 19:00:01,929 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 19:00:01,994 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:02,094 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:02,095 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 19:00:02,094 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:02,139 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 42013
2011-08-09 19:00:02,140 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 42013: exiting
2011-08-09 19:00:02,140 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 42013: exiting
2011-08-09 19:00:02,140 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 42013: exiting
2011-08-09 19:00:02,140 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 42013: exiting
2011-08-09 19:00:02,140 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 42013: exiting
2011-08-09 19:00:02,141 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 42013: exiting
2011-08-09 19:00:02,141 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 42013
2011-08-09 19:00:02,141 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 42013: exiting
2011-08-09 19:00:02,141 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 42013: exiting
2011-08-09 19:00:02,141 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 42013: exiting
2011-08-09 19:00:02,141 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 42013: exiting
2011-08-09 19:00:02,142 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:02,142 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:02,143 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 32*** NAME_NODE recovery: numDirs=1 testCase=16 current=false previous=false previous.tmp=false removed.tmp=true
2011-08-09 19:00:02,158 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:02,161 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:02,161 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:02,162 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:02,162 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:02,162 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:02,166 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:02,166 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:02,166 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:02,166 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:02,171 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:02,171 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:02,171 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:02,174 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: one and only one directory current or previous must be present when removed.tmp exists.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:437)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 19:00:02,175 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:02,175 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 33*** DATA_NODE recovery: numDirs=1 testCase=16 current=false previous=false previous.tmp=false removed.tmp=true
2011-08-09 19:00:02,201 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:02,203 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:02,204 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:02,204 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:02,204 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:02,204 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:02,209 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:02,209 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:02,209 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:02,209 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:02,212 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:02,213 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:02,213 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:02,216 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:02,216 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:02,216 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:02,217 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:02,217 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:02,217 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:02,218 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:02,218 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:02,238 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:02,244 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:02,246 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:02,248 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:02,258 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:02,258 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 49 msecs
2011-08-09 19:00:02,258 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:02,259 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:02,259 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:02,261 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:02,264 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=36501
2011-08-09 19:00:02,264 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:36501
2011-08-09 19:00:02,264 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:02,265 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 36501: starting
2011-08-09 19:00:02,265 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 36501: starting
2011-08-09 19:00:02,265 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 36501: starting
2011-08-09 19:00:02,266 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 36501: starting
2011-08-09 19:00:02,266 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 36501: starting
2011-08-09 19:00:02,266 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 36501: starting
2011-08-09 19:00:02,266 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 36501: starting
2011-08-09 19:00:02,266 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 36501: starting
2011-08-09 19:00:02,267 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 36501: starting
2011-08-09 19:00:02,267 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 36501: starting
2011-08-09 19:00:02,267 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 36501: starting
2011-08-09 19:00:02,275 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:02,276 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:02,277 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:02,277 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 36990 webServer.getConnectors()[0].getLocalPort() returned 36990
2011-08-09 19:00:02,277 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 36990
2011-08-09 19:00:02,278 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:02,320 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:36990
2011-08-09 19:00:02,321 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:36990
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 19:00:02,377 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: one and only one directory current or previous must be present when removed.tmp exists.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:437)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 19:00:02,433 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:02,534 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:02,535 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:02,535 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 19:00:02,559 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 36501
2011-08-09 19:00:02,559 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 36501: exiting
2011-08-09 19:00:02,559 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 36501: exiting
2011-08-09 19:00:02,560 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 36501: exiting
2011-08-09 19:00:02,560 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 36501: exiting
2011-08-09 19:00:02,560 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 36501: exiting
2011-08-09 19:00:02,560 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 36501: exiting
2011-08-09 19:00:02,560 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 36501: exiting
2011-08-09 19:00:02,560 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 36501: exiting
2011-08-09 19:00:02,561 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 36501: exiting
2011-08-09 19:00:02,561 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 36501: exiting
2011-08-09 19:00:02,561 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 36501
2011-08-09 19:00:02,563 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:02,563 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:02,563 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 34*** NAME_NODE recovery: numDirs=1 testCase=17 current=false previous=true previous.tmp=false removed.tmp=true
2011-08-09 19:00:02,598 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:02,601 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:02,601 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:02,602 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:02,602 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:02,602 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:02,606 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:02,606 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:02,606 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:02,606 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:02,632 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:02,633 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:02,633 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:02,647 INFO  common.Storage (Storage.java:doRecover(475)) - Recovering storage directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 from previous rollback.
2011-08-09 19:00:02,751 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:02,752 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:02,752 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:02,752 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:02,752 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:02,753 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:02,754 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:02,754 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:02,763 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:02,769 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:02,769 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:02,776 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:02,799 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:02,799 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 194 msecs
2011-08-09 19:00:02,799 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:02,800 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:02,800 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:02,802 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:02,805 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=33727
2011-08-09 19:00:02,805 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:33727
2011-08-09 19:00:02,806 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:02,806 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 33727: starting
2011-08-09 19:00:02,826 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 33727: starting
2011-08-09 19:00:02,826 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 33727: starting
2011-08-09 19:00:02,826 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 33727: starting
2011-08-09 19:00:02,826 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 33727: starting
2011-08-09 19:00:02,826 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 33727: starting
2011-08-09 19:00:02,827 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 33727: starting
2011-08-09 19:00:02,827 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 33727: starting
2011-08-09 19:00:02,827 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 33727: starting
2011-08-09 19:00:02,828 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 33727: starting
2011-08-09 19:00:02,828 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 33727: starting
2011-08-09 19:00:02,835 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:02,836 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:02,836 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:02,837 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 52514 webServer.getConnectors()[0].getLocalPort() returned 52514
2011-08-09 19:00:02,837 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 52514
2011-08-09 19:00:02,837 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:02,886 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:52514
2011-08-09 19:00:02,887 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:52514
Shutting down the Mini HDFS Cluster
2011-08-09 19:00:02,962 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:03,063 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:03,063 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:03,063 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 19:00:03,067 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 33727
2011-08-09 19:00:03,067 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 33727: exiting
2011-08-09 19:00:03,067 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 33727: exiting
2011-08-09 19:00:03,068 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 33727: exiting
2011-08-09 19:00:03,068 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 33727: exiting
2011-08-09 19:00:03,068 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 33727: exiting
2011-08-09 19:00:03,068 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 33727: exiting
2011-08-09 19:00:03,068 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 33727: exiting
2011-08-09 19:00:03,068 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 33727: exiting
2011-08-09 19:00:03,068 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 33727: exiting
2011-08-09 19:00:03,068 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 33727: exiting
2011-08-09 19:00:03,069 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 33727
2011-08-09 19:00:03,070 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:03,070 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:03,070 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 35*** DATA_NODE recovery: numDirs=1 testCase=17 current=false previous=true previous.tmp=false removed.tmp=true
2011-08-09 19:00:03,098 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:03,100 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:03,101 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:03,101 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:03,101 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:03,101 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:03,105 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:03,105 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:03,105 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:03,105 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:03,109 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:03,109 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:03,109 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:03,139 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:03,139 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:03,139 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:03,140 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:03,140 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:03,140 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:03,141 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:03,141 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:03,152 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:03,158 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:03,159 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:03,163 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:03,174 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:03,174 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 69 msecs
2011-08-09 19:00:03,174 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:03,174 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:03,175 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:03,177 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:03,188 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=53743
2011-08-09 19:00:03,189 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:53743
2011-08-09 19:00:03,189 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:03,189 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 53743: starting
2011-08-09 19:00:03,190 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 53743: starting
2011-08-09 19:00:03,190 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 53743: starting
2011-08-09 19:00:03,190 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 53743: starting
2011-08-09 19:00:03,191 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 53743: starting
2011-08-09 19:00:03,191 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 53743: starting
2011-08-09 19:00:03,191 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 53743: starting
2011-08-09 19:00:03,191 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 53743: starting
2011-08-09 19:00:03,191 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 53743: starting
2011-08-09 19:00:03,191 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 53743: starting
2011-08-09 19:00:03,192 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 53743: starting
2011-08-09 19:00:03,240 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:03,241 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:03,242 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:03,242 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 38976 webServer.getConnectors()[0].getLocalPort() returned 38976
2011-08-09 19:00:03,242 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 38976
2011-08-09 19:00:03,242 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:03,355 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:38976
2011-08-09 19:00:03,398 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:38976
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1
2011-08-09 19:00:03,497 INFO  common.Storage (Storage.java:doRecover(475)) - Recovering storage directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 from previous rollback.
2011-08-09 19:00:03,639 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 19:00:03,640 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 32802
2011-08-09 19:00:03,640 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 19:00:03,641 INFO  datanode.DataNode (DataNode.java:startDataNode(359)) - Periodic Block Verification is disabled because verification is turned off by configuration.
2011-08-09 19:00:03,643 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:03,644 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:03,644 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 49638 webServer.getConnectors()[0].getLocalPort() returned 49638
2011-08-09 19:00:03,645 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 49638
2011-08-09 19:00:03,645 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:03,762 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:49638
2011-08-09 19:00:03,765 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 19:00:03,770 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:03,772 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=40580
2011-08-09 19:00:03,774 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:03,774 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 40580: starting
2011-08-09 19:00:03,775 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 40580: starting
2011-08-09 19:00:03,821 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:32802, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=49638, ipcPort=40580)
2011-08-09 19:00:03,827 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 40580: starting
2011-08-09 19:00:03,827 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 40580: starting
2011-08-09 19:00:03,831 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:32802 storage DS-1061207207-10.0.62.238-35102-1312909180951
2011-08-09 19:00:03,831 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:32802
2011-08-09 19:00:03,833 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:32802, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=49638, ipcPort=40580)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current'}
2011-08-09 19:00:03,834 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 10000msec Initial delay: 0msec
2011-08-09 19:00:03,841 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 1 volumes in 0 seconds
2011-08-09 19:00:03,842 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:32802 16 blocks shortCircuit first report.
2011-08-09 19:00:03,842 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 19:00:03,846 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 16
2011-08-09 19:00:03,846 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 19:00:03,846 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 1
2011-08-09 19:00:03,847 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 19:00:03,869 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 19:00:03,870 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 19:00:03,870 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 19:00:03,871 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 1 blocks
2011-08-09 19:00:03,872 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 16 blocks got processed in 33 msecs
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 19:00:03,910 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:04,011 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 40580
2011-08-09 19:00:04,012 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 40580: exiting
2011-08-09 19:00:04,012 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 40580: exiting
2011-08-09 19:00:04,012 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 40580: exiting
2011-08-09 19:00:04,012 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 40580
2011-08-09 19:00:04,014 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:04,014 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 19:00:04,014 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:32802, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=49638, ipcPort=40580):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 19:00:05,014 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 19:00:05,015 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:32802, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=49638, ipcPort=40580):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current'}
2011-08-09 19:00:05,016 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 40580
2011-08-09 19:00:05,017 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 19:00:05,018 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 19:00:05,018 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 19:00:05,018 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 19:00:05,035 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:05,137 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:05,137 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:05,138 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0 
2011-08-09 19:00:05,141 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 53743
2011-08-09 19:00:05,142 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 53743: exiting
2011-08-09 19:00:05,142 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 53743: exiting
2011-08-09 19:00:05,142 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 53743: exiting
2011-08-09 19:00:05,142 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 53743: exiting
2011-08-09 19:00:05,143 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 53743: exiting
2011-08-09 19:00:05,143 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 53743: exiting
2011-08-09 19:00:05,143 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 53743: exiting
2011-08-09 19:00:05,143 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 53743: exiting
2011-08-09 19:00:05,144 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 53743: exiting
2011-08-09 19:00:05,145 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 53743
2011-08-09 19:00:05,145 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 53743: exiting
2011-08-09 19:00:05,146 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:05,154 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:05,154 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 36*** NAME_NODE recovery: numDirs=2 testCase=0 current=true previous=false previous.tmp=false removed.tmp=false
2011-08-09 19:00:05,183 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:05,187 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:05,187 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:05,188 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:05,188 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:05,188 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:05,192 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:05,192 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:05,192 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:05,193 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:05,341 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:05,341 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:05,342 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:05,345 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:05,346 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:05,346 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:05,346 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:05,346 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:05,347 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:05,347 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:05,348 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:05,357 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:05,362 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:05,379 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:05,379 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:05,383 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:05,391 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:05,391 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:05,395 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:05,396 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:05,419 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:05,419 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 227 msecs
2011-08-09 19:00:05,419 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:05,419 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:05,420 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:05,422 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:05,425 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=46025
2011-08-09 19:00:05,425 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:46025
2011-08-09 19:00:05,426 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:05,426 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 46025: starting
2011-08-09 19:00:05,467 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 46025: starting
2011-08-09 19:00:05,467 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 46025: starting
2011-08-09 19:00:05,467 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 46025: starting
2011-08-09 19:00:05,468 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 46025: starting
2011-08-09 19:00:05,468 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 46025: starting
2011-08-09 19:00:05,468 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 46025: starting
2011-08-09 19:00:05,468 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 46025: starting
2011-08-09 19:00:05,469 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 46025: starting
2011-08-09 19:00:05,469 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 46025: starting
2011-08-09 19:00:05,469 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 46025: starting
2011-08-09 19:00:05,477 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:05,479 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:05,479 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:05,479 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 52218 webServer.getConnectors()[0].getLocalPort() returned 52218
2011-08-09 19:00:05,480 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 52218
2011-08-09 19:00:05,480 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:05,526 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:52218
2011-08-09 19:00:05,527 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:52218
Shutting down the Mini HDFS Cluster
2011-08-09 19:00:05,595 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:05,596 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:05,596 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:05,596 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:05,603 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 46025
2011-08-09 19:00:05,604 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 46025: exiting
2011-08-09 19:00:05,604 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 46025: exiting
2011-08-09 19:00:05,604 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 46025: exiting
2011-08-09 19:00:05,604 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 46025: exiting
2011-08-09 19:00:05,604 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 46025: exiting
2011-08-09 19:00:05,604 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 46025: exiting
2011-08-09 19:00:05,604 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 46025: exiting
2011-08-09 19:00:05,604 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 46025: exiting
2011-08-09 19:00:05,604 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 46025: exiting
2011-08-09 19:00:05,604 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 46025: exiting
2011-08-09 19:00:05,605 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 46025
2011-08-09 19:00:05,606 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:05,606 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:05,606 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 37*** DATA_NODE recovery: numDirs=2 testCase=0 current=true previous=false previous.tmp=false removed.tmp=false
2011-08-09 19:00:05,659 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:05,662 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:05,662 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:05,662 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:05,662 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:05,663 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:05,666 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:05,666 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:05,666 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:05,667 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:05,694 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:05,695 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:05,695 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:05,699 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:05,699 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:05,700 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:05,700 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:05,700 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:05,700 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:05,701 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:05,702 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:05,716 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:05,719 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:05,724 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:05,735 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:05,735 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:05,743 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:05,743 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:05,747 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:05,748 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:05,769 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:05,770 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 104 msecs
2011-08-09 19:00:05,770 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:05,770 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:05,812 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:05,814 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:05,817 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=48463
2011-08-09 19:00:05,817 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:48463
2011-08-09 19:00:05,818 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:05,818 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 48463: starting
2011-08-09 19:00:05,818 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 48463: starting
2011-08-09 19:00:05,819 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 48463: starting
2011-08-09 19:00:05,819 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 48463: starting
2011-08-09 19:00:05,819 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 48463: starting
2011-08-09 19:00:05,819 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 48463: starting
2011-08-09 19:00:05,820 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 48463: starting
2011-08-09 19:00:05,820 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 48463: starting
2011-08-09 19:00:05,820 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 48463: starting
2011-08-09 19:00:05,820 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 48463: starting
2011-08-09 19:00:05,821 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 48463: starting
2011-08-09 19:00:05,828 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:05,829 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:05,878 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:05,878 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 39952 webServer.getConnectors()[0].getLocalPort() returned 39952
2011-08-09 19:00:05,878 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 39952
2011-08-09 19:00:05,878 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:05,947 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:39952
2011-08-09 19:00:05,991 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:39952
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:06,356 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 19:00:06,358 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 60871
2011-08-09 19:00:06,358 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 19:00:06,359 INFO  datanode.DataNode (DataNode.java:startDataNode(359)) - Periodic Block Verification is disabled because verification is turned off by configuration.
2011-08-09 19:00:06,361 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:06,362 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:06,362 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 44114 webServer.getConnectors()[0].getLocalPort() returned 44114
2011-08-09 19:00:06,362 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 44114
2011-08-09 19:00:06,363 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:06,421 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:44114
2011-08-09 19:00:06,423 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 19:00:06,430 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:06,432 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=33847
2011-08-09 19:00:06,433 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:06,434 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 33847: starting
2011-08-09 19:00:06,435 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 33847: starting
2011-08-09 19:00:06,436 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 33847: starting
2011-08-09 19:00:06,436 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:60871, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=44114, ipcPort=33847)
2011-08-09 19:00:06,436 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 33847: starting
2011-08-09 19:00:06,440 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:60871 storage DS-1061207207-10.0.62.238-35102-1312909180951
2011-08-09 19:00:06,441 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:60871
2011-08-09 19:00:06,442 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:60871, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=44114, ipcPort=33847)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/data2/current'}
2011-08-09 19:00:06,443 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 10000msec Initial delay: 0msec
2011-08-09 19:00:06,472 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 19:00:06,474 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:60871 16 blocks shortCircuit first report.
2011-08-09 19:00:06,475 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 19:00:06,479 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 16
2011-08-09 19:00:06,618 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 19:00:06,619 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 1
2011-08-09 19:00:06,619 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 19:00:06,627 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 19:00:06,627 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 19:00:06,628 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 19:00:06,628 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:06,628 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 1 blocks
2011-08-09 19:00:06,630 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 16 blocks got processed in 182 msecs
2011-08-09 19:00:06,730 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 33847
2011-08-09 19:00:06,731 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 33847: exiting
2011-08-09 19:00:06,731 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 33847: exiting
2011-08-09 19:00:06,731 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 33847: exiting
2011-08-09 19:00:06,731 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 33847
2011-08-09 19:00:06,732 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 19:00:06,733 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:06,733 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:60871, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=44114, ipcPort=33847):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 19:00:07,733 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 19:00:07,734 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:60871, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=44114, ipcPort=33847):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/data2/current'}
2011-08-09 19:00:07,735 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 33847
2011-08-09 19:00:07,735 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 19:00:07,736 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 19:00:07,736 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 19:00:07,737 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 19:00:07,836 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:07,838 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:07,838 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:07,839 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:07,846 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 48463
2011-08-09 19:00:07,846 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 48463: exiting
2011-08-09 19:00:07,847 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 48463: exiting
2011-08-09 19:00:07,847 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 48463: exiting
2011-08-09 19:00:07,847 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 48463: exiting
2011-08-09 19:00:07,847 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 48463: exiting
2011-08-09 19:00:07,847 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 48463: exiting
2011-08-09 19:00:07,848 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 48463: exiting
2011-08-09 19:00:07,848 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 48463: exiting
2011-08-09 19:00:07,848 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 48463: exiting
2011-08-09 19:00:07,849 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 48463: exiting
2011-08-09 19:00:07,849 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 48463
2011-08-09 19:00:07,851 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:07,851 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:07,851 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 38*** NAME_NODE recovery: numDirs=2 testCase=1 current=true previous=true previous.tmp=false removed.tmp=false
2011-08-09 19:00:07,952 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:07,955 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:07,956 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:07,956 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:07,956 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:07,956 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:07,962 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:07,962 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:07,963 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:07,963 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:07,966 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:07,966 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:07,967 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:07,971 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:07,971 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:07,972 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:07,972 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:07,972 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:07,972 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:07,973 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:07,974 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:08,139 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:08,144 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:08,149 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:08,159 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:08,159 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:08,165 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:08,166 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:08,170 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:08,170 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:08,189 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:08,189 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 227 msecs
2011-08-09 19:00:08,190 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:08,190 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:08,190 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:08,192 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:08,195 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=37293
2011-08-09 19:00:08,196 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:37293
2011-08-09 19:00:08,243 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 37293: starting
2011-08-09 19:00:08,243 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:08,243 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 37293: starting
2011-08-09 19:00:08,245 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 37293: starting
2011-08-09 19:00:08,245 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 37293: starting
2011-08-09 19:00:08,245 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 37293: starting
2011-08-09 19:00:08,245 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 37293: starting
2011-08-09 19:00:08,245 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 37293: starting
2011-08-09 19:00:08,246 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 37293: starting
2011-08-09 19:00:08,246 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 37293: starting
2011-08-09 19:00:08,246 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 37293: starting
2011-08-09 19:00:08,246 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 37293: starting
2011-08-09 19:00:08,257 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:08,258 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:08,259 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:08,259 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 37298 webServer.getConnectors()[0].getLocalPort() returned 37298
2011-08-09 19:00:08,259 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 37298
2011-08-09 19:00:08,259 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:08,334 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:37298
2011-08-09 19:00:08,335 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:37298
Shutting down the Mini HDFS Cluster
2011-08-09 19:00:08,390 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:08,491 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:08,491 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:08,492 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:08,498 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 37293
2011-08-09 19:00:08,499 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 37293: exiting
2011-08-09 19:00:08,499 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 37293: exiting
2011-08-09 19:00:08,499 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 37293: exiting
2011-08-09 19:00:08,499 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 37293: exiting
2011-08-09 19:00:08,499 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 37293: exiting
2011-08-09 19:00:08,500 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 37293: exiting
2011-08-09 19:00:08,500 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 37293: exiting
2011-08-09 19:00:08,500 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 37293: exiting
2011-08-09 19:00:08,500 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 37293: exiting
2011-08-09 19:00:08,500 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 37293: exiting
2011-08-09 19:00:08,500 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 37293
2011-08-09 19:00:08,502 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:08,502 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:08,502 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 39*** DATA_NODE recovery: numDirs=2 testCase=1 current=true previous=true previous.tmp=false removed.tmp=false
2011-08-09 19:00:08,552 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:08,555 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:08,556 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:08,558 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:08,558 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:08,558 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:08,562 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:08,562 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:08,563 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:08,563 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:08,566 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:08,566 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:08,567 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:08,570 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:08,571 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:08,571 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:08,571 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:08,571 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:08,572 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:08,573 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:08,573 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:08,611 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:08,615 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:08,620 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:08,627 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:08,627 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:08,632 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:08,639 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:08,639 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:08,640 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:08,659 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:08,659 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 97 msecs
2011-08-09 19:00:08,659 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:08,660 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:08,660 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:08,662 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:08,665 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=55757
2011-08-09 19:00:08,665 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:55757
2011-08-09 19:00:08,717 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 55757: starting
2011-08-09 19:00:08,717 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 55757: starting
2011-08-09 19:00:08,718 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:08,718 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 55757: starting
2011-08-09 19:00:08,718 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 55757: starting
2011-08-09 19:00:08,719 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 55757: starting
2011-08-09 19:00:08,719 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 55757: starting
2011-08-09 19:00:08,719 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 55757: starting
2011-08-09 19:00:08,719 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 55757: starting
2011-08-09 19:00:08,719 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 55757: starting
2011-08-09 19:00:08,720 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 55757: starting
2011-08-09 19:00:08,720 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 55757: starting
2011-08-09 19:00:08,727 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:08,729 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:08,729 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:08,729 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 46859 webServer.getConnectors()[0].getLocalPort() returned 46859
2011-08-09 19:00:08,730 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 46859
2011-08-09 19:00:08,730 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:08,767 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:46859
2011-08-09 19:00:08,768 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:46859
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:09,326 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 19:00:09,327 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 37953
2011-08-09 19:00:09,327 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 19:00:09,328 INFO  datanode.DataNode (DataNode.java:startDataNode(359)) - Periodic Block Verification is disabled because verification is turned off by configuration.
2011-08-09 19:00:09,330 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:09,331 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:09,331 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 48632 webServer.getConnectors()[0].getLocalPort() returned 48632
2011-08-09 19:00:09,331 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 48632
2011-08-09 19:00:09,331 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:09,401 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:48632
2011-08-09 19:00:09,402 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 19:00:09,420 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:09,443 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=52057
2011-08-09 19:00:09,444 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:09,446 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 52057: starting
2011-08-09 19:00:09,447 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 52057: starting
2011-08-09 19:00:09,448 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 52057: starting
2011-08-09 19:00:09,448 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:37953, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=48632, ipcPort=52057)
2011-08-09 19:00:09,453 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:37953 storage DS-1061207207-10.0.62.238-35102-1312909180951
2011-08-09 19:00:09,454 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:37953
2011-08-09 19:00:09,455 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 52057: starting
2011-08-09 19:00:09,457 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:37953, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=48632, ipcPort=52057)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/data2/current'}
2011-08-09 19:00:09,459 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 10000msec Initial delay: 0msec
2011-08-09 19:00:09,470 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 19:00:09,471 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:37953 16 blocks shortCircuit first report.
2011-08-09 19:00:09,472 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 19:00:09,476 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 16
2011-08-09 19:00:09,477 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 19:00:09,478 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 1
2011-08-09 19:00:09,478 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 19:00:09,479 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 19:00:09,480 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 19:00:09,480 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 19:00:09,480 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 1 blocks
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 19:00:09,515 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 16 blocks got processed in 20 msecs
2011-08-09 19:00:09,559 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:09,660 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 52057
2011-08-09 19:00:09,660 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 52057: exiting
2011-08-09 19:00:09,660 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 52057: exiting
2011-08-09 19:00:09,661 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 52057: exiting
2011-08-09 19:00:09,661 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 52057
2011-08-09 19:00:09,663 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:09,663 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:37953, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=48632, ipcPort=52057):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 19:00:09,664 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 19:00:09,664 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:37953, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=48632, ipcPort=52057):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/data2/current'}
2011-08-09 19:00:09,665 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 52057
2011-08-09 19:00:09,666 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 19:00:09,666 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 19:00:09,666 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 19:00:09,667 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 19:00:09,687 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:09,788 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:09,788 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:09,789 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:09,796 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 55757
2011-08-09 19:00:09,797 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 55757: exiting
2011-08-09 19:00:09,797 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 55757: exiting
2011-08-09 19:00:09,797 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 55757: exiting
2011-08-09 19:00:09,798 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 55757: exiting
2011-08-09 19:00:09,798 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 55757: exiting
2011-08-09 19:00:09,798 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 55757: exiting
2011-08-09 19:00:09,798 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 55757: exiting
2011-08-09 19:00:09,799 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 55757: exiting
2011-08-09 19:00:09,799 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 55757: exiting
2011-08-09 19:00:09,799 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 55757: exiting
2011-08-09 19:00:09,800 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 55757
2011-08-09 19:00:09,801 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:09,801 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 40*** NAME_NODE recovery: numDirs=2 testCase=2 current=true previous=false previous.tmp=true removed.tmp=false
2011-08-09 19:00:09,802 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:09,855 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:09,858 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:09,858 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:09,859 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:09,859 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:09,859 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:09,864 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:09,864 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:09,865 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:09,865 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:09,868 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:09,868 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:09,869 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:09,872 INFO  common.Storage (Storage.java:doRecover(458)) - Completing previous upgrade for storage directory /home/jeff/hadoop-20-warehouse/build/test/data/name1.
2011-08-09 19:00:09,872 INFO  common.Storage (Storage.java:doRecover(458)) - Completing previous upgrade for storage directory /home/jeff/hadoop-20-warehouse/build/test/data/name2.
2011-08-09 19:00:09,873 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:09,873 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:09,874 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:09,874 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:09,874 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:09,874 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:09,876 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:09,876 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:09,914 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:09,918 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:09,922 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:09,931 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:09,932 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:09,937 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:09,947 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:09,947 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:09,948 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:09,967 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:09,967 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 103 msecs
2011-08-09 19:00:09,968 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:09,968 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:09,969 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:09,971 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:09,974 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=56130
2011-08-09 19:00:09,974 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:56130
2011-08-09 19:00:09,974 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:09,975 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 56130: starting
2011-08-09 19:00:09,975 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 56130: starting
2011-08-09 19:00:09,976 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 56130: starting
2011-08-09 19:00:09,982 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 56130: starting
2011-08-09 19:00:09,983 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 56130: starting
2011-08-09 19:00:09,983 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 56130: starting
2011-08-09 19:00:09,983 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 56130: starting
2011-08-09 19:00:09,983 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 56130: starting
2011-08-09 19:00:09,984 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 56130: starting
2011-08-09 19:00:09,984 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 56130: starting
2011-08-09 19:00:09,984 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 56130: starting
2011-08-09 19:00:10,034 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:10,035 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:10,035 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:10,036 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 50181 webServer.getConnectors()[0].getLocalPort() returned 50181
2011-08-09 19:00:10,036 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 50181
2011-08-09 19:00:10,036 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:10,075 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:50181
2011-08-09 19:00:10,075 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:50181
Shutting down the Mini HDFS Cluster
2011-08-09 19:00:10,077 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:10,178 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:10,178 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:10,178 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:10,185 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 56130
2011-08-09 19:00:10,185 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 56130: exiting
2011-08-09 19:00:10,185 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 56130: exiting
2011-08-09 19:00:10,185 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 56130: exiting
2011-08-09 19:00:10,186 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 56130: exiting
2011-08-09 19:00:10,186 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 56130: exiting
2011-08-09 19:00:10,186 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 56130: exiting
2011-08-09 19:00:10,186 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 56130: exiting
2011-08-09 19:00:10,186 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 56130: exiting
2011-08-09 19:00:10,187 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 56130: exiting
2011-08-09 19:00:10,187 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 56130: exiting
2011-08-09 19:00:10,187 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 56130
2011-08-09 19:00:10,188 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:10,188 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:10,189 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 41*** DATA_NODE recovery: numDirs=2 testCase=2 current=true previous=false previous.tmp=true removed.tmp=false
2011-08-09 19:00:10,339 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:10,343 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:10,344 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:10,344 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:10,344 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:10,344 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:10,357 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:10,357 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:10,357 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:10,358 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:10,361 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:10,361 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:10,362 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:10,365 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:10,366 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:10,366 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:10,366 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:10,367 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:10,367 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:10,368 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:10,368 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:10,407 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:10,412 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:10,417 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:10,428 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:10,428 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:10,433 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:10,434 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:10,438 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:10,439 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:10,458 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:10,458 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 101 msecs
2011-08-09 19:00:10,458 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:10,459 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:10,459 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:10,461 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:10,464 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=43775
2011-08-09 19:00:10,465 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:43775
2011-08-09 19:00:10,465 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:10,465 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 43775: starting
2011-08-09 19:00:10,508 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 43775: starting
2011-08-09 19:00:10,508 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 43775: starting
2011-08-09 19:00:10,508 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 43775: starting
2011-08-09 19:00:10,508 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 43775: starting
2011-08-09 19:00:10,508 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 43775: starting
2011-08-09 19:00:10,508 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 43775: starting
2011-08-09 19:00:10,514 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 43775: starting
2011-08-09 19:00:10,514 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 43775: starting
2011-08-09 19:00:10,514 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 43775: starting
2011-08-09 19:00:10,514 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 43775: starting
2011-08-09 19:00:10,523 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:10,524 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:10,525 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:10,525 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 55487 webServer.getConnectors()[0].getLocalPort() returned 55487
2011-08-09 19:00:10,525 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 55487
2011-08-09 19:00:10,525 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:10,606 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:55487
2011-08-09 19:00:10,606 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:55487
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:10,788 INFO  common.Storage (Storage.java:doRecover(458)) - Completing previous upgrade for storage directory /home/jeff/hadoop-20-warehouse/build/test/data/data1.
2011-08-09 19:00:10,788 INFO  common.Storage (Storage.java:doRecover(458)) - Completing previous upgrade for storage directory /home/jeff/hadoop-20-warehouse/build/test/data/data2.
2011-08-09 19:00:11,092 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 19:00:11,093 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 45821
2011-08-09 19:00:11,094 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 19:00:11,094 INFO  datanode.DataNode (DataNode.java:startDataNode(359)) - Periodic Block Verification is disabled because verification is turned off by configuration.
2011-08-09 19:00:11,097 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:11,098 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:11,098 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 47830 webServer.getConnectors()[0].getLocalPort() returned 47830
2011-08-09 19:00:11,098 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 47830
2011-08-09 19:00:11,098 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:11,196 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:47830
2011-08-09 19:00:11,197 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 19:00:11,202 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:11,204 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=44517
2011-08-09 19:00:11,206 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:11,206 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 44517: starting
2011-08-09 19:00:11,207 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 44517: starting
2011-08-09 19:00:11,207 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 44517: starting
2011-08-09 19:00:11,208 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 44517: starting
2011-08-09 19:00:11,208 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:45821, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=47830, ipcPort=44517)
2011-08-09 19:00:11,211 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:45821 storage DS-1061207207-10.0.62.238-35102-1312909180951
2011-08-09 19:00:11,211 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:45821
2011-08-09 19:00:11,213 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:45821, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=47830, ipcPort=44517)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/data2/current'}
2011-08-09 19:00:11,214 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 10000msec Initial delay: 0msec
2011-08-09 19:00:11,223 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 19:00:11,224 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:45821 16 blocks shortCircuit first report.
2011-08-09 19:00:11,225 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 19:00:11,229 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 16
2011-08-09 19:00:11,229 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 19:00:11,229 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 1
2011-08-09 19:00:11,230 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 19:00:11,231 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 19:00:11,231 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 19:00:11,231 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 19:00:11,231 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 1 blocks
2011-08-09 19:00:11,232 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 16 blocks got processed in 12 msecs
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 19:00:11,360 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:11,461 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 44517
2011-08-09 19:00:11,461 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 44517: exiting
2011-08-09 19:00:11,461 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 44517: exiting
2011-08-09 19:00:11,461 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 44517: exiting
2011-08-09 19:00:11,462 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 44517
2011-08-09 19:00:11,463 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:11,463 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 19:00:11,464 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:45821, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=47830, ipcPort=44517):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 19:00:12,464 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 19:00:12,464 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:45821, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=47830, ipcPort=44517):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/data2/current'}
2011-08-09 19:00:12,466 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 44517
2011-08-09 19:00:12,466 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 19:00:12,467 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 19:00:12,467 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 19:00:12,468 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 19:00:12,521 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:12,622 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:12,622 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:12,623 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:12,633 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 43775
2011-08-09 19:00:12,633 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 43775: exiting
2011-08-09 19:00:12,633 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 43775: exiting
2011-08-09 19:00:12,634 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 43775: exiting
2011-08-09 19:00:12,634 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 43775: exiting
2011-08-09 19:00:12,634 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 43775: exiting
2011-08-09 19:00:12,634 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 43775: exiting
2011-08-09 19:00:12,634 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 43775: exiting
2011-08-09 19:00:12,635 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 43775: exiting
2011-08-09 19:00:12,636 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 43775: exiting
2011-08-09 19:00:12,636 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 43775
2011-08-09 19:00:12,636 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 43775: exiting
2011-08-09 19:00:12,638 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:12,639 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:12,639 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 42*** NAME_NODE recovery: numDirs=2 testCase=3 current=true previous=true previous.tmp=true removed.tmp=true
2011-08-09 19:00:12,751 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:12,755 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:12,756 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:12,756 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:12,756 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:12,756 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:12,762 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:12,763 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:12,763 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:12,763 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:12,766 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:12,766 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:12,767 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:12,770 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 19:00:12,770 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:12,770 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 43*** DATA_NODE recovery: numDirs=2 testCase=3 current=true previous=true previous.tmp=true removed.tmp=true
2011-08-09 19:00:12,847 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:12,850 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:12,850 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:12,850 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:12,850 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:12,851 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:12,858 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:12,858 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:12,858 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:12,858 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:12,862 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:12,862 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:12,862 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:12,866 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:12,866 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:12,866 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:12,867 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:12,867 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:12,867 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:12,869 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:12,869 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:12,943 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:12,977 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:12,982 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:12,992 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:12,992 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:13,002 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:13,002 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:13,010 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:13,010 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:13,029 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:13,029 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 171 msecs
2011-08-09 19:00:13,029 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:13,030 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:13,072 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:13,075 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:13,076 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=56501
2011-08-09 19:00:13,077 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:56501
2011-08-09 19:00:13,077 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:13,077 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 56501: starting
2011-08-09 19:00:13,077 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 56501: starting
2011-08-09 19:00:13,126 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 56501: starting
2011-08-09 19:00:13,126 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 56501: starting
2011-08-09 19:00:13,126 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 56501: starting
2011-08-09 19:00:13,126 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 56501: starting
2011-08-09 19:00:13,127 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 56501: starting
2011-08-09 19:00:13,127 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 56501: starting
2011-08-09 19:00:13,127 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 56501: starting
2011-08-09 19:00:13,127 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 56501: starting
2011-08-09 19:00:13,128 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 56501: starting
2011-08-09 19:00:13,137 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:13,138 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:13,139 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:13,139 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 46866 webServer.getConnectors()[0].getLocalPort() returned 46866
2011-08-09 19:00:13,139 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 46866
2011-08-09 19:00:13,139 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:13,178 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:46866
2011-08-09 19:00:13,179 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:46866
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:13,690 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 19:00:13,781 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:13,882 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:13,883 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:13,882 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:14,052 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 56501
2011-08-09 19:00:14,052 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 56501: exiting
2011-08-09 19:00:14,052 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 56501: exiting
2011-08-09 19:00:14,052 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 56501: exiting
2011-08-09 19:00:14,052 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 56501: exiting
2011-08-09 19:00:14,052 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 56501: exiting
2011-08-09 19:00:14,053 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 56501: exiting
2011-08-09 19:00:14,053 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 56501: exiting
2011-08-09 19:00:14,053 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 56501: exiting
2011-08-09 19:00:14,053 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 56501: exiting
2011-08-09 19:00:14,053 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 56501: exiting
2011-08-09 19:00:14,054 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 56501
2011-08-09 19:00:14,054 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:14,055 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:14,055 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 44*** NAME_NODE recovery: numDirs=2 testCase=4 current=true previous=true previous.tmp=true removed.tmp=false
2011-08-09 19:00:14,124 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:14,128 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:14,128 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:14,128 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:14,128 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:14,129 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:14,135 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:14,135 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:14,135 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:14,135 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:14,139 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:14,140 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:14,140 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:14,143 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: previous and previous.tmp cannot exist together.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:427)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 19:00:14,144 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:14,144 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 45*** DATA_NODE recovery: numDirs=2 testCase=4 current=true previous=true previous.tmp=true removed.tmp=false
2011-08-09 19:00:14,195 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:14,198 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:14,198 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:14,199 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:14,199 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:14,199 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:14,203 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:14,204 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:14,204 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:14,204 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:14,207 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:14,208 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:14,208 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:14,212 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:14,212 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:14,212 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:14,212 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:14,213 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:14,213 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:14,214 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:14,214 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:14,240 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:14,243 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:14,248 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:14,255 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:14,255 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:14,260 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:14,267 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:14,267 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:14,268 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:14,286 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:14,286 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 83 msecs
2011-08-09 19:00:14,287 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:14,287 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:14,288 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:14,289 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:14,292 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=38081
2011-08-09 19:00:14,293 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:38081
2011-08-09 19:00:14,293 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:14,293 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 38081: starting
2011-08-09 19:00:14,294 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 38081: starting
2011-08-09 19:00:14,294 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 38081: starting
2011-08-09 19:00:14,294 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 38081: starting
2011-08-09 19:00:14,335 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 38081: starting
2011-08-09 19:00:14,335 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 38081: starting
2011-08-09 19:00:14,335 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 38081: starting
2011-08-09 19:00:14,335 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 38081: starting
2011-08-09 19:00:14,336 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 38081: starting
2011-08-09 19:00:14,336 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 38081: starting
2011-08-09 19:00:14,336 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 38081: starting
2011-08-09 19:00:14,348 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:14,349 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:14,349 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:14,350 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 43526 webServer.getConnectors()[0].getLocalPort() returned 43526
2011-08-09 19:00:14,350 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 43526
2011-08-09 19:00:14,350 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:14,385 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:43526
2011-08-09 19:00:14,385 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:43526
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:14,749 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: previous and previous.tmp cannot exist together.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:427)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 19:00:14,821 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:14,923 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:14,923 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:14,924 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:15,040 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 38081
2011-08-09 19:00:15,041 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 38081: exiting
2011-08-09 19:00:15,041 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 38081: exiting
2011-08-09 19:00:15,041 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 38081: exiting
2011-08-09 19:00:15,041 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 38081: exiting
2011-08-09 19:00:15,041 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 38081: exiting
2011-08-09 19:00:15,042 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 38081: exiting
2011-08-09 19:00:15,042 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 38081: exiting
2011-08-09 19:00:15,042 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 38081: exiting
2011-08-09 19:00:15,042 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 38081: exiting
2011-08-09 19:00:15,042 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 38081: exiting
2011-08-09 19:00:15,043 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 38081
2011-08-09 19:00:15,043 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:15,043 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:15,043 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 46*** NAME_NODE recovery: numDirs=2 testCase=5 current=false previous=true previous.tmp=true removed.tmp=true
2011-08-09 19:00:15,123 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:15,126 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:15,127 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:15,127 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:15,127 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:15,127 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:15,132 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:15,132 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:15,132 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:15,132 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:15,136 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:15,136 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:15,136 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:15,139 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 19:00:15,139 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:15,139 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 47*** DATA_NODE recovery: numDirs=2 testCase=5 current=false previous=true previous.tmp=true removed.tmp=true
2011-08-09 19:00:15,186 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:15,191 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:15,191 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:15,191 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:15,191 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:15,191 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:15,196 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:15,196 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:15,197 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:15,197 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:15,200 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:15,200 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:15,201 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:15,204 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:15,204 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:15,204 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:15,205 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:15,205 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:15,205 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:15,206 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:15,206 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:15,230 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:15,233 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:15,239 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:15,239 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:15,244 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:15,256 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:15,256 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:15,260 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:15,260 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:15,277 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:15,277 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 81 msecs
2011-08-09 19:00:15,277 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:15,277 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:15,319 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:15,320 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:15,323 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=34110
2011-08-09 19:00:15,324 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:34110
2011-08-09 19:00:15,324 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:15,324 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 34110: starting
2011-08-09 19:00:15,325 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 34110: starting
2011-08-09 19:00:15,325 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 34110: starting
2011-08-09 19:00:15,325 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 34110: starting
2011-08-09 19:00:15,368 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 34110: starting
2011-08-09 19:00:15,368 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 34110: starting
2011-08-09 19:00:15,368 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 34110: starting
2011-08-09 19:00:15,369 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 34110: starting
2011-08-09 19:00:15,369 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 34110: starting
2011-08-09 19:00:15,369 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 34110: starting
2011-08-09 19:00:15,369 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 34110: starting
2011-08-09 19:00:15,376 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:15,377 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:15,378 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:15,378 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 43150 webServer.getConnectors()[0].getLocalPort() returned 43150
2011-08-09 19:00:15,378 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 43150
2011-08-09 19:00:15,378 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:15,412 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:43150
2011-08-09 19:00:15,412 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:43150
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:15,666 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 19:00:15,709 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:15,810 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:15,811 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:15,812 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:15,933 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 34110
2011-08-09 19:00:15,933 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 34110: exiting
2011-08-09 19:00:15,933 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 34110: exiting
2011-08-09 19:00:15,933 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 34110: exiting
2011-08-09 19:00:15,934 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 34110: exiting
2011-08-09 19:00:15,934 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 34110: exiting
2011-08-09 19:00:15,934 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 34110: exiting
2011-08-09 19:00:15,934 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 34110: exiting
2011-08-09 19:00:15,934 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 34110: exiting
2011-08-09 19:00:15,934 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 34110: exiting
2011-08-09 19:00:15,935 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 34110: exiting
2011-08-09 19:00:15,935 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 34110
2011-08-09 19:00:15,935 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:15,935 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:15,936 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 48*** NAME_NODE recovery: numDirs=2 testCase=6 current=false previous=true previous.tmp=true removed.tmp=false
2011-08-09 19:00:16,003 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:16,007 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:16,007 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:16,007 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:16,007 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:16,007 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:16,011 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:16,012 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:16,115 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:16,115 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:16,118 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:16,118 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:16,119 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:16,121 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: previous and previous.tmp cannot exist together.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:427)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 19:00:16,122 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:16,122 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 49*** DATA_NODE recovery: numDirs=2 testCase=6 current=false previous=true previous.tmp=true removed.tmp=false
2011-08-09 19:00:16,169 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:16,172 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:16,172 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:16,172 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:16,172 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:16,173 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:16,176 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:16,176 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:16,177 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:16,177 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:16,180 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:16,180 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:16,180 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:16,184 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:16,184 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:16,184 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:16,185 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:16,185 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:16,196 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:16,197 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:16,197 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:16,229 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:16,243 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:16,252 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:16,253 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:16,261 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:16,273 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:16,273 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:16,277 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:16,278 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:16,339 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:16,339 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 163 msecs
2011-08-09 19:00:16,339 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:16,340 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:16,382 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:16,383 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:16,386 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=48123
2011-08-09 19:00:16,386 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:48123
2011-08-09 19:00:16,387 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:16,418 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 48123: starting
2011-08-09 19:00:16,418 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 48123: starting
2011-08-09 19:00:16,418 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 48123: starting
2011-08-09 19:00:16,419 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 48123: starting
2011-08-09 19:00:16,419 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 48123: starting
2011-08-09 19:00:16,419 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 48123: starting
2011-08-09 19:00:16,419 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 48123: starting
2011-08-09 19:00:16,419 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 48123: starting
2011-08-09 19:00:16,420 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 48123: starting
2011-08-09 19:00:16,420 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 48123: starting
2011-08-09 19:00:16,421 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 48123: starting
2011-08-09 19:00:16,448 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:16,449 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:16,450 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:16,450 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 54212 webServer.getConnectors()[0].getLocalPort() returned 54212
2011-08-09 19:00:16,450 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 54212
2011-08-09 19:00:16,450 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:16,489 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:54212
2011-08-09 19:00:16,489 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:54212
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:16,668 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: previous and previous.tmp cannot exist together.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:427)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 19:00:16,669 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:16,670 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:16,671 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:16,671 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:16,754 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 48123
2011-08-09 19:00:16,755 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 48123: exiting
2011-08-09 19:00:16,755 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 48123: exiting
2011-08-09 19:00:16,755 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 48123: exiting
2011-08-09 19:00:16,755 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 48123: exiting
2011-08-09 19:00:16,755 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 48123: exiting
2011-08-09 19:00:16,755 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 48123: exiting
2011-08-09 19:00:16,756 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 48123: exiting
2011-08-09 19:00:16,756 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 48123: exiting
2011-08-09 19:00:16,756 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 48123: exiting
2011-08-09 19:00:16,756 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 48123: exiting
2011-08-09 19:00:16,756 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 48123
2011-08-09 19:00:16,757 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:16,757 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:16,758 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 50*** NAME_NODE recovery: numDirs=2 testCase=7 current=false previous=false previous.tmp=false removed.tmp=false
2011-08-09 19:00:16,759 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:16,762 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:16,762 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:16,762 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:16,762 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:16,763 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:16,768 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:16,768 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:16,768 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:16,768 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:16,771 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:16,771 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:16,772 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:16,775 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
java.io.IOException: NameNode is not formatted.
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:410)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 19:00:16,775 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:16,775 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 51*** DATA_NODE recovery: numDirs=2 testCase=7 current=false previous=false previous.tmp=false removed.tmp=false
2011-08-09 19:00:16,826 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:16,829 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:16,829 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:16,829 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:16,829 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:16,829 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:16,835 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:16,835 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:16,835 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:16,835 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:16,839 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:16,839 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:16,840 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:16,843 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:16,843 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:16,844 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:16,844 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:16,844 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:16,844 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:16,845 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:16,845 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:16,874 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:16,979 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:16,984 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:16,991 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:16,991 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:16,996 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:17,004 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:17,004 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:17,005 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:17,024 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:17,024 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 189 msecs
2011-08-09 19:00:17,024 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:17,024 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:17,060 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:17,061 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:17,065 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=33882
2011-08-09 19:00:17,065 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:33882
2011-08-09 19:00:17,065 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:17,066 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 33882: starting
2011-08-09 19:00:17,066 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 33882: starting
2011-08-09 19:00:17,066 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 33882: starting
2011-08-09 19:00:17,066 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 33882: starting
2011-08-09 19:00:17,066 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 33882: starting
2011-08-09 19:00:17,067 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 33882: starting
2011-08-09 19:00:17,087 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 33882: starting
2011-08-09 19:00:17,088 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 33882: starting
2011-08-09 19:00:17,088 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 33882: starting
2011-08-09 19:00:17,088 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 33882: starting
2011-08-09 19:00:17,089 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 33882: starting
2011-08-09 19:00:17,126 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:17,127 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:17,127 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:17,128 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 37770 webServer.getConnectors()[0].getLocalPort() returned 37770
2011-08-09 19:00:17,128 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 37770
2011-08-09 19:00:17,128 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:17,164 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:37770
2011-08-09 19:00:17,164 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:37770
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:17,175 INFO  common.Storage (DataStorage.java:recoverTransitionRead(124)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is not formatted.
2011-08-09 19:00:17,176 INFO  common.Storage (DataStorage.java:recoverTransitionRead(125)) - Formatting ...
2011-08-09 19:00:17,193 INFO  common.Storage (DataStorage.java:recoverTransitionRead(124)) - Storage directory /home/jeff/hadoop-20-warehouse/build/test/data/data2 is not formatted.
2011-08-09 19:00:17,193 INFO  common.Storage (DataStorage.java:recoverTransitionRead(125)) - Formatting ...
2011-08-09 19:00:17,399 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 19:00:17,400 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 45810
2011-08-09 19:00:17,401 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 19:00:17,401 INFO  datanode.DataNode (DataNode.java:startDataNode(359)) - Periodic Block Verification is disabled because verification is turned off by configuration.
2011-08-09 19:00:17,403 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:17,404 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:17,404 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 39120 webServer.getConnectors()[0].getLocalPort() returned 39120
2011-08-09 19:00:17,405 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 39120
2011-08-09 19:00:17,405 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:17,491 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:39120
2011-08-09 19:00:17,491 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 19:00:17,507 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:17,510 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=39456
2011-08-09 19:00:17,511 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:17,512 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 39456: starting
2011-08-09 19:00:17,512 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 39456: starting
2011-08-09 19:00:17,513 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 39456: starting
2011-08-09 19:00:17,514 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 39456: starting
2011-08-09 19:00:17,513 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:45810, storageID=, infoPort=39120, ipcPort=39456)
2011-08-09 19:00:17,519 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:45810 storage DS-1368234378-10.0.62.238-45810-1312909217517
2011-08-09 19:00:17,520 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:45810
2011-08-09 19:00:17,526 INFO  datanode.DataNode (DataNode.java:register(592)) - New storage id DS-1368234378-10.0.62.238-45810-1312909217517 is assigned to data-node 127.0.0.1:45810
2011-08-09 19:00:17,527 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:45810, storageID=DS-1368234378-10.0.62.238-45810-1312909217517, infoPort=39120, ipcPort=39456)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/data2/current'}
2011-08-09 19:00:17,528 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 10000msec Initial delay: 0msec
2011-08-09 19:00:17,560 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 19:00:17,562 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:45810 0 blocks shortCircuit first report.
2011-08-09 19:00:17,563 INFO  namenode.FSNamesystem (FSNamesystem.java:processReport(3715)) - BLOCK* NameSystem.processReport:1 data nodes reporting, 0/16 blocks safe (0.0)
2011-08-09 19:00:17,579 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 0 blocks got processed in 19 msecs
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 19:00:17,614 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:17,714 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 39456
2011-08-09 19:00:17,715 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 39456
2011-08-09 19:00:17,715 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 39456: exiting
2011-08-09 19:00:17,715 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 39456: exiting
2011-08-09 19:00:17,715 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 39456: exiting
2011-08-09 19:00:17,716 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:17,716 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 19:00:17,717 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:45810, storageID=DS-1368234378-10.0.62.238-45810-1312909217517, infoPort=39120, ipcPort=39456):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 19:00:18,717 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 19:00:18,717 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:45810, storageID=DS-1368234378-10.0.62.238-45810-1312909217517, infoPort=39120, ipcPort=39456):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/data2/current'}
2011-08-09 19:00:18,718 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 39456
2011-08-09 19:00:18,719 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 19:00:18,719 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 19:00:18,720 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 19:00:18,721 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 19:00:18,776 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:18,778 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:18,778 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:18,778 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:18,785 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 33882
2011-08-09 19:00:18,785 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 33882: exiting
2011-08-09 19:00:18,786 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 33882: exiting
2011-08-09 19:00:18,786 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 33882: exiting
2011-08-09 19:00:18,786 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 33882: exiting
2011-08-09 19:00:18,786 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 33882: exiting
2011-08-09 19:00:18,786 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 33882: exiting
2011-08-09 19:00:18,787 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 33882: exiting
2011-08-09 19:00:18,787 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 33882: exiting
2011-08-09 19:00:18,788 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 33882: exiting
2011-08-09 19:00:18,788 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 33882
2011-08-09 19:00:18,788 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 33882: exiting
2011-08-09 19:00:18,789 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:18,789 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 52*** NAME_NODE recovery: numDirs=2 testCase=8 current=false previous=true previous.tmp=false removed.tmp=false
2011-08-09 19:00:18,789 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:18,818 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:18,821 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:18,822 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:18,822 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:18,822 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:18,822 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:18,828 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:18,828 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:18,829 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:18,829 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:18,833 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:18,833 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:18,834 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:18,837 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: version file in current directory is missing.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:400)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 19:00:18,838 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:18,838 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 53*** DATA_NODE recovery: numDirs=2 testCase=8 current=false previous=true previous.tmp=false removed.tmp=false
2011-08-09 19:00:18,884 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:18,887 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:18,887 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:18,887 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:18,887 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:18,887 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:18,892 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:18,892 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:18,893 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:18,893 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:18,896 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:18,896 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:18,897 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:18,900 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:18,900 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:18,901 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:18,901 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:18,901 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:18,902 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:18,903 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:18,903 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:18,943 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:18,948 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:18,952 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:18,959 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:18,959 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:18,963 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:18,971 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:18,971 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:18,972 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:18,991 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:18,991 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 99 msecs
2011-08-09 19:00:18,992 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:18,992 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:19,034 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:19,035 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:19,038 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=38931
2011-08-09 19:00:19,038 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:38931
2011-08-09 19:00:19,039 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:19,039 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 38931: starting
2011-08-09 19:00:19,039 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 38931: starting
2011-08-09 19:00:19,039 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 38931: starting
2011-08-09 19:00:19,040 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 38931: starting
2011-08-09 19:00:19,040 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 38931: starting
2011-08-09 19:00:19,040 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 38931: starting
2011-08-09 19:00:19,040 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 38931: starting
2011-08-09 19:00:19,040 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 38931: starting
2011-08-09 19:00:19,041 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 38931: starting
2011-08-09 19:00:19,041 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 38931: starting
2011-08-09 19:00:19,041 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 38931: starting
2011-08-09 19:00:19,097 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:19,099 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:19,100 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:19,100 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 38595 webServer.getConnectors()[0].getLocalPort() returned 38595
2011-08-09 19:00:19,100 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 38595
2011-08-09 19:00:19,100 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:19,193 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:38595
2011-08-09 19:00:19,194 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:38595
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:19,287 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: version file in current directory is missing.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:400)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 19:00:19,335 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:19,435 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:19,436 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:19,435 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:19,482 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 38931
2011-08-09 19:00:19,482 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 38931: exiting
2011-08-09 19:00:19,483 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 38931: exiting
2011-08-09 19:00:19,483 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 38931: exiting
2011-08-09 19:00:19,483 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 38931: exiting
2011-08-09 19:00:19,483 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 38931: exiting
2011-08-09 19:00:19,483 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 38931: exiting
2011-08-09 19:00:19,483 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 38931: exiting
2011-08-09 19:00:19,484 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 38931: exiting
2011-08-09 19:00:19,484 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 38931: exiting
2011-08-09 19:00:19,484 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 38931: exiting
2011-08-09 19:00:19,484 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 38931
2011-08-09 19:00:19,485 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:19,485 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:19,485 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 54*** NAME_NODE recovery: numDirs=2 testCase=9 current=false previous=false previous.tmp=true removed.tmp=false
2011-08-09 19:00:19,512 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:19,515 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:19,515 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:19,515 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:19,516 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:19,516 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:19,519 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:19,520 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:19,520 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:19,520 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:19,523 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:19,524 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:19,524 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:19,527 INFO  common.Storage (Storage.java:doRecover(463)) - Recovering storage directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 from previous upgrade.
2011-08-09 19:00:19,527 INFO  common.Storage (Storage.java:doRecover(463)) - Recovering storage directory /home/jeff/hadoop-20-warehouse/build/test/data/name2 from previous upgrade.
2011-08-09 19:00:19,528 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:19,528 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:19,528 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:19,528 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:19,672 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:19,672 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:19,673 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:19,673 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:19,683 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:19,688 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:19,695 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:19,695 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:19,699 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:19,707 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:19,707 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:19,711 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:19,712 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:19,730 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:19,730 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 211 msecs
2011-08-09 19:00:19,730 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:19,730 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:19,776 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:19,778 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:19,780 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=50127
2011-08-09 19:00:19,780 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:50127
2011-08-09 19:00:19,781 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:19,781 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 50127: starting
2011-08-09 19:00:19,781 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 50127: starting
2011-08-09 19:00:19,781 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 50127: starting
2011-08-09 19:00:19,782 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 50127: starting
2011-08-09 19:00:19,782 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 50127: starting
2011-08-09 19:00:19,782 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 50127: starting
2011-08-09 19:00:19,796 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 50127: starting
2011-08-09 19:00:19,796 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 50127: starting
2011-08-09 19:00:19,796 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 50127: starting
2011-08-09 19:00:19,796 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 50127: starting
2011-08-09 19:00:19,797 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 50127: starting
2011-08-09 19:00:19,804 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:19,805 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:19,806 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:19,806 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 38189 webServer.getConnectors()[0].getLocalPort() returned 38189
2011-08-09 19:00:19,806 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 38189
2011-08-09 19:00:19,807 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:19,841 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:38189
2011-08-09 19:00:19,841 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:38189
Shutting down the Mini HDFS Cluster
2011-08-09 19:00:19,895 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:19,996 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:19,996 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:19,997 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:20,003 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 50127
2011-08-09 19:00:20,003 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 50127: exiting
2011-08-09 19:00:20,003 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 50127: exiting
2011-08-09 19:00:20,004 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 50127: exiting
2011-08-09 19:00:20,004 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 50127: exiting
2011-08-09 19:00:20,004 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 50127: exiting
2011-08-09 19:00:20,004 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 50127: exiting
2011-08-09 19:00:20,004 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 50127: exiting
2011-08-09 19:00:20,004 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 50127: exiting
2011-08-09 19:00:20,005 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 50127: exiting
2011-08-09 19:00:20,005 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 50127: exiting
2011-08-09 19:00:20,005 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 50127
2011-08-09 19:00:20,006 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:20,006 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:20,006 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 55*** DATA_NODE recovery: numDirs=2 testCase=9 current=false previous=false previous.tmp=true removed.tmp=false
2011-08-09 19:00:20,053 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:20,056 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:20,056 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:20,056 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:20,057 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:20,057 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:20,062 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:20,062 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:20,062 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:20,062 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:20,065 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:20,066 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:20,066 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:20,069 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:20,070 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:20,070 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:20,070 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:20,070 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:20,070 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:20,071 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:20,071 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:20,096 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:20,099 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:20,139 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:20,139 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:20,143 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:20,151 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:20,151 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:20,155 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:20,155 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:20,174 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:20,174 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 112 msecs
2011-08-09 19:00:20,174 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:20,174 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:20,175 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:20,177 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:20,179 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=42695
2011-08-09 19:00:20,179 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:42695
2011-08-09 19:00:20,180 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:20,180 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 42695: starting
2011-08-09 19:00:20,180 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 42695: starting
2011-08-09 19:00:20,180 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 42695: starting
2011-08-09 19:00:20,181 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 42695: starting
2011-08-09 19:00:20,181 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 42695: starting
2011-08-09 19:00:20,181 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 42695: starting
2011-08-09 19:00:20,181 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 42695: starting
2011-08-09 19:00:20,181 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 42695: starting
2011-08-09 19:00:20,182 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 42695: starting
2011-08-09 19:00:20,182 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 42695: starting
2011-08-09 19:00:20,182 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 42695: starting
2011-08-09 19:00:20,233 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:20,234 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:20,235 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:20,235 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 33062 webServer.getConnectors()[0].getLocalPort() returned 33062
2011-08-09 19:00:20,235 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 33062
2011-08-09 19:00:20,235 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:20,274 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:33062
2011-08-09 19:00:20,275 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:33062
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:20,370 INFO  common.Storage (Storage.java:doRecover(463)) - Recovering storage directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 from previous upgrade.
2011-08-09 19:00:20,371 INFO  common.Storage (Storage.java:doRecover(463)) - Recovering storage directory /home/jeff/hadoop-20-warehouse/build/test/data/data2 from previous upgrade.
2011-08-09 19:00:20,633 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 19:00:20,634 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 56469
2011-08-09 19:00:20,635 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 19:00:20,635 INFO  datanode.DataNode (DataNode.java:startDataNode(359)) - Periodic Block Verification is disabled because verification is turned off by configuration.
2011-08-09 19:00:20,637 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:20,638 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:20,638 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 44497 webServer.getConnectors()[0].getLocalPort() returned 44497
2011-08-09 19:00:20,638 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 44497
2011-08-09 19:00:20,639 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:20,705 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:44497
2011-08-09 19:00:20,705 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 19:00:20,710 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:20,712 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=42484
2011-08-09 19:00:20,714 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:20,714 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 42484: starting
2011-08-09 19:00:20,715 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 42484: starting
2011-08-09 19:00:20,715 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 42484: starting
2011-08-09 19:00:20,716 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 42484: starting
2011-08-09 19:00:20,715 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:56469, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=44497, ipcPort=42484)
2011-08-09 19:00:20,719 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:56469 storage DS-1061207207-10.0.62.238-35102-1312909180951
2011-08-09 19:00:20,720 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:56469
2011-08-09 19:00:20,721 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:56469, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=44497, ipcPort=42484)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/data2/current'}
2011-08-09 19:00:20,722 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 10000msec Initial delay: 0msec
2011-08-09 19:00:20,746 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 19:00:20,747 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:56469 16 blocks shortCircuit first report.
2011-08-09 19:00:20,748 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
2011-08-09 19:00:20,751 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 16
2011-08-09 19:00:20,751 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 19:00:20,752 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 1
2011-08-09 19:00:20,752 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 19:00:20,753 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 19:00:20,753 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 19:00:20,753 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 19:00:20,754 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 1 blocks
2011-08-09 19:00:20,755 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 16 blocks got processed in 28 msecs
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 19:00:20,758 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:20,758 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 42484
2011-08-09 19:00:20,759 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 42484: exiting
2011-08-09 19:00:20,759 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 42484: exiting
2011-08-09 19:00:20,759 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 42484: exiting
2011-08-09 19:00:20,759 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 42484
2011-08-09 19:00:20,760 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:20,760 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 19:00:20,761 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:56469, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=44497, ipcPort=42484):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 19:00:21,761 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 19:00:21,762 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:56469, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=44497, ipcPort=42484):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/data2/current'}
2011-08-09 19:00:21,763 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 42484
2011-08-09 19:00:21,764 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 19:00:21,764 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 19:00:21,765 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 19:00:21,765 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 19:00:21,767 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:21,868 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:21,869 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:21,869 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:21,876 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 42695
2011-08-09 19:00:21,877 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 42695: exiting
2011-08-09 19:00:21,877 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 42695: exiting
2011-08-09 19:00:21,877 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 42695: exiting
2011-08-09 19:00:21,878 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 42695: exiting
2011-08-09 19:00:21,878 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 42695: exiting
2011-08-09 19:00:21,878 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 42695: exiting
2011-08-09 19:00:21,879 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 42695
2011-08-09 19:00:21,880 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:21,878 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 42695: exiting
2011-08-09 19:00:21,878 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 42695: exiting
2011-08-09 19:00:21,877 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 42695: exiting
2011-08-09 19:00:21,880 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 42695: exiting
2011-08-09 19:00:21,880 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:21,881 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 56*** NAME_NODE recovery: numDirs=2 testCase=10 current=true previous=false previous.tmp=false removed.tmp=true
2011-08-09 19:00:21,932 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:21,934 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:21,935 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:21,935 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:21,935 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:21,935 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:21,940 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:21,941 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:21,941 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:21,941 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:21,944 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:21,944 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:21,945 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:21,948 INFO  common.Storage (Storage.java:doRecover(470)) - Completing previous rollback for storage directory /home/jeff/hadoop-20-warehouse/build/test/data/name1.
2011-08-09 19:00:21,948 INFO  common.Storage (Storage.java:doRecover(470)) - Completing previous rollback for storage directory /home/jeff/hadoop-20-warehouse/build/test/data/name2.
2011-08-09 19:00:21,949 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:21,950 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:21,950 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:21,950 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:21,950 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:21,950 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:21,952 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:21,952 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:22,126 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:22,132 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:22,139 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:22,140 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:22,143 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:22,148 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:22,149 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:22,156 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:22,156 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:22,176 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:22,176 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 236 msecs
2011-08-09 19:00:22,176 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:22,176 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:22,177 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:22,179 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:22,181 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=53594
2011-08-09 19:00:22,182 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:53594
2011-08-09 19:00:22,182 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:22,182 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 53594: starting
2011-08-09 19:00:22,183 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 53594: starting
2011-08-09 19:00:22,183 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 53594: starting
2011-08-09 19:00:22,183 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 53594: starting
2011-08-09 19:00:22,183 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 53594: starting
2011-08-09 19:00:22,183 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 53594: starting
2011-08-09 19:00:22,184 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 53594: starting
2011-08-09 19:00:22,184 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 53594: starting
2011-08-09 19:00:22,184 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 53594: starting
2011-08-09 19:00:22,184 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 53594: starting
2011-08-09 19:00:22,185 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 53594: starting
2011-08-09 19:00:22,200 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:22,201 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:22,201 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:22,202 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 52345 webServer.getConnectors()[0].getLocalPort() returned 52345
2011-08-09 19:00:22,202 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 52345
2011-08-09 19:00:22,202 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:22,239 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:52345
2011-08-09 19:00:22,239 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:52345
Shutting down the Mini HDFS Cluster
2011-08-09 19:00:22,284 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:22,385 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:22,385 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:22,386 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:22,393 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 53594
2011-08-09 19:00:22,393 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 53594: exiting
2011-08-09 19:00:22,394 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 53594: exiting
2011-08-09 19:00:22,394 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 53594: exiting
2011-08-09 19:00:22,394 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 53594: exiting
2011-08-09 19:00:22,394 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 53594: exiting
2011-08-09 19:00:22,394 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 53594: exiting
2011-08-09 19:00:22,395 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 53594: exiting
2011-08-09 19:00:22,395 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 53594: exiting
2011-08-09 19:00:22,395 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 53594: exiting
2011-08-09 19:00:22,395 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 53594: exiting
2011-08-09 19:00:22,396 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 53594
2011-08-09 19:00:22,396 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:22,396 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:22,396 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 57*** DATA_NODE recovery: numDirs=2 testCase=10 current=true previous=false previous.tmp=false removed.tmp=true
2011-08-09 19:00:22,462 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:22,465 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:22,466 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:22,467 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:22,467 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:22,467 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:22,475 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:22,475 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:22,476 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:22,476 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:22,479 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:22,479 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:22,479 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:22,483 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:22,483 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:22,483 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:22,483 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:22,484 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:22,484 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:22,485 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:22,485 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:22,522 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:22,527 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:22,532 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:22,539 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:22,539 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:22,547 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:22,548 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:22,552 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:22,552 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:22,572 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:22,572 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 97 msecs
2011-08-09 19:00:22,572 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:22,572 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:22,573 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:22,574 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:22,577 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=39326
2011-08-09 19:00:22,577 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:39326
2011-08-09 19:00:22,578 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:22,578 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 39326: starting
2011-08-09 19:00:22,578 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 39326: starting
2011-08-09 19:00:22,578 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 39326: starting
2011-08-09 19:00:22,578 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 39326: starting
2011-08-09 19:00:22,579 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 39326: starting
2011-08-09 19:00:22,579 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 39326: starting
2011-08-09 19:00:22,579 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 39326: starting
2011-08-09 19:00:22,579 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 39326: starting
2011-08-09 19:00:22,579 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 39326: starting
2011-08-09 19:00:22,579 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 39326: starting
2011-08-09 19:00:22,580 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 39326: starting
2011-08-09 19:00:22,587 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:22,588 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:22,588 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:22,589 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 51477 webServer.getConnectors()[0].getLocalPort() returned 51477
2011-08-09 19:00:22,589 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 51477
2011-08-09 19:00:22,677 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:22,713 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:51477
2011-08-09 19:00:22,713 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:51477
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:22,882 INFO  common.Storage (Storage.java:doRecover(470)) - Completing previous rollback for storage directory /home/jeff/hadoop-20-warehouse/build/test/data/data1.
2011-08-09 19:00:22,884 INFO  common.Storage (Storage.java:doRecover(470)) - Completing previous rollback for storage directory /home/jeff/hadoop-20-warehouse/build/test/data/data2.
2011-08-09 19:00:23,122 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 19:00:23,123 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 34044
2011-08-09 19:00:23,124 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 19:00:23,124 INFO  datanode.DataNode (DataNode.java:startDataNode(359)) - Periodic Block Verification is disabled because verification is turned off by configuration.
2011-08-09 19:00:23,127 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:23,127 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:23,127 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 58777 webServer.getConnectors()[0].getLocalPort() returned 58777
2011-08-09 19:00:23,128 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 58777
2011-08-09 19:00:23,128 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:23,184 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:58777
2011-08-09 19:00:23,185 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 19:00:23,189 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:23,191 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=48011
2011-08-09 19:00:23,192 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:23,193 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 48011: starting
2011-08-09 19:00:23,193 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 48011: starting
2011-08-09 19:00:23,194 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 48011: starting
2011-08-09 19:00:23,194 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:34044, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=58777, ipcPort=48011)
2011-08-09 19:00:23,194 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 48011: starting
2011-08-09 19:00:23,197 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:34044 storage DS-1061207207-10.0.62.238-35102-1312909180951
2011-08-09 19:00:23,197 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:34044
2011-08-09 19:00:23,199 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:34044, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=58777, ipcPort=48011)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/data2/current'}
2011-08-09 19:00:23,200 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 10000msec Initial delay: 0msec
2011-08-09 19:00:23,253 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 19:00:23,255 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:34044 16 blocks shortCircuit first report.
2011-08-09 19:00:23,256 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 19:00:23,260 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 16
2011-08-09 19:00:23,260 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 19:00:23,261 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 1
2011-08-09 19:00:23,261 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 19:00:23,263 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 19:00:23,263 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 19:00:23,264 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 19:00:23,264 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 1 blocks
2011-08-09 19:00:23,264 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:23,265 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 16 blocks got processed in 59 msecs
2011-08-09 19:00:23,265 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 48011
2011-08-09 19:00:23,266 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 48011: exiting
2011-08-09 19:00:23,266 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 48011: exiting
2011-08-09 19:00:23,266 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 48011
2011-08-09 19:00:23,267 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 48011: exiting
2011-08-09 19:00:23,268 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:34044, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=58777, ipcPort=48011):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 19:00:23,267 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 19:00:23,267 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:23,270 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:34044, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=58777, ipcPort=48011):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/data2/current'}
2011-08-09 19:00:23,270 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 48011
2011-08-09 19:00:23,270 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 19:00:23,271 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 19:00:23,271 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 19:00:23,272 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 19:00:23,274 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:23,275 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:23,276 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:23,277 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:23,284 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 39326
2011-08-09 19:00:23,287 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 39326: exiting
2011-08-09 19:00:23,288 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 39326: exiting
2011-08-09 19:00:23,288 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 39326: exiting
2011-08-09 19:00:23,288 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 39326: exiting
2011-08-09 19:00:23,289 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 39326: exiting
2011-08-09 19:00:23,289 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 39326: exiting
2011-08-09 19:00:23,289 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 39326: exiting
2011-08-09 19:00:23,289 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 39326: exiting
2011-08-09 19:00:23,289 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 39326: exiting
2011-08-09 19:00:23,290 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 39326: exiting
2011-08-09 19:00:23,290 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 39326
2011-08-09 19:00:23,291 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:23,291 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:23,291 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 58*** NAME_NODE recovery: numDirs=2 testCase=11 current=true previous=true previous.tmp=false removed.tmp=true
2011-08-09 19:00:23,369 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:23,373 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:23,373 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:23,374 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:23,374 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:23,374 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:23,379 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:23,380 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:23,380 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:23,380 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:23,384 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:23,384 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:23,384 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:23,387 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: one and only one directory current or previous must be present when removed.tmp exists.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:437)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 19:00:23,388 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:23,388 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 59*** DATA_NODE recovery: numDirs=2 testCase=11 current=true previous=true previous.tmp=false removed.tmp=true
2011-08-09 19:00:23,436 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:23,440 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:23,440 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:23,440 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:23,440 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:23,440 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:23,445 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:23,446 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:23,446 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:23,446 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:23,449 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:23,449 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:23,449 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:23,453 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:23,453 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:23,453 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:23,454 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:23,454 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:23,454 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:23,455 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:23,455 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:23,469 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:23,497 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:23,502 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:23,503 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:23,507 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:23,513 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:23,513 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:23,520 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:23,520 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:23,539 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:23,539 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 94 msecs
2011-08-09 19:00:23,540 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:23,540 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:23,541 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:23,542 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:23,545 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=57599
2011-08-09 19:00:23,546 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:57599
2011-08-09 19:00:23,546 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:23,546 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 57599: starting
2011-08-09 19:00:23,547 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 57599: starting
2011-08-09 19:00:23,547 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 57599: starting
2011-08-09 19:00:23,547 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 57599: starting
2011-08-09 19:00:23,547 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 57599: starting
2011-08-09 19:00:23,547 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 57599: starting
2011-08-09 19:00:23,548 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 57599: starting
2011-08-09 19:00:23,548 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 57599: starting
2011-08-09 19:00:23,548 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 57599: starting
2011-08-09 19:00:23,548 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 57599: starting
2011-08-09 19:00:23,549 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 57599: starting
2011-08-09 19:00:23,555 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:23,557 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:23,557 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:23,557 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 39637 webServer.getConnectors()[0].getLocalPort() returned 39637
2011-08-09 19:00:23,558 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 39637
2011-08-09 19:00:23,558 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:23,602 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:39637
2011-08-09 19:00:23,602 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:39637
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:23,853 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: one and only one directory current or previous must be present when removed.tmp exists.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:437)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 19:00:23,870 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:23,870 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:23,871 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:23,870 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:24,019 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 57599
2011-08-09 19:00:24,020 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 57599: exiting
2011-08-09 19:00:24,020 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 57599: exiting
2011-08-09 19:00:24,020 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 57599: exiting
2011-08-09 19:00:24,020 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 57599: exiting
2011-08-09 19:00:24,021 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 57599: exiting
2011-08-09 19:00:24,021 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 57599: exiting
2011-08-09 19:00:24,021 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 57599: exiting
2011-08-09 19:00:24,021 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 57599: exiting
2011-08-09 19:00:24,021 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 57599: exiting
2011-08-09 19:00:24,021 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 57599: exiting
2011-08-09 19:00:24,022 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 57599
2011-08-09 19:00:24,022 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:24,022 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:24,023 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 60*** NAME_NODE recovery: numDirs=2 testCase=12 current=true previous=true previous.tmp=true removed.tmp=true
2011-08-09 19:00:24,129 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:24,132 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:24,132 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:24,132 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:24,133 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:24,133 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:24,138 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:24,138 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:24,138 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:24,138 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:24,141 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:24,142 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:24,142 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:24,145 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 19:00:24,145 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:24,145 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 61*** DATA_NODE recovery: numDirs=2 testCase=12 current=true previous=true previous.tmp=true removed.tmp=true
2011-08-09 19:00:24,194 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:24,197 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:24,197 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:24,198 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:24,198 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:24,198 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:24,203 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:24,203 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:24,203 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:24,204 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:24,207 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:24,207 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:24,207 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:24,211 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:24,211 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:24,211 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:24,211 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:24,212 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:24,212 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:24,213 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:24,213 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:24,228 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:24,377 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:24,387 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:24,388 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:24,391 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:24,399 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:24,400 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:24,403 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:24,404 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:24,432 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:24,433 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 230 msecs
2011-08-09 19:00:24,433 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:24,433 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:24,434 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:24,435 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:24,438 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=49872
2011-08-09 19:00:24,438 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:49872
2011-08-09 19:00:24,438 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:24,439 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 49872: starting
2011-08-09 19:00:24,439 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 49872: starting
2011-08-09 19:00:24,439 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 49872: starting
2011-08-09 19:00:24,439 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 49872: starting
2011-08-09 19:00:24,439 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 49872: starting
2011-08-09 19:00:24,440 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 49872: starting
2011-08-09 19:00:24,440 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 49872: starting
2011-08-09 19:00:24,440 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 49872: starting
2011-08-09 19:00:24,486 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 49872: starting
2011-08-09 19:00:24,486 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 49872: starting
2011-08-09 19:00:24,487 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 49872: starting
2011-08-09 19:00:24,494 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:24,495 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:24,496 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:24,496 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 59573 webServer.getConnectors()[0].getLocalPort() returned 59573
2011-08-09 19:00:24,496 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 59573
2011-08-09 19:00:24,496 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:24,533 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:59573
2011-08-09 19:00:24,534 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:59573
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:24,912 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 19:00:24,926 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:24,926 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:24,927 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:24,927 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:25,096 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 49872
2011-08-09 19:00:25,096 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 49872: exiting
2011-08-09 19:00:25,096 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 49872: exiting
2011-08-09 19:00:25,096 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 49872: exiting
2011-08-09 19:00:25,096 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 49872: exiting
2011-08-09 19:00:25,097 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 49872: exiting
2011-08-09 19:00:25,097 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 49872: exiting
2011-08-09 19:00:25,097 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 49872: exiting
2011-08-09 19:00:25,097 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 49872: exiting
2011-08-09 19:00:25,097 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 49872: exiting
2011-08-09 19:00:25,097 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 49872: exiting
2011-08-09 19:00:25,098 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 49872
2011-08-09 19:00:25,098 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:25,098 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:25,099 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 62*** NAME_NODE recovery: numDirs=2 testCase=13 current=true previous=false previous.tmp=true removed.tmp=true
2011-08-09 19:00:25,168 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:25,171 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:25,171 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:25,172 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:25,172 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:25,172 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:25,176 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:25,176 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:25,176 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:25,176 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:25,180 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:25,180 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:25,180 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:25,183 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 19:00:25,184 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:25,184 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 63*** DATA_NODE recovery: numDirs=2 testCase=13 current=true previous=false previous.tmp=true removed.tmp=true
2011-08-09 19:00:25,230 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:25,233 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:25,233 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:25,233 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:25,233 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:25,233 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:25,238 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:25,238 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:25,238 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:25,239 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:25,242 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:25,242 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:25,242 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:25,246 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:25,246 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:25,246 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:25,247 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:25,247 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:25,247 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:25,248 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:25,248 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:25,263 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:25,277 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:25,281 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:25,282 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:25,288 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:25,295 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:25,295 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:25,298 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:25,299 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:25,322 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:25,322 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 84 msecs
2011-08-09 19:00:25,323 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:25,323 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:25,324 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:25,325 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:25,327 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=54221
2011-08-09 19:00:25,328 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:54221
2011-08-09 19:00:25,328 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:25,328 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 54221: starting
2011-08-09 19:00:25,328 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 54221: starting
2011-08-09 19:00:25,329 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 54221: starting
2011-08-09 19:00:25,329 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 54221: starting
2011-08-09 19:00:25,331 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 54221: starting
2011-08-09 19:00:25,331 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 54221: starting
2011-08-09 19:00:25,331 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 54221: starting
2011-08-09 19:00:25,349 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 54221: starting
2011-08-09 19:00:25,349 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 54221: starting
2011-08-09 19:00:25,349 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 54221: starting
2011-08-09 19:00:25,350 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 54221: starting
2011-08-09 19:00:25,357 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:25,359 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:25,359 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:25,360 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 43627 webServer.getConnectors()[0].getLocalPort() returned 43627
2011-08-09 19:00:25,360 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 43627
2011-08-09 19:00:25,360 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:25,397 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:43627
2011-08-09 19:00:25,397 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:43627
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:25,745 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 19:00:25,746 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:25,847 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:25,847 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:25,847 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:25,987 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 54221
2011-08-09 19:00:25,987 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 54221: exiting
2011-08-09 19:00:25,987 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 54221: exiting
2011-08-09 19:00:25,987 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 54221: exiting
2011-08-09 19:00:25,988 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 54221: exiting
2011-08-09 19:00:25,987 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 54221: exiting
2011-08-09 19:00:25,988 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:25,989 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 54221
2011-08-09 19:00:25,989 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:25,988 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 54221: exiting
2011-08-09 19:00:25,988 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 54221: exiting
2011-08-09 19:00:25,988 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 54221: exiting
2011-08-09 19:00:25,988 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 54221: exiting
2011-08-09 19:00:25,988 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 54221: exiting
2011-08-09 19:00:25,989 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 64*** NAME_NODE recovery: numDirs=2 testCase=14 current=false previous=true previous.tmp=true removed.tmp=true
2011-08-09 19:00:26,059 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:26,062 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:26,062 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:26,062 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:26,062 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:26,063 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:26,067 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:26,067 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:26,067 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:26,067 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:26,070 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:26,082 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:26,082 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:26,085 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 19:00:26,085 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:26,086 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 65*** DATA_NODE recovery: numDirs=2 testCase=14 current=false previous=true previous.tmp=true removed.tmp=true
2011-08-09 19:00:26,132 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:26,135 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:26,135 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:26,135 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:26,136 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:26,136 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:26,139 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:26,139 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:26,140 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:26,140 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:26,143 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:26,143 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:26,143 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:26,146 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:26,147 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:26,147 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:26,147 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:26,147 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:26,147 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:26,148 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:26,148 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:26,163 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:26,273 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:26,278 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:26,279 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:26,284 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:26,291 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:26,291 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:26,295 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:26,295 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:26,314 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:26,315 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 176 msecs
2011-08-09 19:00:26,315 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:26,315 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:26,316 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:26,317 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:26,319 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=45833
2011-08-09 19:00:26,320 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:45833
2011-08-09 19:00:26,320 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:26,321 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 45833: starting
2011-08-09 19:00:26,321 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 45833: starting
2011-08-09 19:00:26,321 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 45833: starting
2011-08-09 19:00:26,321 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 45833: starting
2011-08-09 19:00:26,321 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 45833: starting
2011-08-09 19:00:26,322 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 45833: starting
2011-08-09 19:00:26,322 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 45833: starting
2011-08-09 19:00:26,322 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 45833: starting
2011-08-09 19:00:26,322 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 45833: starting
2011-08-09 19:00:26,326 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 45833: starting
2011-08-09 19:00:26,326 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 45833: starting
2011-08-09 19:00:26,333 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:26,334 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:26,334 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:26,334 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 34338 webServer.getConnectors()[0].getLocalPort() returned 34338
2011-08-09 19:00:26,335 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 34338
2011-08-09 19:00:26,335 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:26,368 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:34338
2011-08-09 19:00:26,369 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:34338
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:26,654 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 19:00:26,698 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:26,799 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:26,799 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:26,799 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:26,925 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 45833
2011-08-09 19:00:26,925 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 45833: exiting
2011-08-09 19:00:26,925 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 45833: exiting
2011-08-09 19:00:26,925 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 45833: exiting
2011-08-09 19:00:26,926 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 45833: exiting
2011-08-09 19:00:26,926 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 45833: exiting
2011-08-09 19:00:26,926 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 45833: exiting
2011-08-09 19:00:26,926 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 45833: exiting
2011-08-09 19:00:26,926 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 45833: exiting
2011-08-09 19:00:26,926 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 45833: exiting
2011-08-09 19:00:26,926 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 45833: exiting
2011-08-09 19:00:26,927 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 45833
2011-08-09 19:00:26,927 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:26,928 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:26,928 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 66*** NAME_NODE recovery: numDirs=2 testCase=15 current=false previous=false previous.tmp=true removed.tmp=true
2011-08-09 19:00:26,974 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:27,004 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:27,005 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:27,005 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:27,005 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:27,005 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:27,011 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:27,011 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:27,011 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:27,012 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:27,015 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:27,015 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:27,016 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:27,019 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 19:00:27,019 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:27,019 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 67*** DATA_NODE recovery: numDirs=2 testCase=15 current=false previous=false previous.tmp=true removed.tmp=true
2011-08-09 19:00:27,064 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:27,067 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:27,067 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:27,068 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:27,068 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:27,068 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:27,073 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:27,073 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:27,073 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:27,073 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:27,076 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:27,077 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:27,077 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:27,080 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:27,081 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:27,081 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:27,081 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:27,081 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:27,082 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:27,082 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:27,083 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:27,096 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:27,111 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:27,119 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:27,119 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:27,122 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:27,128 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:27,129 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:27,136 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:27,136 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:27,155 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:27,155 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 82 msecs
2011-08-09 19:00:27,156 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:27,156 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:27,157 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:27,158 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:27,160 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=56935
2011-08-09 19:00:27,161 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:56935
2011-08-09 19:00:27,161 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:27,161 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 56935: starting
2011-08-09 19:00:27,161 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 56935: starting
2011-08-09 19:00:27,161 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 56935: starting
2011-08-09 19:00:27,161 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 56935: starting
2011-08-09 19:00:27,162 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 56935: starting
2011-08-09 19:00:27,162 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 56935: starting
2011-08-09 19:00:27,162 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 56935: starting
2011-08-09 19:00:27,162 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 56935: starting
2011-08-09 19:00:27,162 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 56935: starting
2011-08-09 19:00:27,162 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 56935: starting
2011-08-09 19:00:27,163 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 56935: starting
2011-08-09 19:00:27,174 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:27,175 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:27,176 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:27,176 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 52352 webServer.getConnectors()[0].getLocalPort() returned 52352
2011-08-09 19:00:27,176 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 52352
2011-08-09 19:00:27,176 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:27,210 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:52352
2011-08-09 19:00:27,210 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:52352
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:27,381 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: too many temporary directories.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:408)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 19:00:27,429 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:27,530 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:27,531 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:27,531 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:27,622 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 56935
2011-08-09 19:00:27,622 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 56935: exiting
2011-08-09 19:00:27,622 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 56935: exiting
2011-08-09 19:00:27,622 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 56935: exiting
2011-08-09 19:00:27,624 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 56935: exiting
2011-08-09 19:00:27,624 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 56935: exiting
2011-08-09 19:00:27,624 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 56935: exiting
2011-08-09 19:00:27,624 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 56935: exiting
2011-08-09 19:00:27,624 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 56935: exiting
2011-08-09 19:00:27,625 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 56935: exiting
2011-08-09 19:00:27,625 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 56935: exiting
2011-08-09 19:00:27,625 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 56935
2011-08-09 19:00:27,626 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:27,626 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:27,626 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 68*** NAME_NODE recovery: numDirs=2 testCase=16 current=false previous=false previous.tmp=false removed.tmp=true
2011-08-09 19:00:27,650 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:27,653 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:27,653 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:27,653 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:27,653 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:27,653 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:27,659 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:27,660 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:27,660 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:27,660 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:27,663 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:27,663 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:27,663 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:27,667 ERROR namenode.FSNamesystem (FSNamesystem.java:<init>(347)) - FSNamesystem initialization failed.
org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 is in an inconsistent state: one and only one directory current or previous must be present when removed.tmp exists.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:437)
	at org.apache.hadoop.hdfs.server.namenode.FSImage.recoverTransitionRead(FSImage.java:378)
	at org.apache.hadoop.hdfs.server.namenode.FSDirectory.loadFSImage(FSDirectory.java:151)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.initialize(FSNamesystem.java:369)
	at org.apache.hadoop.hdfs.server.namenode.FSNamesystem.<init>(FSNamesystem.java:345)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:273)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.<init>(NameNode.java:357)
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:1246)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:342)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:260)
	at org.apache.hadoop.hdfs.MiniDFSCluster.<init>(MiniDFSCluster.java:101)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)
2011-08-09 19:00:27,667 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:27,667 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 69*** DATA_NODE recovery: numDirs=2 testCase=16 current=false previous=false previous.tmp=false removed.tmp=true
2011-08-09 19:00:27,716 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:27,719 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:27,719 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:27,719 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:27,720 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:27,720 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:27,724 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:27,725 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:27,725 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:27,725 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:27,728 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:27,728 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:27,728 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:27,732 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:27,732 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:27,732 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:27,732 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:27,732 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:27,733 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:27,734 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:27,734 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:27,748 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:27,856 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:27,862 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:27,871 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:27,872 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:27,887 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:27,887 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:27,891 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:27,891 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:27,910 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:27,910 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 186 msecs
2011-08-09 19:00:27,910 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:27,911 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:27,911 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:27,912 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:27,915 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=43312
2011-08-09 19:00:27,915 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:43312
2011-08-09 19:00:27,915 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:27,916 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 43312: starting
2011-08-09 19:00:27,916 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 43312: starting
2011-08-09 19:00:27,916 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 43312: starting
2011-08-09 19:00:27,916 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 43312: starting
2011-08-09 19:00:27,916 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 43312: starting
2011-08-09 19:00:27,916 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 43312: starting
2011-08-09 19:00:27,917 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 43312: starting
2011-08-09 19:00:27,917 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 43312: starting
2011-08-09 19:00:27,917 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 43312: starting
2011-08-09 19:00:27,917 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 43312: starting
2011-08-09 19:00:27,917 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 43312: starting
2011-08-09 19:00:27,928 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:27,929 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:27,930 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:27,930 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 35024 webServer.getConnectors()[0].getLocalPort() returned 35024
2011-08-09 19:00:27,930 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 35024
2011-08-09 19:00:27,930 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:27,963 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:35024
2011-08-09 19:00:27,964 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:35024
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:28,060 INFO  datanode.DataNode (DataNode.java:<init>(227)) - Failed to start datanode org.apache.hadoop.hdfs.server.common.InconsistentFSStateException: Directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 is in an inconsistent state: one and only one directory current or previous must be present when removed.tmp exists.
	at org.apache.hadoop.hdfs.server.common.Storage$StorageDirectory.analyzeStorage(Storage.java:437)
	at org.apache.hadoop.hdfs.server.datanode.DataStorage.recoverTransitionRead(DataStorage.java:113)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.startDataNode(DataNode.java:308)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.<init>(DataNode.java:225)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.makeInstance(DataNode.java:1379)
	at org.apache.hadoop.hdfs.server.datanode.DataNode.instantiateDataNode(DataNode.java:1334)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:485)
	at org.apache.hadoop.hdfs.MiniDFSCluster.startDataNodes(MiniDFSCluster.java:526)
	at org.apache.hadoop.hdfs.TestDFSStorageStateRecovery.testStorageStates(TestDFSStorageStateRecovery.java:226)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:79)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:421)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:912)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:766)

Shutting down the Mini HDFS Cluster
2011-08-09 19:00:28,061 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:28,162 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:28,163 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:28,163 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:28,209 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 43312
2011-08-09 19:00:28,209 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 43312: exiting
2011-08-09 19:00:28,210 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 43312: exiting
2011-08-09 19:00:28,210 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 43312: exiting
2011-08-09 19:00:28,210 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 43312: exiting
2011-08-09 19:00:28,210 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 43312: exiting
2011-08-09 19:00:28,210 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 43312: exiting
2011-08-09 19:00:28,211 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 43312: exiting
2011-08-09 19:00:28,211 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 43312: exiting
2011-08-09 19:00:28,211 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 43312: exiting
2011-08-09 19:00:28,211 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 43312: exiting
2011-08-09 19:00:28,211 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 43312
2011-08-09 19:00:28,212 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:28,212 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:28,212 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 70*** NAME_NODE recovery: numDirs=2 testCase=17 current=false previous=true previous.tmp=false removed.tmp=true
2011-08-09 19:00:28,258 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:28,261 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:28,261 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:28,262 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:28,262 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:28,262 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:28,268 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:28,268 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:28,268 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:28,269 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:28,272 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:28,272 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:28,272 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:28,275 INFO  common.Storage (Storage.java:doRecover(475)) - Recovering storage directory /home/jeff/hadoop-20-warehouse/build/test/data/name1 from previous rollback.
2011-08-09 19:00:28,276 INFO  common.Storage (Storage.java:doRecover(475)) - Recovering storage directory /home/jeff/hadoop-20-warehouse/build/test/data/name2 from previous rollback.
2011-08-09 19:00:28,276 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:28,277 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:28,277 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:28,277 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:28,277 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:28,277 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:28,278 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:28,278 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:28,293 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:28,308 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:28,314 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:28,323 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:28,323 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:28,328 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:28,329 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:28,337 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:28,337 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:28,357 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:28,357 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 89 msecs
2011-08-09 19:00:28,357 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:28,357 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:28,358 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:28,359 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:28,362 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=53160
2011-08-09 19:00:28,362 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:53160
2011-08-09 19:00:28,362 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:28,363 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 53160: starting
2011-08-09 19:00:28,363 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 53160: starting
2011-08-09 19:00:28,363 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 53160: starting
2011-08-09 19:00:28,363 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 53160: starting
2011-08-09 19:00:28,363 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 53160: starting
2011-08-09 19:00:28,364 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 53160: starting
2011-08-09 19:00:28,364 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 53160: starting
2011-08-09 19:00:28,364 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 53160: starting
2011-08-09 19:00:28,364 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 53160: starting
2011-08-09 19:00:28,364 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 53160: starting
2011-08-09 19:00:28,365 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 53160: starting
2011-08-09 19:00:28,372 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:28,373 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:28,373 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:28,373 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 59492 webServer.getConnectors()[0].getLocalPort() returned 59492
2011-08-09 19:00:28,373 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 59492
2011-08-09 19:00:28,374 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:28,411 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:59492
2011-08-09 19:00:28,411 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:59492
Shutting down the Mini HDFS Cluster
2011-08-09 19:00:28,466 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:28,567 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:28,567 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:28,567 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:28,574 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 53160
2011-08-09 19:00:28,574 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 53160: exiting
2011-08-09 19:00:28,574 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 53160: exiting
2011-08-09 19:00:28,574 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 53160: exiting
2011-08-09 19:00:28,574 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 53160: exiting
2011-08-09 19:00:28,575 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 53160: exiting
2011-08-09 19:00:28,575 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 53160: exiting
2011-08-09 19:00:28,575 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 53160: exiting
2011-08-09 19:00:28,575 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 53160: exiting
2011-08-09 19:00:28,575 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 53160: exiting
2011-08-09 19:00:28,575 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 53160: exiting
2011-08-09 19:00:28,576 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 53160
2011-08-09 19:00:28,576 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:28,576 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(85)) - ============================================================
2011-08-09 19:00:28,577 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:log(86)) - ***TEST 71*** DATA_NODE recovery: numDirs=2 testCase=17 current=false previous=true previous.tmp=false removed.tmp=true
2011-08-09 19:00:28,623 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=NameNode, sessionId=null - already initialized
2011-08-09 19:00:28,626 INFO  metrics.NameNodeMetrics (NameNodeMetrics.java:<init>(145)) - Initializing NameNodeMeterics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:28,626 INFO  util.GSet (BlocksMap.java:computeCapacity(342)) - VM type       = 64-bit
2011-08-09 19:00:28,626 INFO  util.GSet (BlocksMap.java:computeCapacity(343)) - 2% max memory = 9.89875 MB
2011-08-09 19:00:28,627 INFO  util.GSet (BlocksMap.java:computeCapacity(344)) - capacity      = 2^20 = 1048576 entries
2011-08-09 19:00:28,627 INFO  util.GSet (LightWeightGSet.java:<init>(79)) - recommended=1048576, actual=1048576
2011-08-09 19:00:28,633 WARN  namenode.FSNamesystem (ConfigManager.java:<init>(56)) - No whitelist file specified in dfs.namenode.whitelist.file. The namenode will allow deletion/renaming of any directory.
2011-08-09 19:00:28,634 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(521)) - fsOwner=jeff,jeff
2011-08-09 19:00:28,634 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(527)) - supergroup=supergroup
2011-08-09 19:00:28,634 INFO  namenode.FSNamesystem (FSNamesystem.java:setConfigurationParameters(528)) - isPermissionEnabled=true
2011-08-09 19:00:28,637 INFO  metrics.FSNamesystemMetrics (FSNamesystemMetrics.java:<init>(71)) - Initializing FSNamesystemMetrics using context object:org.apache.hadoop.metrics.spi.NullContext
2011-08-09 19:00:28,638 INFO  namenode.FSNamesystem (FSNamesystem.java:registerMBean(5940)) - Registered FSNamesystemStatusMBean
2011-08-09 19:00:28,638 INFO  namenode.NameNode (FSDirectory.java:<init>(126)) - Caching file names occuring more than 10 times 
2011-08-09 19:00:28,642 INFO  common.Storage (FSImage.java:loadFSImage(1034)) - Number of files = 4
2011-08-09 19:00:28,642 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 25% of the image
2011-08-09 19:00:28,642 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 50% of the image
2011-08-09 19:00:28,642 INFO  common.Storage (FSImage.java:loadFSImage(1043)) - Loaded 75% of the image
2011-08-09 19:00:28,642 INFO  common.Storage (FSImage.java:loadFilesUnderConstruction(1499)) - Number of files under construction = 0
2011-08-09 19:00:28,643 INFO  common.Storage (FSImage.java:loadFSImage(1144)) - Image file of size 501 loaded in 0 seconds.
2011-08-09 19:00:28,644 INFO  common.Storage (FSEditLog.java:loadFSEdits(886)) - Edits file /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits of size 648 edits # 6 loaded in 0 seconds.
2011-08-09 19:00:28,644 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:28,658 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:28,767 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:28,773 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:28,773 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:28,780 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:28,785 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits.new is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:28,795 INFO  common.Storage (FSImage.java:saveFSImage(1268)) - Image file of size 829 saved in 0 seconds.
2011-08-09 19:00:28,795 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:28,796 INFO  namenode.FSNamesystem (FSEditLog.java:<init>(157)) - Edit Log preallocate size for /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits is 1048576 bytes  and initial size of edits buffer is 524288 bytes. Max number of buffered transactions is 10000
2011-08-09 19:00:28,813 INFO  namenode.NameCache (NameCache.java:initialized(143)) - initialized with 0 entries 0 lookups
2011-08-09 19:00:28,813 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(372)) - Finished loading FSImage in 180 msecs
2011-08-09 19:00:28,814 INFO  hdfs.StateChange (FSNamesystem.java:reportStatus(5472)) - STATE* Safe mode ON. 
The ratio of reported blocks 0.00000000 has not reached the threshold 0.99900001. Safe blocks = 0, Total blocks = 16.Safe mode will be turned off automatically.
2011-08-09 19:00:28,814 INFO  namenode.FSNamesystem (FSNamesystem.java:initialize(388)) - Skip counting items in the file tree
2011-08-09 19:00:28,815 INFO  util.HostsFileReader (HostsFileReader.java:refresh(80)) - Refreshing hosts (include/exclude) list
2011-08-09 19:00:28,815 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:28,818 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=NameNode, port=41632
2011-08-09 19:00:28,819 INFO  namenode.NameNode (NameNode.java:startServerForClientRequests(396)) - Namenode up at: localhost/127.0.0.1:41632
2011-08-09 19:00:28,819 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:28,819 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 41632: starting
2011-08-09 19:00:28,819 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 41632: starting
2011-08-09 19:00:28,820 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 41632: starting
2011-08-09 19:00:28,820 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 41632: starting
2011-08-09 19:00:28,820 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 3 on 41632: starting
2011-08-09 19:00:28,820 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 4 on 41632: starting
2011-08-09 19:00:28,820 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 5 on 41632: starting
2011-08-09 19:00:28,820 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 6 on 41632: starting
2011-08-09 19:00:28,821 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 7 on 41632: starting
2011-08-09 19:00:28,821 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 8 on 41632: starting
2011-08-09 19:00:28,821 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 9 on 41632: starting
2011-08-09 19:00:28,828 WARN  fs.Trash (Trash.java:<init>(232)) - The configured interval for checkpoint is 0 minutes. Using interval of 0 minutes that is used for deletion instead
2011-08-09 19:00:28,829 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:28,830 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:28,830 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 47698 webServer.getConnectors()[0].getLocalPort() returned 47698
2011-08-09 19:00:28,830 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 47698
2011-08-09 19:00:28,830 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:28,868 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:47698
2011-08-09 19:00:28,868 INFO  namenode.NameNode (NameNode.java:startHttpServer(329)) - Web-server up at: localhost:47698
Starting DataNode 0 with dfs.data.dir: /home/jeff/hadoop-20-warehouse/build/test/data/data1,/home/jeff/hadoop-20-warehouse/build/test/data/data2
2011-08-09 19:00:29,073 INFO  common.Storage (Storage.java:doRecover(475)) - Recovering storage directory /home/jeff/hadoop-20-warehouse/build/test/data/data1 from previous rollback.
2011-08-09 19:00:29,074 INFO  common.Storage (Storage.java:doRecover(475)) - Recovering storage directory /home/jeff/hadoop-20-warehouse/build/test/data/data2 from previous rollback.
2011-08-09 19:00:29,341 INFO  datanode.DataNode (FSDataset.java:registerMBean(1597)) - Registered FSDatasetStatusMBean
2011-08-09 19:00:29,343 INFO  datanode.DataNode (DataNode.java:startDataNode(327)) - Opened info server at 42502
2011-08-09 19:00:29,343 INFO  datanode.DataNode (DataXceiverServer.java:<init>(75)) - Balancing bandwith is 1048576 bytes/s
2011-08-09 19:00:29,343 INFO  datanode.DataNode (DataNode.java:startDataNode(359)) - Periodic Block Verification is disabled because verification is turned off by configuration.
2011-08-09 19:00:29,345 INFO  http.HttpServer (HttpServer.java:addGlobalFilter(297)) - Added global filtersafety (class=org.apache.hadoop.http.HttpServer$QuotingInputFilter)
2011-08-09 19:00:29,346 INFO  http.HttpServer (HttpServer.java:start(437)) - Port returned by webServer.getConnectors()[0].getLocalPort() before open() is -1. Opening the listener on 0
2011-08-09 19:00:29,346 INFO  http.HttpServer (HttpServer.java:start(442)) - listener.getLocalPort() returned 54308 webServer.getConnectors()[0].getLocalPort() returned 54308
2011-08-09 19:00:29,347 INFO  http.HttpServer (HttpServer.java:start(475)) - Jetty bound to port 54308
2011-08-09 19:00:29,347 INFO  mortbay.log (Slf4jLog.java:info(67)) - jetty-6.1.26
2011-08-09 19:00:29,407 INFO  mortbay.log (Slf4jLog.java:info(67)) - Started SelectChannelConnector@localhost:54308
2011-08-09 19:00:29,408 INFO  jvm.JvmMetrics (JvmMetrics.java:init(66)) - Cannot initialize JVM Metrics with processName=DataNode, sessionId=null - already initialized
2011-08-09 19:00:29,412 INFO  ipc.Server (Server.java:run(307)) - Starting SocketReader
2011-08-09 19:00:29,415 INFO  metrics.RpcMetrics (RpcMetrics.java:<init>(59)) - Initializing RPC Metrics with hostName=DataNode, port=57340
2011-08-09 19:00:29,416 INFO  ipc.Server (Server.java:run(581)) - IPC Server Responder: starting
2011-08-09 19:00:29,416 INFO  ipc.Server (Server.java:run(408)) - IPC Server listener on 57340: starting
2011-08-09 19:00:29,416 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 0 on 57340: starting
2011-08-09 19:00:29,417 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 1 on 57340: starting
2011-08-09 19:00:29,417 INFO  datanode.DataNode (DataNode.java:startDataNode(418)) - dnRegistration = DatanodeRegistration(m3vm6.tuenti.local:42502, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=54308, ipcPort=57340)
2011-08-09 19:00:29,418 INFO  ipc.Server (Server.java:run(1044)) - IPC Server handler 2 on 57340: starting
2011-08-09 19:00:29,420 INFO  hdfs.StateChange (FSNamesystem.java:registerDatanode(2757)) - BLOCK* NameSystem.registerDatanode: node registration from 127.0.0.1:42502 storage DS-1061207207-10.0.62.238-35102-1312909180951
2011-08-09 19:00:29,421 INFO  net.NetworkTopology (NetworkTopology.java:add(328)) - Adding a new node: /default-rack/127.0.0.1:42502
2011-08-09 19:00:29,422 INFO  datanode.DataNode (DataNode.java:run(1274)) - DatanodeRegistration(127.0.0.1:42502, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=54308, ipcPort=57340)In DataNode.run, data = FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/data2/current'}
2011-08-09 19:00:29,423 INFO  datanode.DataNode (DataNode.java:offerService(756)) - using BLOCKREPORT_INTERVAL of 10000msec Initial delay: 0msec
2011-08-09 19:00:29,460 INFO  datanode.DataNode (FSDataset.java:getBlockInfo(601)) - Finished generating block report for 2 volumes in 0 seconds
2011-08-09 19:00:29,462 INFO  hdfs.StateChange (FSNamesystem.java:processReport(3701)) - BLOCK* NameSystem.processReport: from 127.0.0.1:42502 16 blocks shortCircuit first report.
2011-08-09 19:00:29,463 INFO  namenode.FSNamesystem (FSNamesystem.java:initializeReplQueues(5294)) - initializing replication queues
Shutting down the Mini HDFS Cluster
Shutting down DataNode 0
2011-08-09 19:00:29,467 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4047)) - Total number of blocks = 16
2011-08-09 19:00:29,468 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4048)) - Number of invalid blocks = 0
2011-08-09 19:00:29,468 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4049)) - Number of under-replicated blocks = 1
2011-08-09 19:00:29,469 INFO  namenode.FSNamesystem (FSNamesystem.java:processMisReplicatedBlocks(4050)) - Number of  over-replicated blocks = 0
2011-08-09 19:00:29,486 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:29,488 INFO  hdfs.StateChange (FSNamesystem.java:leave(5269)) - STATE* Leaving safe mode after 0 secs.
2011-08-09 19:00:29,488 INFO  hdfs.StateChange (FSNamesystem.java:leave(5274)) - STATE* Safe mode is OFF.
2011-08-09 19:00:29,488 INFO  hdfs.StateChange (FSNamesystem.java:leave(5283)) - STATE* Network topology has 1 racks and 1 datanodes
2011-08-09 19:00:29,488 INFO  hdfs.StateChange (FSNamesystem.java:leave(5286)) - STATE* UnderReplicatedBlocks has 1 blocks
2011-08-09 19:00:29,489 INFO  datanode.DataNode (DataNode.java:offerService(839)) - BlockReport of 16 blocks got processed in 34 msecs
2011-08-09 19:00:29,587 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 57340
2011-08-09 19:00:29,588 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 57340: exiting
2011-08-09 19:00:29,588 WARN  datanode.DataNode (DataXceiverServer.java:run(138)) - DatanodeRegistration(127.0.0.1:42502, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=54308, ipcPort=57340):DataXceiveServer: java.nio.channels.AsynchronousCloseException
	at java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:152)
	at sun.nio.ch.ServerSocketAdaptor.accept(ServerSocketAdaptor.java:84)
	at org.apache.hadoop.hdfs.server.datanode.DataXceiverServer.run(DataXceiverServer.java:131)
	at java.lang.Thread.run(Thread.java:662)

2011-08-09 19:00:29,589 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 57340: exiting
2011-08-09 19:00:29,589 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 57340: exiting
2011-08-09 19:00:29,588 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 57340
2011-08-09 19:00:29,588 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 1
2011-08-09 19:00:29,588 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:29,590 INFO  datanode.DataNode (DataNode.java:run(1294)) - DatanodeRegistration(127.0.0.1:42502, storageID=DS-1061207207-10.0.62.238-35102-1312909180951, infoPort=54308, ipcPort=57340):Finishing DataNode in: FSDataset{dirpath='/home/jeff/hadoop-20-warehouse/build/test/data/data1/current,/home/jeff/hadoop-20-warehouse/build/test/data/data2/current'}
2011-08-09 19:00:29,591 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 57340
2011-08-09 19:00:29,591 INFO  datanode.DataNode (DataNode.java:shutdown(632)) - Waiting for threadgroup to exit, active threads is 0
2011-08-09 19:00:29,592 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(128)) - Shutting down all async disk service threads...
2011-08-09 19:00:29,592 INFO  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(137)) - All async disk service threads have been shut down.
2011-08-09 19:00:29,593 WARN  datanode.FSDatasetAsyncDiskService (FSDatasetAsyncDiskService.java:shutdown(125)) - AsyncDiskService has already shut down.
2011-08-09 19:00:29,632 INFO  mortbay.log (Slf4jLog.java:info(67)) - Stopped SelectChannelConnector@localhost:0
2011-08-09 19:00:29,734 WARN  namenode.FSNamesystem (FSNamesystem.java:run(3042)) - ReplicationMonitor thread received InterruptedException.java.lang.InterruptedException: sleep interrupted
2011-08-09 19:00:29,734 INFO  namenode.DecommissionManager (DecommissionManager.java:waitForWork(254)) - Interrupted Monitor
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at java.lang.Object.wait(Object.java:485)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.waitForWork(DecommissionManager.java:244)
	at org.apache.hadoop.hdfs.server.namenode.DecommissionManager$Monitor.run(DecommissionManager.java:267)
	at java.lang.Thread.run(Thread.java:662)
2011-08-09 19:00:29,735 INFO  namenode.FSNamesystem (FSEditLog.java:printStatistics(1125)) - Number of transactions: 0 Total time for transactions(ms): 0 Number of transactions batched in Syncs: 0 Number of syncs: 0 SyncTimes(ms):  /home/jeff/hadoop-20-warehouse/build/test/data/name1/current/edits:0  /home/jeff/hadoop-20-warehouse/build/test/data/name2/current/edits:0 
2011-08-09 19:00:29,742 INFO  ipc.Server (Server.java:stop(1226)) - Stopping server on 41632
2011-08-09 19:00:29,742 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 0 on 41632: exiting
2011-08-09 19:00:29,743 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 1 on 41632: exiting
2011-08-09 19:00:29,743 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 2 on 41632: exiting
2011-08-09 19:00:29,743 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 3 on 41632: exiting
2011-08-09 19:00:29,743 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 4 on 41632: exiting
2011-08-09 19:00:29,743 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 5 on 41632: exiting
2011-08-09 19:00:29,744 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 6 on 41632: exiting
2011-08-09 19:00:29,744 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 7 on 41632: exiting
2011-08-09 19:00:29,744 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 8 on 41632: exiting
2011-08-09 19:00:29,744 INFO  ipc.Server (Server.java:run(1110)) - IPC Server handler 9 on 41632: exiting
2011-08-09 19:00:29,745 INFO  ipc.Server (Server.java:run(447)) - Stopping IPC Server listener on 41632
2011-08-09 19:00:29,746 INFO  ipc.Server (Server.java:run(646)) - Stopping IPC Server Responder
2011-08-09 19:00:29,746 INFO  hdfs.TestDFSStorageStateRecovery (TestDFSStorageStateRecovery.java:tearDown(239)) - Shutting down MiniDFSCluster
Shutting down the Mini HDFS Cluster
------------- ---------------- ---------------

Testcase: testStorageStates took 109.158 sec
